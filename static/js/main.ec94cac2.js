/*! For license information please see main.ec94cac2.js.LICENSE.txt */
!function(){var e={89:function(e){"use strict";function t(e,t,r){r=r||2;var a,s,o,u,c,d,p,v=t&&t.length,m=v?t[0]*r:e.length,g=n(e,0,m,r,!0),y=[];if(!g||g.next===g.prev)return y;if(v&&(g=function(e,t,r,i){var a,s,o,u=[];for(a=0,s=t.length;a<s;a++)(o=n(e,t[a]*i,a<s-1?t[a+1]*i:e.length,i,!1))===o.next&&(o.steiner=!0),u.push(f(o));for(u.sort(l),a=0;a<u.length;a++)r=h(u[a],r);return r}(e,t,g,r)),e.length>80*r){a=o=e[0],s=u=e[1];for(var _=r;_<m;_+=r)(c=e[_])<a&&(a=c),(d=e[_+1])<s&&(s=d),c>o&&(o=c),d>u&&(u=d);p=0!==(p=Math.max(o-a,u-s))?32767/p:0}return i(g,y,r,a,s,p,0),y}function n(e,t,n,r,i){var a,s;if(i===A(e,t,n,r)>0)for(a=t;a<n;a+=r)s=k(a,e[a],e[a+1],s);else for(a=n-r;a>=t;a-=r)s=k(a,e[a],e[a+1],s);return s&&g(s,s.next)&&(E(s),s=s.next),s}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!g(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(E(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,l,h,c,f){if(e){!f&&c&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=d(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,s,o,u,l=1;do{for(n=e,e=null,a=null,s=0;n;){for(s++,r=n,o=0,t=0;t<l&&(o++,r=r.nextZ);t++);for(u=l;o>0||u>0&&r;)0!==o&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(s>1)}(i)}(e,l,h,c);for(var p,v,m=e;e.prev!==e.next;)if(p=e.prev,v=e.next,c?s(e,l,h,c):a(e))t.push(p.i/n|0),t.push(e.i/n|0),t.push(v.i/n|0),E(e),e=v.next,m=v.next;else if((e=v)===m){f?1===f?i(e=o(r(e),t,n),t,n,l,h,c,2):2===f&&u(e,t,n,l,h,c):i(r(e),t,n,l,h,c,1);break}}}function a(e){var t=e.prev,n=e,r=e.next;if(m(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,s=r.x,o=t.y,u=n.y,l=r.y,h=i<a?i<s?i:s:a<s?a:s,c=o<u?o<l?o:l:u<l?u:l,d=i>a?i>s?i:s:a>s?a:s,f=o>u?o>l?o:l:u>l?u:l,v=r.next;v!==t;){if(v.x>=h&&v.x<=d&&v.y>=c&&v.y<=f&&p(i,o,a,u,s,l,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function s(e,t,n,r){var i=e.prev,a=e,s=e.next;if(m(i,a,s)>=0)return!1;for(var o=i.x,u=a.x,l=s.x,h=i.y,c=a.y,f=s.y,v=o<u?o<l?o:l:u<l?u:l,g=h<c?h<f?h:f:c<f?c:f,y=o>u?o>l?o:l:u>l?u:l,_=h>c?h>f?h:f:c>f?c:f,b=d(v,g,t,n,r),x=d(y,_,t,n,r),w=e.prevZ,k=e.nextZ;w&&w.z>=b&&k&&k.z<=x;){if(w.x>=v&&w.x<=y&&w.y>=g&&w.y<=_&&w!==i&&w!==s&&p(o,h,u,c,l,f,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,k.x>=v&&k.x<=y&&k.y>=g&&k.y<=_&&k!==i&&k!==s&&p(o,h,u,c,l,f,k.x,k.y)&&m(k.prev,k,k.next)>=0)return!1;k=k.nextZ}for(;w&&w.z>=b;){if(w.x>=v&&w.x<=y&&w.y>=g&&w.y<=_&&w!==i&&w!==s&&p(o,h,u,c,l,f,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;k&&k.z<=x;){if(k.x>=v&&k.x<=y&&k.y>=g&&k.y<=_&&k!==i&&k!==s&&p(o,h,u,c,l,f,k.x,k.y)&&m(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function o(e,t,n){var i=e;do{var a=i.prev,s=i.next.next;!g(a,s)&&y(a,i,i.next,s)&&x(a,s)&&x(s,a)&&(t.push(a.i/n|0),t.push(i.i/n|0),t.push(s.i/n|0),E(i),E(i.next),i=e=s),i=i.next}while(i!==e);return r(i)}function u(e,t,n,a,s,o){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var h=w(u,l);return u=r(u,u.next),h=r(h,h.next),i(u,t,n,a,s,o,0),void i(h,t,n,a,s,o,0)}l=l.next}u=u.next}while(u!==e)}function l(e,t){return e.x-t.x}function h(e,t){var n=function(e,t){var n,r=t,i=e.x,a=e.y,s=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var o=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=i&&o>s&&(s=o,n=r.x<r.next.x?r:r.next,o===i))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,h=n.x,d=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=h&&i!==r.x&&p(a<d?i:s,a,h,d,a<d?s:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),x(r,e)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&c(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var i=w(n,e);return r(i,i.next),r(n,n.next)}function c(e,t){return m(e.prev,e,t.prev)<0&&m(t.next,e,e.next)<0}function d(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function f(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function p(e,t,n,r,i,a,s,o){return(i-s)*(t-o)>=(e-s)*(a-o)&&(e-s)*(r-o)>=(n-s)*(t-o)&&(n-s)*(a-o)>=(i-s)*(r-o)}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(x(e,t)&&x(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(m(e.prev,e,t.prev)||m(e,t.prev,t))||g(e,t)&&m(e.prev,e,e.next)>0&&m(t.prev,t,t.next)>0)}function m(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function g(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){var i=b(m(e,t,n)),a=b(m(e,t,r)),s=b(m(n,r,e)),o=b(m(n,r,t));return i!==a&&s!==o||(!(0!==i||!_(e,n,t))||(!(0!==a||!_(e,r,t))||(!(0!==s||!_(n,e,r))||!(0!==o||!_(n,t,r)))))}function _(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function b(e){return e>0?1:e<0?-1:0}function x(e,t){return m(e.prev,e,e.next)<0?m(e,t,e.next)>=0&&m(e,e.prev,t)>=0:m(e,t,e.prev)<0||m(e,e.next,t)<0}function w(e,t){var n=new T(e.i,e.x,e.y),r=new T(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function k(e,t,n,r){var i=new T(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function T(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(e,t,n,r){for(var i=0,a=t,s=n-r;a<n;a+=r)i+=(e[s]-e[a])*(e[a+1]+e[s+1]),s=a;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,s=Math.abs(A(e,0,a,n));if(i)for(var o=0,u=t.length;o<u;o++){var l=t[o]*n,h=o<u-1?t[o+1]*n:e.length;s-=Math.abs(A(e,l,h,n))}var c=0;for(o=0;o<r.length;o+=3){var d=r[o]*n,f=r[o+1]*n,p=r[o+2]*n;c+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var s=0;s<t;s++)n.vertices.push(e[i][a][s]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},143:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var u,l,h=this._events[o],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,r),!0;case 4:return h.fn.call(h.context,t,r,i),!0;case 5:return h.fn.call(h.context,t,r,i,a),!0;case 6:return h.fn.call(h.context,t,r,i,a,s),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var d,f=h.length;for(l=0;l<f;l++)switch(h[l].once&&this.removeListener(e,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,t);break;case 3:h[l].fn.call(h[l].context,t,r);break;case 4:h[l].fn.call(h[l].context,t,r,i);break;default:if(!u)for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];h[l].fn.apply(h[l].context,u)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var u=0,l=[],h=o.length;u<h;u++)(o[u].fn!==t||i&&!o[u].once||r&&o[u].context!==r)&&l.push(o[u]);l.length?this._events[a]=1===l.length?l[0]:l:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},59:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(n);var o=1e3;i&&"number"===typeof i.maxKeys&&(o=i.maxKeys);var u=e.length;o>0&&u>o&&(u=o);for(var l=0;l<u;++l){var h,c,d,f,p=e[l].replace(s,"%20"),v=p.indexOf(r);v>=0?(h=p.substr(0,v),c=p.substr(v+1)):(h=p,c=""),d=decodeURIComponent(h),f=decodeURIComponent(c),t(a,d)?Array.isArray(a[d])?a[d].push(f):a[d]=[a[d],f]:a[d]=f}return a}},297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},863:function(e,t,n){"use strict";t.decode=t.parse=n(59),t.encode=t.stringify=n(297)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!c.call(p,e)||!c.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var B,L=Object.assign;function F(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var U=!1;function G(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var u="\n"+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=s&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 1:return e=G(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case T:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ae(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,he,ce=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ee=null;function Te(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),we(e.stateNode,e.type,t))}}function Ae(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Se(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Pe(){}var Re=!1;function Ie(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==ke||null!==Ee)&&(Pe(),Se())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(h)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(he){Oe=!1}function Ne(e,t,n,r,i,a,s,o,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(h){this.onError(h)}}var Be=!1,Le=null,Fe=!1,Ue=null,Ge={onError:function(e){Be=!0,Le=e}};function ze(e,t,n,r,i,a,s,o,u){Be=!1,Le=null,Ne.apply(Ge,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(je(e)!==e)throw Error(a(188))}function Xe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ve(i),e;if(s===r)return Ve(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ut|0)|0},ot=Math.log,ut=Math.LN2;var lt=64,ht=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=ct(o):0!==(a&=s)&&(r=ct(a))}else 0!==(s=n&~i)?r=ct(s):0!==a&&(r=ct(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,kt,Et,Tt,At=!1,St=[],Ct=null,Pt=null,Rt=null,It=new Map,Mt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Bt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Gt(){At=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Rt&&Ft(Rt)&&(Rt=null),It.forEach(Ut),Mt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Gt)))}function jt(e){function t(t){return zt(t,e)}if(0<St.length){zt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Pt&&zt(Pt,e),null!==Rt&&zt(Rt,e),It.forEach(t),Mt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Ht=b.ReactCurrentBatchConfig,Vt=!0;function Xt(e,t,n,r){var i=_t,a=Ht.transition;Ht.transition=null;try{_t=1,Yt(e,t,n,r)}finally{_t=i,Ht.transition=a}}function Wt(e,t,n,r){var i=_t,a=Ht.transition;Ht.transition=null;try{_t=4,Yt(e,t,n,r)}finally{_t=i,Ht.transition=a}}function Yt(e,t,n,r){if(Vt){var i=Kt(e,t,n,r);if(null===i)Vr(e,t,r,qt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Bt(Ct,e,t,n,r,i),!0;case"dragenter":return Pt=Bt(Pt,e,t,n,r,i),!0;case"mouseover":return Rt=Bt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return It.set(a,Bt(It.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mt.set(a,Bt(Mt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&xt(a),null===(a=Kt(e,t,n,r))&&Vr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var qt=null;function Kt(e,t,n,r){if(qt=null,null!==(e=yi(e=xe(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(ln),cn=L({},ln,{view:0,detail:0}),dn=an(cn),fn=L({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,on=e.screenY-un.screenY):on=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),vn=an(L({},fn,{dataTransfer:0})),mn=an(L({},cn,{relatedTarget:0})),gn=an(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(yn),bn=an(L({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return En}var An=L({},cn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(An),Cn=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(L({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Rn=an(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(In),On=[9,13,27,32],Dn=h&&"CompositionEvent"in window,Nn=null;h&&"documentMode"in document&&(Nn=document.documentMode);var Bn=h&&"TextEvent"in window&&!Nn,Ln=h&&(!Dn||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),Un=!1;function Gn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Xn(e,t,n,r){Ae(r),0<(t=Wr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Yn=null;function qn(e){Fr(e,0)}function Kn(e){if(Y(bi(e)))return e}function Zn(e,t){if("change"===e)return t}var Qn=!1;if(h){var Jn;if(h){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Yn=Wn=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Xn(t,Yn,e,xe(e)),Ie(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function ar(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!c.call(t,i)||!or(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=hr(n,a);var s=hr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Er={};function Tr(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}h&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ar=Tr("animationend"),Sr=Tr("animationiteration"),Cr=Tr("animationstart"),Pr=Tr("transitionend"),Rr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Rr.set(e,t),u(t,[e])}for(var Or=0;Or<Ir.length;Or++){var Dr=Ir[Or];Mr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Mr(Ar,"onAnimationEnd"),Mr(Sr,"onAnimationIteration"),Mr(Cr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Pr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,u,l){if(ze.apply(this,arguments),Be){if(!Be)throw Error(a(198));var h=Le;Be=!1,Le=null,Fe||(Fe=!0,Ue=h)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,o,l),a=u}else for(s=0;s<r.length;s++){if(u=(o=r[s]).instance,l=o.currentTarget,o=o.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,o,l),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Gr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||Gr(t,!1,e),Gr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Gr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var i=Xt;break;case 4:i=Wt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=yi(o)))return;if(5===(u=s.tag)||6===u){r=a=s;continue e}o=o.parentNode}}r=r.return}Ie((function(){var r=a,i=xe(n),s=[];e:{var o=Rr.get(e);if(void 0!==o){var u=hn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ar:case Sr:case Cr:u=gn;break;case Pr:u=Rn;break;case"scroll":u=dn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var h=0!==(4&t),c=!h&&"scroll"===e,d=h?null!==o?o+"Capture":null:o;h=[];for(var f,p=r;null!==p;){var v=(f=p).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==d&&(null!=(v=Me(p,d))&&h.push(Xr(p,v,f)))),c)break;p=p.return}0<h.length&&(o=new u(o,l,null,n,i),s.push({event:o,listeners:h}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(c=je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(h=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(h=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),c=null==u?o:bi(u),f=null==l?o:bi(l),(o=new h(v,p+"leave",u,n,i)).target=c,o.relatedTarget=f,v=null,yi(i)===r&&((h=new h(d,p+"enter",l,n,i)).target=f,h.relatedTarget=c,v=h),c=v,u&&l)e:{for(d=l,p=0,f=h=u;f;f=Yr(f))p++;for(f=0,v=d;v;v=Yr(v))f++;for(;0<p-f;)h=Yr(h),p--;for(;0<f-p;)d=Yr(d),f--;for(;p--;){if(h===d||null!==d&&h===d.alternate)break e;h=Yr(h),d=Yr(d)}h=null}else h=null;null!==u&&qr(s,o,u,h,!1),null!==l&&null!==c&&qr(s,c,l,h,!0)}if("select"===(u=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===u&&"file"===o.type)var m=Zn;else if(Vn(o))if(Qn)m=sr;else{m=ir;var g=rr}else(u=o.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ar);switch(m&&(m=m(e,r))?Xn(s,m,n,i):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?bi(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(s,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else jn?Gn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Ln&&"ko"!==n.locale&&(jn||"onCompositionStart"!==_?"onCompositionEnd"===_&&jn&&(y=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,jn=!0)),0<(g=Wr(r,_)).length&&(_=new bn(_,e,null,n,i),s.push({event:_,listeners:g}),y?_.data=y:null!==(y=zn(n))&&(_.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Dn&&Gn(e,t)?(e=en(),$t=Jt=Qt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Fr(s,t)}))}function Xr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Me(e,n))&&r.unshift(Xr(e,a,i)),null!=(a=Me(e,t))&&r.push(Xr(e,a,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,u=o.alternate,l=o.stateNode;if(null!==u&&u===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(u=Me(n,a))&&s.unshift(Xr(n,u,o)):i||null!=(u=Me(n,a))&&s.push(Xr(n,u,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Zr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),di="__reactFiber$"+ci,fi="__reactProps$"+ci,pi="__reactContainer$"+ci,vi="__reactEvents$"+ci,mi="__reactListeners$"+ci,gi="__reactHandles$"+ci;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hi(e);null!==e;){if(n=e[di])return n;e=hi(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[fi]||null}var wi=[],ki=-1;function Ei(e){return{current:e}}function Ti(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function Ai(e,t){ki++,wi[ki]=e.current,e.current=t}var Si={},Ci=Ei(Si),Pi=Ei(!1),Ri=Si;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Pi),Ti(Ci)}function Di(e,t,n){if(Ci.current!==Si)throw Error(a(168));Ai(Ci,t),Ai(Pi,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return L({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ri=Ci.current,Ai(Ci,e),Ai(Pi,Pi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ni(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ti(Pi),Ti(Ci),Ai(Ci,e)):Ti(Pi),Ai(Pi,n)}var Fi=null,Ui=!1,Gi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function ji(){if(!Gi&&null!==Fi){Gi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye($e,ji),i}finally{_t=t,Gi=!1}}return null}var Hi=[],Vi=0,Xi=null,Wi=0,Yi=[],qi=0,Ki=null,Zi=1,Qi="";function Ji(e,t){Hi[Vi++]=Wi,Hi[Vi++]=Xi,Xi=e,Wi=t}function $i(e,t,n){Yi[qi++]=Zi,Yi[qi++]=Qi,Yi[qi++]=Ki,Ki=e;var r=Zi;e=Qi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Zi=1<<32-st(t)+i|n<<i|r,Qi=a+e}else Zi=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function ta(e){for(;e===Xi;)Xi=Hi[--Vi],Hi[Vi]=null,Wi=Hi[--Vi],Hi[Vi]=null;for(;e===Ki;)Ki=Yi[--qi],Yi[qi]=null,Qi=Yi[--qi],Yi[qi]=null,Zi=Yi[--qi],Yi[qi]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Zi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ml(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ca(e){if(e!==na)return!1;if(!ia)return ha(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)sa(e,t),t=li(t.nextSibling)}if(ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=li(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ei(null),ya=null,_a=null,ba=null;function xa(){ba=_a=ya=null}function wa(e){var t=ga.current;Ti(ga),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ya=e,ba=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ya)throw Error(a(308));_a=e,ya.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Aa=null;function Sa(e){null===Aa?Aa=[e]:Aa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function Na(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var u=o,l=u.next;u.next=null,null===s?a=l:s.next=l,s=u;var h=e.alternate;null!==h&&((o=(h=h.updateQueue).lastBaseUpdate)!==s&&(null===o?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=u))}if(null!==a){var c=i.baseState;for(s=0,h=l=u=null,o=a;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(d=t,f=n,v.tag){case 1:if("function"===typeof(p=v.payload)){c=p.call(f,c,d);break e}c=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(f,c,d):p)||void 0===d)break e;c=L({},c,d);break e;case 2:Ra=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(l=h=f,u=c):h=h.next=f,s|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===h&&(u=c),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=h,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=s,e.lanes=s,e.memoizedState=c}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Ga(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rl(t,e,r,n),Na(t,e,r))}};function ja(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ha(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Mi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Xa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Mi(t)?Ri:Ci.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ga(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===k?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Nl(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,a){return null===t||7!==t.tag?((t=Bl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Nl(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case w:return(t=Ul(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Bl(t,e.mode,n,null)).return=e,t;Ya(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?h(e,t,n,r):null;case M:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:c(e,t,n,r,null);Ya(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return c(t,e=e.get(n)||null,r,i,null);Ya(t,r)}return null}function v(i,a,o,u){for(var l=null,h=null,c=a,v=a=0,m=null;null!==c&&v<o.length;v++){c.index>v?(m=c,c=null):m=c.sibling;var g=f(i,c,o[v],u);if(null===g){null===c&&(c=m);break}e&&c&&null===g.alternate&&t(i,c),a=s(g,a,v),null===h?l=g:h.sibling=g,h=g,c=m}if(v===o.length)return n(i,c),ia&&Ji(i,v),l;if(null===c){for(;v<o.length;v++)null!==(c=d(i,o[v],u))&&(a=s(c,a,v),null===h?l=c:h.sibling=c,h=c);return ia&&Ji(i,v),l}for(c=r(i,c);v<o.length;v++)null!==(m=p(c,i,v,o[v],u))&&(e&&null!==m.alternate&&c.delete(null===m.key?v:m.key),a=s(m,a,v),null===h?l=m:h.sibling=m,h=m);return e&&c.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,o,u,l){var h=N(u);if("function"!==typeof h)throw Error(a(150));if(null==(u=h.call(u)))throw Error(a(151));for(var c=h=null,v=o,m=o=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var _=f(i,v,y.value,l);if(null===_){null===v&&(v=g);break}e&&v&&null===_.alternate&&t(i,v),o=s(_,o,m),null===c?h=_:c.sibling=_,c=_,v=g}if(y.done)return n(i,v),ia&&Ji(i,m),h;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,l))&&(o=s(y,o,m),null===c?h=y:c.sibling=y,c=y);return ia&&Ji(i,m),h}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),o=s(y,o,m),null===c?h=y:c.sibling=y,c=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),h}return function e(r,a,s,u){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var l=s.key,h=a;null!==h;){if(h.key===l){if((l=s.type)===k){if(7===h.tag){n(r,h.sibling),(a=i(h,s.props.children)).return=r,r=a;break e}}else if(h.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===M&&qa(l)===h.type){n(r,h.sibling),(a=i(h,s.props)).ref=Wa(r,h,s),a.return=r,r=a;break e}n(r,h);break}t(r,h),h=h.sibling}s.type===k?((a=Bl(s.props.children,r.mode,u,s.key)).return=r,r=a):((u=Nl(s.type,s.key,s.props,null,r.mode,u)).ref=Wa(r,a,s),u.return=r,r=u)}return o(r);case w:e:{for(h=s.key;null!==a;){if(a.key===h){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(s,r.mode,u)).return=r,r=a}return o(r);case M:return e(r,a,(h=s._init)(s._payload),u)}if(te(s))return v(r,a,s,u);if(N(s))return m(r,a,s,u);Ya(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Fl(s,r.mode,u)).return=r,r=a),o(r)):n(r,a)}}var Za=Ka(!0),Qa=Ka(!1),Ja={},$a=Ei(Ja),es=Ei(Ja),ts=Ei(Ja);function ns(e){if(e===Ja)throw Error(a(174));return e}function rs(e,t){switch(Ai(ts,t),Ai(es,e),Ai($a,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti($a),Ai($a,t)}function is(){Ti($a),Ti(es),Ti(ts)}function as(e){ns(ts.current);var t=ns($a.current),n=ue(t,e.type);t!==n&&(Ai(es,e),Ai($a,n))}function ss(e){es.current===e&&(Ti($a),Ti(es))}var os=Ei(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function hs(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var cs=b.ReactCurrentDispatcher,ds=b.ReactCurrentBatchConfig,fs=0,ps=null,vs=null,ms=null,gs=!1,ys=!1,_s=0,bs=0;function xs(){throw Error(a(321))}function ws(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ks(e,t,n,r,i,s){if(fs=s,ps=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cs.current=null===e||null===e.memoizedState?so:oo,e=n(r,i),ys){s=0;do{if(ys=!1,_s=0,25<=s)throw Error(a(301));s+=1,ms=vs=null,t.updateQueue=null,cs.current=uo,e=n(r,i)}while(ys)}if(cs.current=ao,t=null!==vs&&null!==vs.next,fs=0,ms=vs=ps=null,gs=!1,t)throw Error(a(300));return e}function Es(){var e=0!==_s;return _s=0,e}function Ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?ps.memoizedState=ms=e:ms=ms.next=e,ms}function As(){if(null===vs){var e=ps.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ms?ps.memoizedState:ms.next;if(null!==t)ms=t,vs=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ms?ps.memoizedState=ms=e:ms=ms.next=e}return ms}function Ss(e,t){return"function"===typeof t?t(e):t}function Cs(e){var t=As(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var u=o=null,l=null,h=s;do{var c=h.lane;if((fs&c)===c)null!==l&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var d={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===l?(u=l=d,o=r):l=l.next=d,ps.lanes|=c,Lu|=c}h=h.next}while(null!==h&&h!==s);null===l?o=r:l.next=u,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ps.lanes|=s,Lu|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ps(e){var t=As(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Rs(){}function Is(e,t){var n=ps,r=As(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,bo=!0),r=r.queue,Hs(Ds.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Fs(9,Os.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(a(349));0!==(30&fs)||Ms(n,t,i)}return i}function Ms(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Os(e,t,n,r){t.value=n,t.getSnapshot=r,Ns(t)&&Bs(e)}function Ds(e,t,n){return n((function(){Ns(t)&&Bs(e)}))}function Ns(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Bs(e){var t=Pa(e,1);null!==t&&rl(t,e,1,-1)}function Ls(e){var t=Ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,ps,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return As().memoizedState}function Gs(e,t,n,r){var i=Ts();ps.flags|=e,i.memoizedState=Fs(1|t,n,void 0,void 0===r?null:r)}function zs(e,t,n,r){var i=As();r=void 0===r?null:r;var a=void 0;if(null!==vs){var s=vs.memoizedState;if(a=s.destroy,null!==r&&ws(r,s.deps))return void(i.memoizedState=Fs(t,n,a,r))}ps.flags|=e,i.memoizedState=Fs(1|t,n,a,r)}function js(e,t){return Gs(8390656,8,e,t)}function Hs(e,t){return zs(2048,8,e,t)}function Vs(e,t){return zs(4,2,e,t)}function Xs(e,t){return zs(4,4,e,t)}function Ws(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ys(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zs(4,4,Ws.bind(null,t,e),n)}function qs(){}function Ks(e,t){var n=As();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ws(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zs(e,t){var n=As();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ws(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qs(e,t,n){return 0===(21&fs)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=vt(),ps.lanes|=n,Lu|=n,e.baseState=!0),t)}function Js(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ds.transition;ds.transition={};try{e(!1),t()}finally{_t=n,ds.transition=r}}function $s(){return As().memoizedState}function eo(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ca(e,t,n,r))){rl(n,e,r,tl()),io(n,t,r)}}function to(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var u=t.interleaved;return null===u?(i.next=i,Sa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ca(e,t,i,r))&&(rl(n,e,r,i=tl()),io(n,t,r))}}function no(e){var t=e.alternate;return e===ps||null!==t&&t===ps}function ro(e,t){ys=gs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ao={readContext:Ta,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},so={readContext:Ta,useCallback:function(e,t){return Ts().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:js,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Gs(4194308,4,Ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=Ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,ps,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ts().memoizedState=e},useState:Ls,useDebugValue:qs,useDeferredValue:function(e){return Ts().memoizedState=e},useTransition:function(){var e=Ls(!1),t=e[0];return e=Js.bind(null,e[1]),Ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ps,i=Ts();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ru)throw Error(a(349));0!==(30&fs)||Ms(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,js(Ds.bind(null,r,s,e),[e]),r.flags|=2048,Fs(9,Os.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ts(),t=Ru.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Zi&~(1<<32-st(Zi)-1)).toString(32)+n),0<(n=_s++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ta,useCallback:Ks,useContext:Ta,useEffect:Hs,useImperativeHandle:Ys,useInsertionEffect:Vs,useLayoutEffect:Xs,useMemo:Zs,useReducer:Cs,useRef:Us,useState:function(){return Cs(Ss)},useDebugValue:qs,useDeferredValue:function(e){return Qs(As(),vs.memoizedState,e)},useTransition:function(){return[Cs(Ss)[0],As().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Is,useId:$s,unstable_isNewReconciler:!1},uo={readContext:Ta,useCallback:Ks,useContext:Ta,useEffect:Hs,useImperativeHandle:Ys,useInsertionEffect:Vs,useLayoutEffect:Xs,useMemo:Zs,useReducer:Ps,useRef:Us,useState:function(){return Ps(Ss)},useDebugValue:qs,useDeferredValue:function(e){var t=As();return null===vs?t.memoizedState=e:Qs(t,vs.memoizedState,e)},useTransition:function(){return[Ps(Ss)[0],As().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Is,useId:$s,unstable_isNewReconciler:!1};function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ho(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,Wu=r),co(0,t)},n}function vo(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){co(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Yu?Yu=new Set([this]):Yu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Al.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _o=b.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Za(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=ks(e,t,n,r,a,i),n=Es(),null===e||bo?(ia&&n&&ea(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xo(e,t,i))}function ko(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eo(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return Xo(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Xo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return So(e,t,n,r,i)}function To(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Du,Ou),Ou|=r;return xo(e,t,i,n),t.child}function Ao(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,i){var a=Mi(n)?Ri:Ci.current;return a=Ii(t,a),Ea(t,i),n=ks(e,t,n,r,a,i),r=Es(),null===e||bo?(ia&&r&&ea(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xo(e,t,i))}function Co(e,t,n,r,i){if(Mi(n)){var a=!0;Bi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Vo(e,t),Ha(t,n,r),Xa(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ta(l):l=Ii(t,l=Mi(n)?Ri:Ci.current);var h=n.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate;c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||u!==l)&&Va(t,s,r,l),Ra=!1;var d=t.memoizedState;s.state=d,La(t,r,s,i),u=t.memoizedState,o!==r||d!==u||Pi.current||Ra?("function"===typeof h&&(Ga(t,n,h,r),u=t.memoizedState),(o=Ra||ja(t,n,o,r,d,u,l))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ma(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:ma(t.type,o),s.props=l,c=t.pendingProps,d=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ta(u):u=Ii(t,u=Mi(n)?Ri:Ci.current);var f=n.getDerivedStateFromProps;(h="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==c||d!==u)&&Va(t,s,r,u),Ra=!1,d=t.memoizedState,s.state=d,La(t,r,s,i);var p=t.memoizedState;o!==c||d!==p||Pi.current||Ra?("function"===typeof f&&(Ga(t,n,f,r),p=t.memoizedState),(l=Ra||ja(t,n,l,r,d,p,u)||!1)?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=l):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Po(e,t,n,r,a,i)}function Po(e,t,n,r,i,a){Ao(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Li(t,n,!1),Xo(e,t,a);r=t.stateNode,_o.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Za(t,e.child,null,a),t.child=Za(t,null,o,a)):xo(e,t,o,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ro(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),rs(e,t.containerInfo)}function Io(e,t,n,r,i){return fa(),pa(i),t.flags|=256,xo(e,t,n,r),t.child}var Mo,Oo,Do,No,Bo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,s=os.current,o=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ai(os,1&s),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,o?(i=t.mode,o=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=u):o=Ll(u,i,0,null),e=Bl(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Bo,e):Uo(t,u));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Go(e,t,o,r=ho(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(s=Bl(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Za(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Bo,s);if(0===(1&t.mode))return Go(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Go(e,t,o,r=ho(s=Error(a(419)),r,void 0))}if(u=0!==(o&e.childLanes),bo||u){if(null!==(r=Ru)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Pa(e,i),rl(r,e,i,-1))}return ml(),Go(e,t,o,r=ho(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Yi[qi++]=Zi,Yi[qi++]=Qi,Yi[qi++]=Ki,Zi=e.id,Qi=e.overflow,Ki=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,s,n);if(o){o=i.fallback,u=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Dl(r,o):(o=Bl(o,u,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,u=null===(u=e.child.memoizedState)?Lo(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=Bo,i}return e=(o=e.child).sibling,i=Dl(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uo(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Go(e,t,n,r){return null!==r&&pa(r),Za(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function jo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=os.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(os,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jo(t,!0,n,null,a);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Mi(t.type)&&Oi(),Yo(t),null;case 3:return r=t.stateNode,is(),Ti(Pi),Ti(Ci),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ca(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Oo(e,t),Yo(t),null;case 5:ss(t);var i=ns(ts.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Yo(t),null}if(e=ns($a.current),ca(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Ur(Nr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Z(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var u in ye(n,s),i=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):o.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),$(r,s,!0);break;case"textarea":W(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[fi]=r,Mo(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Ur(Nr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Z(e,r),i=K(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),l=i)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?me(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ce(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&de(e,h):"number"===typeof h&&de(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Ur("scroll",e):null!=h&&_(e,s,h,u))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)No(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=ns(ts.current),ns($a.current),ca(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Yo(t),null;case 13:if(Ti(os),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),fa(),t.flags|=98560,s=!1;else if(s=ca(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[di]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),s=!1}else null!==aa&&(ol(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===Nu&&(Nu=3):ml())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return is(),Oo(e,t),null===e&&jr(t.stateNode.containerInfo),Yo(t),null;case 10:return wa(t.type._context),Yo(t),null;case 19:if(Ti(os),null===(s=t.memoizedState))return Yo(t),null;if(r=0!==(128&t.flags),null===(u=s.rendering))if(r)Wo(s,!1);else{if(0!==Nu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=us(e))){for(t.flags|=128,Wo(s,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Hu&&(t.flags|=128,r=!0,Wo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!ia)return Yo(t),null}else 2*Qe()-s.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,Wo(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=os.current,Ai(os,r?1&n|2:1&n),t):(Yo(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ta(t),t.tag){case 1:return Mi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),Ti(Pi),Ti(Ci),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ss(t),null;case 13:if(Ti(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(os),null;case 4:return is(),null;case 10:return wa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Mo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Do=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ns($a.current);var a,s=null;switch(n){case"input":i=K(e,i),r=K(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(h in ye(n,r),n=null,i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&null!=i[h])if("style"===h){var u=i[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(o.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(u=null!=i?i[h]:void 0,r.hasOwnProperty(h)&&l!==u&&(null!=l||null!=u))if("style"===h)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(o.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Ur("scroll",e),s||u===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},No=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zo=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,$o=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function hu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hu(e,t,n),e=e.sibling;null!==e;)hu(e,t,n),e=e.sibling}var cu=null,du=!1;function fu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Qo||eu(n,t);case 6:var r=cu,i=du;cu=null,fu(e,t,n),du=i,null!==(cu=r)&&(du?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(du?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),jt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=du,cu=n.stateNode.containerInfo,du=!0,fu(e,t,n),cu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&tu(n,t,s),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Qo&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Tl(n,t,o)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,fu(e,t,n),Qo=r):fu(e,t,n);break;default:fu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Pl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,u=o;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,du=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===cu)throw Error(a(160));pu(s,o,i),cu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(h){Tl(i,t,h)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Tl(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Tl(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Tl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===s.type&&null!=s.name&&Q(i,s),_e(u,o);var h=_e(u,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];"style"===c?me(i,d):"dangerouslySetInnerHTML"===c?ce(i,d):"children"===c?de(i,d):_(i,c,d,h)}switch(u){case"input":J(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){Tl(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Tl(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(m){Tl(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(ju=Qe())),4&r&&vu(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(h=Qo)||c,mu(t,e),Qo=h):mu(t,e),yu(e),8192&r){if(h=null!==e.memoizedState,(e.stateNode.isHidden=h)&&!c&&0!==(1&e.mode))for($o=e,c=e.child;null!==c;){for(d=$o=c;null!==$o;){switch(p=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:ru(4,f,f.return);break;case 1:eu(f,f.return);var v=f.stateNode;if("function"===typeof v.componentWillUnmount){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Tl(r,n,m)}}break;case 5:eu(f,f.return);break;case 22:if(null!==f.memoizedState){wu(d);continue}}null!==p?(p.return=f,$o=p):wu(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,h?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(u=d.stateNode,o=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",o))}catch(m){Tl(e,e.return,m)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(m){Tl(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),hu(e,uu(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;lu(e,uu(e),s);break;default:throw Error(a(161))}}catch(o){Tl(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _u(e,t,n){$o=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Zo;if(!s){var o=i.alternate,u=null!==o&&null!==o.memoizedState||Qo;o=Zo;var l=Qo;if(Zo=s,(Qo=u)&&!l)for($o=i;null!==$o;)u=(s=$o).child,22===s.tag&&null!==s.memoizedState?ku(i):null!==u?(u.return=s,$o=u):ku(i);for(;null!==a;)$o=a,bu(a,t,n),a=a.sibling;$o=i,Zo=o,Qo=l}xu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$o=a):xu(e)}}function xu(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Fa(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,o,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var h=t.alternate;if(null!==h){var c=h.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(a(163))}Qo||512&t.flags&&au(t)}catch(f){Tl(t,t.return,f)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function wu(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function ku(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Tl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tl(t,i,u)}}var a=t.return;try{au(t)}catch(u){Tl(t,a,u)}break;case 5:var s=t.return;try{au(t)}catch(u){Tl(t,s,u)}}}catch(u){Tl(t,t.return,u)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Eu,Tu=Math.ceil,Au=b.ReactCurrentDispatcher,Su=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Pu=0,Ru=null,Iu=null,Mu=0,Ou=0,Du=Ei(0),Nu=0,Bu=null,Lu=0,Fu=0,Uu=0,Gu=null,zu=null,ju=0,Hu=1/0,Vu=null,Xu=!1,Wu=null,Yu=null,qu=!1,Ku=null,Zu=0,Qu=0,Ju=null,$u=-1,el=0;function tl(){return 0!==(6&Pu)?Qe():-1!==$u?$u:$u=Qe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Mu?Mu&-Mu:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function rl(e,t,n,r){if(50<Qu)throw Qu=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Pu)&&e===Ru||(e===Ru&&(0===(2&Pu)&&(Fu|=n),4===Nu&&ul(e,Mu)),il(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(Hu=Qe()+500,Ui&&ji()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,u=i[s];-1===u?0!==(o&n)&&0===(o&r)||(i[s]=ft(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=dt(e,e===Ru?Mu:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),si((function(){0===(6&Pu)&&ji()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if($u=-1,el=0,0!==(6&Pu))throw Error(a(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=dt(e,e===Ru?Mu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Pu;Pu|=2;var s=vl();for(Ru===e&&Mu===t||(Vu=null,Hu=Qe()+500,fl(e,t));;)try{_l();break}catch(u){pl(e,u)}xa(),Au.current=s,Pu=i,null!==Iu?t=0:(Ru=null,Mu=0,t=Nu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sl(e,i))),1===t)throw n=Bu,fl(e,0),ul(e,r),il(e,Qe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(s=pt(e))&&(r=s,t=sl(e,s))),1===t))throw n=Bu,fl(e,0),ul(e,r),il(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,zu,Vu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=ju+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,zu,Vu),t);break}wl(e,zu,Vu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,zu,Vu),r);break}wl(e,zu,Vu);break;default:throw Error(a(329))}}}return il(e,Qe()),e.callbackNode===n?al.bind(null,e):null}function sl(e,t){var n=Gu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=zu,zu=n,null!==t&&ol(t)),e}function ol(e){null===zu?zu=e:zu.push.apply(zu,e)}function ul(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Pu))throw Error(a(327));kl();var t=dt(e,0);if(0===(1&t))return il(e,Qe()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sl(e,r))}if(1===n)throw n=Bu,fl(e,0),ul(e,t),il(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,zu,Vu),il(e,Qe()),null}function hl(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Hu=Qe()+500,Ui&&ji())}}function cl(e){null!==Ku&&0===Ku.tag&&0===(6&Pu)&&kl();var t=Pu;Pu|=1;var n=Cu.transition,r=_t;try{if(Cu.transition=null,_t=1,e)return e()}finally{_t=r,Cu.transition=n,0===(6&(Pu=t))&&ji()}}function dl(){Ou=Du.current,Ti(Du)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Iu)for(n=Iu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:is(),Ti(Pi),Ti(Ci),hs();break;case 5:ss(r);break;case 4:is();break;case 13:case 19:Ti(os);break;case 10:wa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Ru=e,Iu=e=Dl(e.current,null),Mu=Ou=t,Nu=0,Bu=null,Uu=Fu=Lu=0,zu=Gu=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Aa=null}return e}function pl(e,t){for(;;){var n=Iu;try{if(xa(),cs.current=ao,gs){for(var r=ps.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}gs=!1}if(fs=0,ms=vs=ps=null,ys=!1,_s=0,Su.current=null,null===n||null===n.return){Nu=1,Bu=t,Iu=null;break}e:{var s=e,o=n.return,u=n,l=t;if(t=Mu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var h=l,c=u,d=c.tag;if(0===(1&c.mode)&&(0===d||11===d||15===d)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,u,0,t),1&p.mode&&mo(s,h,t),l=h;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){mo(s,h,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=go(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yo(g,o,u,0,t),pa(lo(l,u));break e}}s=l=lo(l,u),4!==Nu&&(Nu=2),null===Gu?Gu=[s]:Gu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ba(s,po(0,l,t));break e;case 1:u=l;var y=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Yu||!Yu.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,Ba(s,vo(s,u,t));break e}}s=s.return}while(null!==s)}xl(n)}catch(b){t=b,Iu===n&&null!==n&&(Iu=n=n.return);continue}break}}function vl(){var e=Au.current;return Au.current=ao,null===e?ao:e}function ml(){0!==Nu&&3!==Nu&&2!==Nu||(Nu=4),null===Ru||0===(268435455&Lu)&&0===(268435455&Fu)||ul(Ru,Mu)}function gl(e,t){var n=Pu;Pu|=2;var r=vl();for(Ru===e&&Mu===t||(Vu=null,fl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(xa(),Pu=n,Au.current=r,null!==Iu)throw Error(a(261));return Ru=null,Mu=0,Nu}function yl(){for(;null!==Iu;)bl(Iu)}function _l(){for(;null!==Iu&&!Ke();)bl(Iu)}function bl(e){var t=Eu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?xl(e):Iu=t,Su.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qo(n,t,Ou)))return void(Iu=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Iu=n);if(null===e)return Nu=6,void(Iu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Iu=t);Iu=t=e}while(null!==t);0===Nu&&(Nu=5)}function wl(e,t,n){var r=_t,i=Cu.transition;try{Cu.transition=null,_t=1,function(e,t,n,r){do{kl()}while(null!==Ku);if(0!==(6&Pu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Ru&&(Iu=Ru=null,Mu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qu||(qu=!0,Rl(tt,(function(){return kl(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cu.transition,Cu.transition=null;var o=_t;_t=1;var u=Pu;Pu|=4,Su.current=null,function(e,t){if(ei=Vt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,u=-1,l=-1,h=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=o+i),d!==s||0!==r&&3!==d.nodeType||(l=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++h===i&&(u=o),f===s&&++c===r&&(l=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(x){Tl(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Vt=!!ei,ti=ei=null,e.current=n,_u(n,e,i),Ze(),Pu=u,_t=o,Cu.transition=s}else e.current=n;if(qu&&(qu=!1,Ku=e,Zu=i),s=e.pendingLanes,0===s&&(Yu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xu)throw Xu=!1,e=Wu,Wu=null,e;0!==(1&Zu)&&0!==e.tag&&kl(),s=e.pendingLanes,0!==(1&s)?e===Ju?Qu++:(Qu=0,Ju=e):Qu=0,ji()}(e,t,n,r)}finally{Cu.transition=i,_t=r}return null}function kl(){if(null!==Ku){var e=bt(Zu),t=Cu.transition,n=_t;try{if(Cu.transition=null,_t=16>e?16:e,null===Ku)var r=!1;else{if(e=Ku,Ku=null,Zu=0,0!==(6&Pu))throw Error(a(331));var i=Pu;for(Pu|=4,$o=e.current;null!==$o;){var s=$o,o=s.child;if(0!==(16&$o.flags)){var u=s.deletions;if(null!==u){for(var l=0;l<u.length;l++){var h=u[l];for($o=h;null!==$o;){var c=$o;switch(c.tag){case 0:case 11:case 15:ru(8,c,s)}var d=c.child;if(null!==d)d.return=c,$o=d;else for(;null!==$o;){var f=(c=$o).sibling,p=c.return;if(su(c),c===h){$o=null;break}if(null!==f){f.return=p,$o=f;break}$o=p}}}var v=s.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}$o=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,$o=o;else e:for(;null!==$o;){if(0!==(2048&(s=$o).flags))switch(s.tag){case 0:case 11:case 15:ru(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,$o=y;break e}$o=s.return}}var _=e.current;for($o=_;null!==$o;){var b=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,$o=b;else e:for(o=_;null!==$o;){if(0!==(2048&(u=$o).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){Tl(u,u.return,w)}if(u===o){$o=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,$o=x;break e}$o=u.return}}if(Pu=i,ji(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Cu.transition=t}}return!1}function El(e,t,n){e=Da(e,t=po(0,t=lo(n,t),1),1),t=tl(),null!==e&&(gt(e,1,t),il(e,t))}function Tl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yu||!Yu.has(r))){t=Da(t,e=vo(t,e=lo(n,e),1),1),e=tl(),null!==t&&(gt(t,1,e),il(t,e));break}}t=t.return}}function Al(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Mu&n)===n&&(4===Nu||3===Nu&&(130023424&Mu)===Mu&&500>Qe()-ju?fl(e,0):Uu|=n),il(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=tl();null!==(e=Pa(e,t))&&(gt(e,t,n),il(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function Pl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sl(e,n)}function Rl(e,t){return Ye(e,t)}function Il(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Il(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Ol(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Bl(n.children,i,s,t);case E:o=8,i|=8;break;case T:return(e=Ml(12,n,t,2|i)).elementType=T,e.lanes=s,e;case P:return(e=Ml(13,n,t,i)).elementType=P,e.lanes=s,e;case R:return(e=Ml(19,n,t,i)).elementType=R,e.lanes=s,e;case O:return Ll(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case S:o=9;break e;case C:o=11;break e;case I:o=14;break e;case M:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ml(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Bl(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Ml(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,a,s,o,u){return e=new Gl(e,t,n,o,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ml(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function jl(e){if(!e)return Si;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Ni(e,n,t)}return t}function Hl(e,t,n,r,i,a,s,o,u){return(e=zl(n,r,!0,e,0,a,0,o,u)).context=jl(null),n=e.current,(a=Oa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,gt(e,i,r),il(e,r),e}function Vl(e,t,n,r){var i=t.current,a=tl(),s=nl(i);return n=jl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,s))&&(rl(e,i,s,a),Na(e,i,s)),s}function Xl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Ro(t),fa();break;case 5:as(t);break;case 1:Mi(t.type)&&Bi(t);break;case 4:rs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ai(os,1&os.current),null!==(e=Xo(e,t,n))?e.sibling:null);Ai(os,1&os.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(os,os.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return Xo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vo(e,t),e=t.pendingProps;var i=Ii(t,Ci.current);Ea(t,n),i=ks(null,t,r,e,i,n);var s=Es();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(s=!0,Bi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ia(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Xa(t,r,e,n),t=Po(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===I)return 14}return 2}(r),e=ma(r,e),i){case 0:t=So(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ro(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ma(e,t),La(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Io(e,t,r,n,i=lo(Error(a(423)),t));break e}if(r!==i){t=Io(e,t,r,n,i=lo(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Xo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return as(t),null===e&&la(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),Ao(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&la(t),null;case 13:return Fo(e,t,n);case 4:return rs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Za(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ai(ga,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Pi.current){t=Xo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){o=s.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Oa(-1,n&-n)).tag=2;var h=s.updateQueue;if(null!==h){var c=(h=h.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),h.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ka(s.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),ka(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ta(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),ko(e,t,r,i=ma(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Vo(e,t),t.tag=1,Mi(r)?(e=!0,Bi(t)):e=!1,Ea(t,n),Ha(t,r,i),Xa(t,r,i,n),Po(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return To(e,t,n)}throw Error(a(156,t.tag))};var ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function Zl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function eh(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=Xl(s);o.call(e)}}Vl(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Xl(s);a.call(e)}}var s=Hl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=s,e[pi]=s.current,jr(8===e.nodeType?e.parentNode:e),cl(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Xl(u);o.call(e)}}var u=zl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=u,e[pi]=u.current,jr(8===e.nodeType?e.parentNode:e),cl((function(){Vl(t,u,n,r)})),u}(n,t,e,i,r);return Xl(s)}Zl.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vl(e,t,null,null)},Zl.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Vl(null,e,null,null)})),t[pi]=null}},Zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Qe()),0===(6&Pu)&&(Hu=Qe()+500,ji()))}break;case 13:cl((function(){var t=Pa(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Yl(e,1)}},wt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)rl(t,e,134217728,tl());Yl(e,134217728)}},kt=function(e){if(13===e.tag){var t=nl(e),n=Pa(e,t);if(null!==n)rl(n,e,t,tl());Yl(e,t)}},Et=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));Y(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=hl,Pe=cl;var th={usingClientEntryPoint:!1,Events:[_i,bi,xi,Ae,Se,hl]},nh={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rh={bundleType:nh.bundleType,version:nh.version,rendererPackageName:nh.rendererPackageName,rendererConfig:nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:nh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{it=ih.inject(rh),at=ih}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=th,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(a(299));var n=!1,r="",i=ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Kl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return eh(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,s,o),e[pi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return eh(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){eh(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=hl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eh(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,h=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(h=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:h,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=_.prototype=new y;b.constructor=_,v(b,g.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),h=0;h<u;h++)l[h]=arguments[h+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var u=!1;if(null===e)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return s=s(u=e),e=""===a?"."+C(u,0):a,x(s)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),P(s,t,i,"",(function(e){return e}))):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+e)),t.push(s)),1;if(u=0,a=""===a?".":a+":",x(e))for(var l=0;l<e.length;l++){var h=a+C(o=e[l],l);u+=P(o,t,i,h,s)}else if(h=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof h)for(e=h.call(e),l=0;!(o=e.next()).done;)u+=P(o=o.value,t,i,h=a+C(o,l++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},O={transition:null},D={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=a,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,u=e[o],l=o+1,h=e[l];if(0>a(u,n))l<i&&0>a(h,u)?(e[r]=h,e[l]=n,r=l):(e[r]=u,e[o]=n,r=o);else{if(!(l<i&&0>a(h,n)))break e;e[r]=h,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var l=[],h=[],c=1,d=null,f=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(h);null!==t;){if(null===t.callback)i(h);else{if(!(t.startTime<=e))break;i(h),t.sortIndex=t.expirationTime,n(l,t)}t=r(h)}}function x(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,O(w);else{var t=r(h);null!==t&&D(x,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(A),A=-1),p=!0;var a=f;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!P());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var o=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(l)&&i(l),b(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var c=r(h);null!==c&&D(x,c.startTime-n),u=!1}return u}finally{d=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,T=null,A=-1,S=5,C=-1;function P(){return!(t.unstable_now()-C<S)}function R(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?k():(E=!1,T=null)}}else E=!1}if("function"===typeof _)k=function(){_(R)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,M=I.port2;I.port1.onmessage=R,k=function(){M.postMessage(null)}}else k=function(){g(R,0)};function O(e){T=e,E||(E=!0,k())}function D(e,n){A=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:c++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(h,e),null===r(l)&&e===r(h)&&(m?(y(A),A=-1):m=!0,D(x,a-s))):(e.sortIndex=o,n(l,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},369:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n.g&&n.g;a.global!==a&&a.window!==a&&a.self;var s,o=2147483647,u=36,l=1,h=26,c=38,d=700,f=72,p=128,v="-",m=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=u-l,x=Math.floor,w=String.fromCharCode;function k(e){throw RangeError(_[e])}function E(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function T(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+E((e=e.replace(y,".")).split("."),t).join(".")}function A(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function S(e){return E(e,(function(e){var t="";return e>65535&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=w(e)})).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,n){var r=0;for(e=n?x(e/d):e>>1,e+=x(e/t);e>b*h>>1;r+=u)e=x(e/b);return x(r+(b+1)*e/(e+c))}function R(e){var t,n,r,i,a,s,c,d,m,g,y,_=[],b=e.length,w=0,E=p,T=f;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&k("not-basic"),_.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(a=w,s=1,c=u;i>=b&&k("invalid-input"),((d=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||d>x((o-w)/s))&&k("overflow"),w+=d*s,!(d<(m=c<=T?l:c>=T+h?h:c-T));c+=u)s>x(o/(g=u-m))&&k("overflow"),s*=g;T=P(w-a,t=_.length+1,0==a),x(w/t)>o-E&&k("overflow"),E+=x(w/t),w%=t,_.splice(w++,0,E)}return S(_)}function I(e){var t,n,r,i,a,s,c,d,m,g,y,_,b,E,T,S=[];for(_=(e=A(e)).length,t=p,n=0,a=f,s=0;s<_;++s)(y=e[s])<128&&S.push(w(y));for(r=i=S.length,i&&S.push(v);r<_;){for(c=o,s=0;s<_;++s)(y=e[s])>=t&&y<c&&(c=y);for(c-t>x((o-n)/(b=r+1))&&k("overflow"),n+=(c-t)*b,t=c,s=0;s<_;++s)if((y=e[s])<t&&++n>o&&k("overflow"),y==t){for(d=n,m=u;!(d<(g=m<=a?l:m>=a+h?h:m-a));m+=u)T=d-g,E=u-g,S.push(w(C(g+T%E,0))),d=x(T/E);S.push(w(C(d,0))),a=P(n,b,r==i),n=0,++r}++n,++t}return S.join("")}s={version:"1.3.2",ucs2:{decode:A,encode:S},decode:R,encode:I,toASCII:function(e){return T(e,(function(e){return g.test(e)?"xn--"+I(e):e}))},toUnicode:function(e){return T(e,(function(e){return m.test(e)?R(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},114:function(e,t,n){"use strict";var r=n(369),i=n(939);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=_,t.DB=function(e,t){return _(e,!1,!0).resolve(t)},t.WU=function(e){i.isString(e)&&(e=_(e));return e instanceof a?e.format():a.prototype.format.call(e)};var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(l),c=["%","/","?",";","#"].concat(h),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(863);function _(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),o=-1!==a&&a<e.indexOf("#")?"?":"#",l=e.split(o);l[0]=l[0].replace(/\\/g,"/");var _=e=l.join(o);if(_=_.trim(),!n&&1===e.split("#").length){var b=u.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=s.exec(_);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,_=_.substr(x.length)}if(n||x||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===_.substr(0,2);!k||x&&m[x]||(_=_.substr(2),this.slashes=!0)}if(!m[x]&&(k||x&&!g[x])){for(var E,T,A=-1,S=0;S<d.length;S++){-1!==(C=_.indexOf(d[S]))&&(-1===A||C<A)&&(A=C)}-1!==(T=-1===A?_.lastIndexOf("@"):_.lastIndexOf("@",A))&&(E=_.slice(0,T),_=_.slice(T+1),this.auth=decodeURIComponent(E)),A=-1;for(S=0;S<c.length;S++){var C;-1!==(C=_.indexOf(c[S]))&&(-1===A||C<A)&&(A=C)}-1===A&&(A=_.length),this.host=_.slice(0,A),_=_.slice(A),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var R=this.hostname.split(/\./),I=(S=0,R.length);S<I;S++){var M=R[S];if(M&&!M.match(f)){for(var O="",D=0,N=M.length;D<N;D++)M.charCodeAt(D)>127?O+="x":O+=M[D];if(!O.match(f)){var B=R.slice(0,S),L=R.slice(S+1),F=M.match(p);F&&(B.push(F[1]),L.unshift(F[2])),L.length&&(_="/"+L.join(".")+_),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+U,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[w])for(S=0,I=h.length;S<I;S++){var z=h[S];if(-1!==_.indexOf(z)){var j=encodeURIComponent(z);j===z&&(j=escape(z)),_=_.split(z).join(j)}}var H=_.indexOf("#");-1!==H&&(this.hash=_.substr(H),_=_.slice(0,H));var V=_.indexOf("?");if(-1!==V?(this.search=_.substr(V),this.query=_.substr(V+1),t&&(this.query=y.parse(this.query)),_=_.slice(0,V)):t&&(this.search="",this.query={}),_&&(this.pathname=_),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var X=this.search||"";this.path=U+X}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,s="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),s=0;s<r.length;s++){var o=r[s];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var h=u[l];"protocol"!==h&&(n[h]=e[h])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var c=Object.keys(e),d=0;d<c.length;d++){var f=c[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var _=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=b||_||n.host&&e.pathname,w=x,k=n.pathname&&n.pathname.split("/")||[],E=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===k[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=p;else if(p.length)k||(k=[]),k.pop(),k=k.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(E)n.hostname=n.host=k.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=k.slice(-1)[0],A=(n.host||e.host||k.length>1)&&("."===T||".."===T)||""===T,S=0,C=k.length;C>=0;C--)"."===(T=k[C])?k.splice(C,1):".."===T?(k.splice(C,1),S++):S&&(k.splice(C,1),S--);if(!x&&!w)for(;S--;S)k.unshift("..");!x||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),A&&"/"!==k.join("/").substr(-1)&&k.push("");var P,R=""===k[0]||k[0]&&"/"===k[0].charAt(0);E&&(n.hostname=n.host=R?"":k.length?k.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(x=x||n.host&&k.length)&&!R&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},939:function(e){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".28cb0dcd.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="my-app:";n.l=function(r,i,a,s){if(e[r])e[r].push(i);else{var o,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),h=0;h<l.length;h++){var c=l[h];if(c.getAttribute("src")==r||c.getAttribute("data-webpack")==t+a){o=c;break}}o||(u=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var d=function(t,n){o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),u&&document.head.appendChild(o)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/slotGame/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,s=r[0],o=r[1],u=r[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(u)u(n)}for(t&&t(r);l<s.length;l++)a=s[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(250);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"===typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var l={};function h(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:l}var c=Object.assign,d=Object.getOwnPropertyDescriptor,f=Object.defineProperty,p=Object.prototype,v=[];Object.freeze(v);var m={};Object.freeze(m);var g="undefined"!==typeof Proxy,y=Object.toString();function _(){g||u("Proxy not available")}function b(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var x=function(){};function w(e){return"function"===typeof e}function k(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function E(e){return null!==e&&"object"===typeof e}function T(e){if(!E(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"===typeof n&&n.toString()===y}function A(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function S(e,t,n){f(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function C(e,t,n){f(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function P(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return E(e)&&!0===e[n]}}function R(e){return e instanceof Map}function I(e){return e instanceof Set}var M="undefined"!==typeof Object.getOwnPropertySymbols;var O="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:M?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function D(e){return null===e?null:"object"===typeof e?""+e:e}function N(e,t){return p.hasOwnProperty.call(e,t)}var B=Object.getOwnPropertyDescriptors||function(e){var t={};return O(e).forEach((function(n){t[n]=d(e,n)})),t};function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X(r.key),r)}}function F(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,z(e,t)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function X(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var W=Symbol("mobx-stored-annotations");function Y(e){return Object.assign((function(t,n){q(t,n,e)}),e)}function q(e,t,n){N(e,W)||S(e,W,U({},e[W])),function(e){return e.annotationType_===ne}(n)||(e[W][t]=n)}var K=Symbol("mobx administration"),Z=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Qe.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return wt(this)},t.reportChanged=function(){bt(),kt(this),xt()},t.toString=function(){return this.name_},e}(),Q=P("Atom",Z);function J(e,t,n){void 0===t&&(t=x),void 0===n&&(n=x);var r,i=new Z(e);return t!==x&&Yt(Vt,i,t,r),n!==x&&Wt(i,n),i}var $={identity:function(e,t){return e===t},structural:function(e,t){return vr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e===1/t:e!==e&&t!==t},shallow:function(e,t){return vr(e,t,1)}};function ee(e,t,n){return hn(e)?e:Array.isArray(e)?De.array(e,{name:n}):T(e)?De.object(e,void 0,{name:n}):R(e)?De.map(e,{name:n}):I(e)?De.set(e,{name:n}):"function"!==typeof e||Gt(e)||un(e)?e:A(e)?sn(e):Ut(n,e)}function te(e){return e}var ne="override";function re(e,t){return{annotationType_:e,options_:t,make_:ie,extend_:ae}}function ie(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Gt(n.value))return 1;var a=se(e,this,t,n,!1);return f(r,t,a),2}function ae(e,t,n,r){var i=se(e,this,t,n);return e.defineProperty_(t,i,r)}function se(e,t,n,r,i){var a,s,o,u,l,h,c,d;void 0===i&&(i=mt.safeDescriptors),d=r,t.annotationType_,d.value;var f,p=r.value;null!=(a=t.options_)&&a.bound&&(p=p.bind(null!=(f=e.proxy_)?f:e.target_));return{value:Ve(null!=(s=null==(o=t.options_)?void 0:o.name)?s:n.toString(),p,null!=(u=null==(l=t.options_)?void 0:l.autoAction)&&u,null!=(h=t.options_)&&h.bound?null!=(c=e.proxy_)?c:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function oe(e,t){return{annotationType_:e,options_:t,make_:ue,extend_:le}}function ue(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!N(e.target_,t)||!un(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(un(n.value))return 1;var a=he(e,this,t,n,!1,!1);return f(r,t,a),2}function le(e,t,n,r){var i,a=he(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,a,r)}function he(e,t,n,r,i,a){var s;void 0===a&&(a=mt.safeDescriptors),s=r,t.annotationType_,s.value;var o,u=r.value;(un(u)||(u=sn(u)),i)&&((u=u.bind(null!=(o=e.proxy_)?o:e.target_)).isMobXFlow=!0);return{value:u,configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function ce(e,t){return{annotationType_:e,options_:t,make_:de,extend_:fe}}function de(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function fe(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,U({},this.options_,{get:n.get,set:n.set}),r)}function pe(e,t){return{annotationType_:e,options_:t,make_:ve,extend_:me}}function ve(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function me(e,t,n,r){var i,a;return function(e,t,n,r){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(a=this.options_)?void 0:a.enhancer)?i:ee,r)}var ge="true",ye=_e();function _e(e){return{annotationType_:ge,options_:e,make_:be,extend_:xe}}function be(e,t,n,r){var i,a,s,o;if(n.get)return Fe.make_(e,t,n,r);if(n.set){var u=Ve(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!mt.safeDescriptors||e.isPlainObject_,set:u})?0:2:(f(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"===typeof n.value)return A(n.value)?(null!=(o=this.options_)&&o.autoBind?sn.bound:sn).make_(e,t,n,r):(null!=(s=this.options_)&&s.autoBind?Ut.bound:Ut).make_(e,t,n,r);var l,h=!1===(null==(i=this.options_)?void 0:i.deep)?De.ref:De;"function"===typeof n.value&&null!=(a=this.options_)&&a.autoBind&&(n.value=n.value.bind(null!=(l=e.proxy_)?l:e.target_));return h.make_(e,t,n,r)}function xe(e,t,n,r){var i,a,s;if(n.get)return Fe.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!mt.safeDescriptors||e.isPlainObject_,set:Ve(t.toString(),n.set)},r);"function"===typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(s=e.proxy_)?s:e.target_));return(!1===(null==(a=this.options_)?void 0:a.deep)?De.ref:De).extend_(e,t,n,r)}var we={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ke(e){return e||we}Object.freeze(we);var Ee=pe("observable"),Te=pe("observable.ref",{enhancer:te}),Ae=pe("observable.shallow",{enhancer:function(e,t,n){return void 0===e||null===e||Jn(e)||Nn(e)||jn(e)||Xn(e)?e:Array.isArray(e)?De.array(e,{name:n,deep:!1}):T(e)?De.object(e,void 0,{name:n,deep:!1}):R(e)?De.map(e,{name:n,deep:!1}):I(e)?De.set(e,{name:n,deep:!1}):void 0}}),Se=pe("observable.struct",{enhancer:function(e,t){return vr(e,t)?t:e}}),Ce=Y(Ee);function Pe(e){return!0===e.deep?ee:!1===e.deep?te:function(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:ee}(e.defaultDecorator)}function Re(e,t,n){if(!k(t))return hn(e)?e:T(e)?De.object(e,t,n):Array.isArray(e)?De.array(e,t):R(e)?De.map(e,t):I(e)?De.set(e,t):"object"===typeof e&&null!==e?e:De.box(e,t);q(e,t,Ee)}c(Re,Ce);var Ie,Me,Oe={box:function(e,t){var n=ke(t);return new Ze(e,Pe(n),n.name,!0,n.equals)},array:function(e,t){var n=ke(t);return(!1===mt.useProxies||!1===n.proxy?hr:An)(e,Pe(n),n.name)},map:function(e,t){var n=ke(t);return new zn(e,Pe(n),n.name)},set:function(e,t){var n=ke(t);return new Vn(e,Pe(n),n.name)},object:function(e,t,n){return Jt(!1===mt.useProxies||!1===(null==n?void 0:n.proxy)?Kn({},n):function(e,t){var n,r;return _(),e=Kn(e,t),null!=(r=(n=e[K]).proxy_)?r:n.proxy_=new Proxy(e,fn)}({},n),e,t)},ref:Y(Te),shallow:Y(Ae),deep:Ce,struct:Y(Se)},De=c(Re,Oe),Ne="computed",Be=ce(Ne),Le=ce("computed.struct",{equals:$.structural}),Fe=function(e,t){if(k(t))return q(e,t,Be);if(T(e))return Y(ce(Ne,e));var n=T(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new $e(n)};Object.assign(Fe,Be),Fe.struct=Y(Le);var Ue,Ge=0,ze=1,je=null!=(Ie=null==(Me=d((function(){}),"name"))?void 0:Me.configurable)&&Ie,He={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ve(e,t,n,r){function i(){return Xe(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,je&&(He.value=e,f(i,"name",He)),i}function Xe(e,t,n,r,i){var a=function(e,t,n,r){var i=!1,a=0;0;var s=mt.trackingDerivation,o=!t||!s;bt();var u=mt.allowStateChanges;o&&(ut(),u=Ye(!0));var l=ht(!0),h={runAsAction_:o,prevDerivation_:s,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:i,startTime_:a,actionId_:ze++,parentActionId_:Ge};return Ge=h.actionId_,h}(0,t);try{return n.apply(r,i)}catch(s){throw a.error_=s,s}finally{!function(e){Ge!==e.actionId_&&u(30);Ge=e.parentActionId_,void 0!==e.error_&&(mt.suppressReactionErrors=!0);qe(e.prevAllowStateChanges_),ct(e.prevAllowStateReads_),xt(),e.runAsAction_&&lt(e.prevDerivation_);0;mt.suppressReactionErrors=!1}(a)}}function We(e,t){var n=Ye(e);try{return t()}finally{qe(n)}}function Ye(e){var t=mt.allowStateChanges;return mt.allowStateChanges=e,t}function qe(e){mt.allowStateChanges=e}Ue=Symbol.toPrimitive;var Ke,Ze=function(e){function t(t,n,r,i,a){var s;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=$.default),(s=e.call(this,r)||this).enhancer=void 0,s.name_=void 0,s.equals=void 0,s.hasUnreportedChange_=!1,s.interceptors_=void 0,s.changeListeners_=void 0,s.value_=void 0,s.dehancer=void 0,s.enhancer=n,s.name_=r,s.equals=a,s.value_=n(t,void 0,r),s}G(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==mt.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(it(this),pn(this)){var t=mn(this,{object:this,type:kn,newValue:e});if(!t)return mt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?mt.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),gn(this)&&_n(this,{type:kn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return vn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:kn,newValue:this.value_,oldValue:void 0}),yn(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return D(this.get())},n[Ue]=function(){return this.valueOf()},t}(Z);Ke=Symbol.toPrimitive;var Qe,Je,$e=function(){function e(e){this.dependenciesState_=Qe.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Qe.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new tt(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Je.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||u(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Ve("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?$.structural:$.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==Qe.UP_TO_DATE_)return;e.lowestObserverState_=Qe.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Qe.UP_TO_DATE_&&(e.dependenciesState_=Qe.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&u(32,this.name_,this.derivation),0!==mt.inBatch||0!==this.observers_.size||this.keepAlive_){if(wt(this),rt(this)){var e=mt.trackingContext;this.keepAlive_&&!e&&(mt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===Qe.STALE_)return;e.lowestObserverState_=Qe.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===Qe.POSSIBLY_STALE_?t.dependenciesState_=Qe.STALE_:t.dependenciesState_===Qe.UP_TO_DATE_&&(e.lowestObserverState_=Qe.UP_TO_DATE_)}))}(this),mt.trackingContext=e}}else rt(this)&&(this.warnAboutUntrackedRead_(),bt(),this.value_=this.computeValue_(!1),xt());var t=this.value_;if(nt(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&u(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else u(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===Qe.NOT_TRACKING_,n=this.computeValue_(!0),r=t||nt(e)||nt(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=Ye(!1);if(e)t=at(this,this.derivation,this.scope_);else if(!0===mt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(fa){t=new tt(fa)}return qe(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(st(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return zt((function(){var a=n.get();if(!r||t){var s=ut();e({observableKind:"computed",debugObjectName:n.name_,type:kn,object:n,newValue:a,oldValue:i}),lt(s)}r=!1,i=a}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return D(this.get())},t[Ke]=function(){return this.valueOf()},e}(),et=P("ComputedValue",$e);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(Qe||(Qe={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Je||(Je={}));var tt=function(e){this.cause=void 0,this.cause=e};function nt(e){return e instanceof tt}function rt(e){switch(e.dependenciesState_){case Qe.UP_TO_DATE_:return!1;case Qe.NOT_TRACKING_:case Qe.STALE_:return!0;case Qe.POSSIBLY_STALE_:for(var t=ht(!0),n=ut(),r=e.observing_,i=r.length,a=0;a<i;a++){var s=r[a];if(et(s)){if(mt.disableErrorBoundaries)s.get();else try{s.get()}catch(fa){return lt(n),ct(t),!0}if(e.dependenciesState_===Qe.STALE_)return lt(n),ct(t),!0}}return dt(e),lt(n),ct(t),!1}}function it(e){}function at(e,t,n){var r=ht(!0);dt(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++mt.runId;var i,a=mt.trackingDerivation;if(mt.trackingDerivation=e,mt.inBatch++,!0===mt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(fa){i=new tt(fa)}return mt.inBatch--,mt.trackingDerivation=a,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Qe.UP_TO_DATE_,i=0,a=e.unboundDepsCount_,s=0;s<a;s++){var o=n[s];0===o.diffValue_&&(o.diffValue_=1,i!==s&&(n[i]=o),i++),o.dependenciesState_>r&&(r=o.dependenciesState_)}n.length=i,e.newObserving_=null,a=t.length;for(;a--;){var u=t[a];0===u.diffValue_&&yt(u,e),u.diffValue_=0}for(;i--;){var l=n[i];1===l.diffValue_&&(l.diffValue_=0,gt(l,e))}r!==Qe.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),ct(r),i}function st(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)yt(t[n],e);e.dependenciesState_=Qe.NOT_TRACKING_}function ot(e){var t=ut();try{return e()}finally{lt(t)}}function ut(){var e=mt.trackingDerivation;return mt.trackingDerivation=null,e}function lt(e){mt.trackingDerivation=e}function ht(e){var t=mt.allowStateReads;return mt.allowStateReads=e,t}function ct(e){mt.allowStateReads=e}function dt(e){if(e.dependenciesState_!==Qe.UP_TO_DATE_){e.dependenciesState_=Qe.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Qe.UP_TO_DATE_}}var ft=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},pt=!0,vt=!1,mt=function(){var e=h();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(pt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ft).version&&(pt=!1),pt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ft):(setTimeout((function(){vt||u(35)}),1),new ft)}();function gt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function yt(e,t){e.observers_.delete(t),0===e.observers_.size&&_t(e)}function _t(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,mt.pendingUnobservations.push(e))}function bt(){mt.inBatch++}function xt(){if(0===--mt.inBatch){St();for(var e=mt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof $e&&n.suspend_())}mt.pendingUnobservations=[]}}function wt(e){var t=mt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&mt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&mt.inBatch>0&&_t(e),!1)}function kt(e){e.lowestObserverState_!==Qe.STALE_&&(e.lowestObserverState_=Qe.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Qe.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Qe.STALE_})))}var Et=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Qe.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Je.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,mt.pendingReactions.push(this),St())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){bt(),this.isScheduled_=!1;var e=mt.trackingContext;if(mt.trackingContext=this,rt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(fa){this.reportExceptionInDerivation_(fa)}}mt.trackingContext=e,xt()}},t.track=function(e){if(!this.isDisposed_){bt();0,this.isRunning_=!0;var t=mt.trackingContext;mt.trackingContext=this;var n=at(this,e,void 0);mt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&st(this),nt(n)&&this.reportExceptionInDerivation_(n.cause),xt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(mt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";mt.suppressReactionErrors||console.error(n,e),mt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(bt(),st(this),xt()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[K]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){u("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"===typeof n[n.length-1]&&(e=n.pop());var i=function(e){switch(e.length){case 0:return mt.trackingDerivation;case 1:return cr(e[0]);case 2:return cr(e[0],e[1])}}(n);if(!i)return u("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===Je.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled");i.isTracing_=e?Je.BREAK:Je.LOG}(this,e)},e}();var Tt=100,At=function(e){return e()};function St(){mt.inBatch>0||mt.isRunningReactions||At(Ct)}function Ct(){mt.isRunningReactions=!0;for(var e=mt.pendingReactions,t=0;e.length>0;){++t===Tt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}mt.isRunningReactions=!1}var Pt=P("Reaction",Et);var Rt="action",It="autoAction",Mt="<unnamed action>",Ot=re(Rt),Dt=re("action.bound",{bound:!0}),Nt=re(It,{autoAction:!0}),Bt=re("autoAction.bound",{autoAction:!0,bound:!0});function Lt(e){return function(t,n){return w(t)?Ve(t.name||Mt,t,e):w(n)?Ve(t,n,e):k(n)?q(t,n,e?Nt:Ot):k(t)?Y(re(e?It:Rt,{name:t,autoAction:e})):void 0}}var Ft=Lt(!1);Object.assign(Ft,Ot);var Ut=Lt(!0);function Gt(e){return w(e)&&!0===e.isMobxAction}function zt(e,t){var n,r;void 0===t&&(t=m);var i,a=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)i=new Et(a,(function(){this.track(u)}),t.onError,t.requiresObservable);else{var s=Ht(t),o=!1;i=new Et(a,(function(){o||(o=!0,s((function(){o=!1,i.isDisposed_||i.track(u)})))}),t.onError,t.requiresObservable)}function u(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Ut,Nt),Ft.bound=Y(Dt),Ut.bound=Y(Bt);var jt=function(e){return e()};function Ht(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:jt}var Vt="onBO",Xt="onBUO";function Wt(e,t,n){return Yt(Xt,e,t,n)}function Yt(e,t,n,r){var i="function"===typeof r?cr(t,n):cr(t),a=w(r)?r:n,s=e+"L";return i[s]?i[s].add(a):i[s]=new Set([a]),function(){var e=i[s];e&&(e.delete(a),0===e.size&&delete i[s])}}var qt="never",Kt="always",Zt="observed";function Qt(e){!0===e.isolateGlobalState&&function(){if((mt.pendingReactions.length||mt.inBatch||mt.isRunningReactions)&&u(36),vt=!0,pt){var e=h();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),mt=new ft}}();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(mt.useProxies=t===Kt||t!==qt&&"undefined"!==typeof Proxy),"ifavailable"===t&&(mt.verifyProxies=!0),void 0!==n){var r=n===Kt?Kt:n===Zt;mt.enforceActions=r,mt.allowStateChanges=!0!==r&&r!==Kt}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(mt[t]=!!e[t])})),mt.allowStateReads=!mt.observableRequiresReaction,e.reactionScheduler&&function(e){var t=At;At=function(n){return e((function(){return t(n)}))}}(e.reactionScheduler)}function Jt(e,t,n,r){var i=B(t),a=Kn(e,r)[K];bt();try{O(i).forEach((function(e){a.extend_(e,i[e],!n||(!(e in n)||n[e]))}))}finally{xt()}return e}function $t(e,t){return en(cr(e,t))}function en(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(en)),n}var tn=0;function nn(){this.message="FLOW_CANCELLED"}nn.prototype=Object.create(Error.prototype);var rn=oe("flow"),an=oe("flow.bound",{bound:!0}),sn=Object.assign((function(e,t){if(k(t))return q(e,t,rn);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++tn,a=Ft(r+" - runid: "+i+" - init",n).apply(this,t),s=void 0,o=new Promise((function(t,n){var o=0;function u(e){var t;s=void 0;try{t=Ft(r+" - runid: "+i+" - yield "+o++,a.next).call(a,e)}catch(fa){return n(fa)}h(t)}function l(e){var t;s=void 0;try{t=Ft(r+" - runid: "+i+" - yield "+o++,a.throw).call(a,e)}catch(fa){return n(fa)}h(t)}function h(e){if(!w(null==e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(u,l);e.then(h,n)}e=n,u(void 0)}));return o.cancel=Ft(r+" - runid: "+i+" - cancel",(function(){try{s&&on(s);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(x,x),on(n),e(new nn)}catch(fa){e(fa)}})),o};return i.isMobXFlow=!0,i}),rn);function on(e){w(e.cancel)&&e.cancel()}function un(e){return!0===(null==e?void 0:e.isMobXFlow)}function ln(e,t){return!!e&&(void 0!==t?!!Jn(e)&&e[K].values_.has(t):Jn(e)||!!e[K]||Q(e)||Pt(e)||et(e))}function hn(e){return ln(e)}function cn(e,t){void 0===t&&(t=void 0),bt();try{return e.apply(t)}finally{xt()}}function dn(e){return e[K]}sn.bound=Y(an);var fn={has:function(e,t){return dn(e).has_(t)},get:function(e,t){return dn(e).get_(t)},set:function(e,t,n){var r;return!!k(t)&&(null==(r=dn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!k(t)&&(null==(n=dn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=dn(e).defineProperty_(t,n))||r},ownKeys:function(e){return dn(e).ownKeys_()},preventExtensions:function(e){u(13)}};function pn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function vn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),b((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function mn(e,t){var n=ut();try{for(var r=[].concat(e.interceptors_||[]),i=0,a=r.length;i<a&&((t=r[i](t))&&!t.type&&u(14),t);i++);return t}finally{lt(n)}}function gn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function yn(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),b((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function _n(e,t){var n=ut(),r=e.changeListeners_;if(r){for(var i=0,a=(r=r.slice()).length;i<a;i++)r[i](t);lt(n)}}var bn=Symbol("mobx-keys");function xn(e,t,n){if(T(e))return Jt(e,e,t,n);var r=Kn(e,n)[K];if(!e[bn]){var i=Object.getPrototypeOf(e),a=new Set([].concat(O(e),O(i)));a.delete("constructor"),a.delete(K),S(i,bn,a)}bt();try{e[bn].forEach((function(e){return r.make_(e,!t||(!(e in t)||t[e]))}))}finally{xt()}return e}var wn="splice",kn="update",En={get:function(e,t){var n=e[K];return t===K?n:"length"===t?n.getArrayLength_():"string"!==typeof t||isNaN(t)?N(Sn,t)?Sn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[K];return"length"===t&&r.setArrayLength_(n),"symbol"===typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){u(15)}},Tn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Z(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return vn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),yn(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!==typeof e||isNaN(e)||e<0)&&u("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&u(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&lr(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=v),pn(this)){var a=mn(this,{object:this.proxy_,type:wn,index:e,removedCount:t,added:n});if(!a)return v;t=a.removedCount,n=a.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var s=n.length-t;this.updateArrayLength_(i,s)}var o=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,o),this.dehanceValues_(o)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),a=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var s=0;s<n.length;s++)this.values_[e+s]=n[s];for(var o=0;o<a.length;o++)this.values_[e+n.length+o]=a[o];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=gn(this),a=i||r?{observableKind:"array",object:this.proxy_,type:kn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&_n(this,a)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=gn(this),a=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:wn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&_n(this,a)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&u(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(pn(this)){var i=mn(this,{type:kn,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var a=new Array(e+1-n.length),s=0;s<a.length-1;s++)a[s]=void 0;a[a.length-1]=t,this.spliceWithArray_(n.length,0,a)}},e}();function An(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),_();var i=new Tn(n,t,r,!1);C(i.values_,K,i);var a=new Proxy(i.values_,En);if(i.proxy_=a,e&&e.length){var s=Ye(!0);i.spliceWithArray_(0,0,e),qe(s)}return a}var Sn={clear:function(){return this.splice(0)},replace:function(e){var t=this[K];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=this[K];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[K].spliceWithArray_(e,t,n)},push:function(){for(var e=this[K],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[K].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[K],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return mt.trackingDerivation&&u(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){mt.trackingDerivation&&u(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[K],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Cn(e,t){"function"===typeof Array.prototype[e]&&(Sn[e]=t(e))}function Pn(e){return function(){var t=this[K];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Rn(e){return function(t,n){var r=this,i=this[K];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function In(e){return function(){var t=this,n=this[K];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}Cn("concat",Pn),Cn("flat",Pn),Cn("includes",Pn),Cn("indexOf",Pn),Cn("join",Pn),Cn("lastIndexOf",Pn),Cn("slice",Pn),Cn("toString",Pn),Cn("toLocaleString",Pn),Cn("every",Rn),Cn("filter",Rn),Cn("find",Rn),Cn("findIndex",Rn),Cn("flatMap",Rn),Cn("forEach",Rn),Cn("map",Rn),Cn("some",Rn),Cn("reduce",In),Cn("reduceRight",In);var Mn,On,Dn=P("ObservableArrayAdministration",Tn);function Nn(e){return E(e)&&Dn(e[K])}var Bn={},Ln="add",Fn="delete";Mn=Symbol.iterator,On=Symbol.toStringTag;var Un,Gn,zn=function(){function e(e,t,n){var r=this;void 0===t&&(t=ee),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[K]=Bn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,w(Map)||u(18),this.keysAtom_=J("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,We(!0,(function(){r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!mt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Ze(this.has_(e),te,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Wt(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(pn(this)){var r=mn(this,{type:n?kn:Ln,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,pn(this))&&!mn(this,{type:Fn,object:this,name:e}))return!1;if(this.has_(e)){var n=gn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Fn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return cn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&_n(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==mt.UNCHANGED){var r=gn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:kn,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&_n(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,cn((function(){var r,i=new Ze(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=gn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Ln,object:this,name:e,newValue:t}:null;r&&_n(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return yr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return yr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Mn]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=V(this);!(n=r()).done;){var i=n.value,a=i[0],s=i[1];e.call(t,s,a,this)}},t.merge=function(e){var t=this;return jn(e)&&(e=new Map(e)),cn((function(){T(e)?function(e){var t=Object.keys(e);if(!M)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return p.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):R(e)?(e.constructor!==Map&&u(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&u(20,e)})),this},t.clear=function(){var e=this;cn((function(){ot((function(){for(var t,n=V(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return cn((function(){for(var n,r=function(e){if(R(e)||jn(e))return e;if(Array.isArray(e))return new Map(e);if(T(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return u(21,e)}(e),i=new Map,a=!1,s=V(t.data_.keys());!(n=s()).done;){var o=n.value;if(!r.has(o))if(t.delete(o))a=!0;else{var l=t.data_.get(o);i.set(o,l)}}for(var h,c=V(r.entries());!(h=c()).done;){var d=h.value,f=d[0],p=d[1],v=t.data_.has(f);if(t.set(f,p),t.data_.has(f)){var m=t.data_.get(f);i.set(f,m),v||(a=!0)}}if(!a)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var g=t.data_.keys(),y=i.keys(),_=g.next(),b=y.next();!_.done;){if(_.value!==b.value){t.keysAtom_.reportChanged();break}_=g.next(),b=y.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return vn(this,e)},F(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:On,get:function(){return"Map"}}]),e}(),jn=P("ObservableMap",zn);var Hn={};Un=Symbol.iterator,Gn=Symbol.toStringTag;var Vn=function(){function e(e,t,n){void 0===t&&(t=ee),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[K]=Hn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,w(Set)||u(22),this.atom_=J(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;cn((function(){ot((function(){for(var t,n=V(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=V(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,pn(this))&&!mn(this,{type:Ln,object:this,newValue:e}))return this;if(!this.has(e)){cn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=gn(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:Ln,object:this,newValue:e}:null;n,r&&_n(this,i)}return this},t.delete=function(e){var t=this;if(pn(this)&&!mn(this,{type:Fn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=gn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Fn,object:this,oldValue:e}:null;return cn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&_n(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return yr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return yr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return Xn(e)&&(e=new Set(e)),cn((function(){Array.isArray(e)||I(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&u("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return vn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Un]=function(){return this.values()},F(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Gn,get:function(){return"Set"}}]),e}(),Xn=P("ObservableSet",Vn),Wn=Object.create(null),Yn="remove",qn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=ye),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Z("ObservableObject.keys"),this.isPlainObject_=T(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof $e)return n.set(t),!0;if(pn(this)){var r=mn(this,{type:kn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==mt.UNCHANGED){var i=gn(this),a=i?{type:kn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&_n(this,a)}return!0},t.get_=function(e){return mt.trackingDerivation&&!N(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),N(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!mt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Ze(e in this.target_,te,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(er(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[W])&&n[e])return;u(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==p;){var i=d(r,e);if(i){var a=t.make_(this,e,i,r);if(0===a)return;if(1===a)break}r=Object.getPrototypeOf(r)}$n(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);er(this,n,e);var i=n.extend_(this,e,t,r);return i&&$n(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{bt();var r=this.delete_(e);if(!r)return r;if(pn(this)){var i=mn(this,{object:this.proxy_||this.target_,name:e,type:Ln,newValue:t.value});if(!i)return null;var a=i.newValue;t.value!==a&&(t=U({},t,{value:a}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else f(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{xt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{bt();var i=this.delete_(e);if(!i)return i;if(pn(this)){var a=mn(this,{object:this.proxy_||this.target_,name:e,type:Ln,newValue:t});if(!a)return null;t=a.newValue}var s=Qn(e),o={configurable:!mt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:s.get,set:s.set};if(r){if(!Reflect.defineProperty(this.target_,e,o))return!1}else f(this.target_,e,o);var u=new Ze(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{xt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{bt();var r=this.delete_(e);if(!r)return r;if(pn(this))if(!mn(this,{object:this.proxy_||this.target_,name:e,type:Ln,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Qn(e),a={configurable:!mt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,a))return!1}else f(this.target_,e,a);this.values_.set(e,new $e(t)),this.notifyPropertyAddition_(e,void 0)}finally{xt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!N(this.target_,e))return!0;if(pn(this)&&!mn(this,{object:this.proxy_||this.target_,name:e,type:Yn}))return null;try{var n,r;bt();var i,a=gn(this),s=this.values_.get(e),o=void 0;if(!s&&a)o=null==(i=d(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(s&&(this.values_.delete(e),s instanceof Ze&&(o=s.value_),kt(s)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),a){var u={type:Yn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:o,name:e};0,a&&_n(this,u)}}finally{xt()}return!0},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return vn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=gn(this);if(i){var a=i?{type:Ln,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,i&&_n(this,a)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),O(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Kn(e,t){var n;if(N(e,K))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new qn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:_e(e):void 0}(t));return S(e,K,i),e}var Zn=P("ObservableObjectAdministration",qn);function Qn(e){return Wn[e]||(Wn[e]={get:function(){return this[K].getObservablePropValue_(e)},set:function(t){return this[K].setObservablePropValue_(e,t)}})}function Jn(e){return!!E(e)&&Zn(e[K])}function $n(e,t,n){var r;null==(r=e.target_[W])||delete r[n]}function er(e,t,n){}var tr,nr,rr=or(0),ir=0,ar=function(){};tr=ar,nr=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(tr.prototype,nr):void 0!==tr.prototype.__proto__?tr.prototype.__proto__=nr:tr.prototype=nr;var sr=function(e,t,n){function r(t,n,r,i){var a;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),a=e.call(this)||this;var s=new Tn(r,n,i,!0);if(s.proxy_=j(a),C(j(a),K,s),t&&t.length){var o=Ye(!0);a.spliceWithArray(0,0,t),qe(o)}return Object.defineProperty(j(a),"0",rr),a}G(r,e);var i=r.prototype;return i.concat=function(){this[K].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Nn(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return yr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},F(r,[{key:"length",get:function(){return this[K].getArrayLength_()},set:function(e){this[K].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(ar,Symbol.toStringTag,Symbol.iterator);function or(e){return{enumerable:!1,configurable:!0,get:function(){return this[K].get_(e)},set:function(t){this[K].set_(e,t)}}}function ur(e){f(sr.prototype,""+e,or(e))}function lr(e){if(e>ir){for(var t=ir;t<e+100;t++)ur(t);ir=e}}function hr(e,t,n){return new sr(e,t,n)}function cr(e,t){if("object"===typeof e&&null!==e){if(Nn(e))return void 0!==t&&u(23),e[K].atom_;if(Xn(e))return e.atom_;if(jn(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||u(25,t,fr(e)),n}if(Jn(e)){if(!t)return u(26);var r=e[K].values_.get(t);return r||u(27,t,fr(e)),r}if(Q(e)||et(e)||Pt(e))return e}else if(w(e)&&Pt(e[K]))return e[K];u(28)}function dr(e,t){return e||u(29),void 0!==t?dr(cr(e,t)):Q(e)||et(e)||Pt(e)||jn(e)||Xn(e)?e:e[K]?e[K]:void u(24,e)}function fr(e,t){var n;if(void 0!==t)n=cr(e,t);else{if(Gt(e))return e.name;n=Jn(e)||jn(e)||Xn(e)?dr(e):cr(e)}return n.name_}Object.entries(Sn).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&S(sr.prototype,t,n)})),lr(1e3);var pr=p.toString;function vr(e,t,n){return void 0===n&&(n=-1),mr(e,t,n)}function mr(e,t,n,r,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof t)return!1;var s=pr.call(e);if(s!==pr.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=gr(e),t=gr(t);var o="[object Array]"===s;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,l=t.constructor;if(u!==l&&!(w(u)&&u instanceof u&&w(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var h=(r=r||[]).length;h--;)if(r[h]===e)return i[h]===t;if(r.push(e),i.push(t),o){if((h=e.length)!==t.length)return!1;for(;h--;)if(!mr(e[h],t[h],n-1,r,i))return!1}else{var c,d=Object.keys(e);if(h=d.length,Object.keys(t).length!==h)return!1;for(;h--;)if(!N(t,c=d[h])||!mr(e[c],t[c],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function gr(e){return Nn(e)?e.slice():R(e)||jn(e)||I(e)||Xn(e)?Array.from(e.entries()):e}function yr(e){return e[Symbol.iterator]=_r,e}function _r(){return this}["Symbol","Map","Set"].forEach((function(e){"undefined"===typeof h()[e]&&u("MobX requires global '"+e+"' to be available or polyfilled")})),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:fr},$mobx:K});var br=function(){function e(){o(this,e),this.budget=5e3,this.coinValue=.2,this.maxCoinValue=2,this.betLevel=2,this.maxBetLevel=10,this.win=0,this.winRate=100,xn(this,{},{autoBind:!0})}return s(e,[{key:"coins",get:function(){return this.budget/this.coinValue}},{key:"nextBet",get:function(){return 5*this.betLevel}},{key:"nextBetVal",get:function(){return this.nextBet*this.coinValue}},{key:"winValue",get:function(){var e=this.budget-5e3;return e>0?e:0}},{key:"isMaxBet",get:function(){return this.betLevel>=this.maxBetLevel}},{key:"isMaxCoinValue",get:function(){return this.coinValue>=this.maxCoinValue}},{key:"toWin",value:function(){return this.nextBet*this.winRate}},{key:"won",value:function(){this.win=this.nextBet*this.winRate,this.budget+=this.win*this.coinValue}},{key:"payForBet",value:function(){this.budget-=this.nextBetVal}},{key:"changeBetLevel",value:function(e){"increase"===e?this.betLevel+=1:"decrease"===e?this.betLevel-=1:"max"===e&&(this.betLevel=this.maxBetLevel)}},{key:"changeCoinValue",value:function(e){"increase"===e?this.coinValue+=.1:"decrease"===e?this.coinValue-=.1:"max"===e&&(this.coinValue=this.maxCoinValue)}}]),e}(),xr=s((function e(){var t=this;o(this,e),this.name="Player",this.currencies=["\u20ac","$","PLN"],this.currency=this.currencies[0],this.coinValue=.1,this.language="english",this.cheatMode=!0,this.toggleCheatMode=function(e){t.cheatMode=e},xn(this)})),wr=s((function e(){o(this,e),this.budget=new br,this.player=new xr,xn(this,{},{autoBind:!0})})),kr=(0,e.createContext)(null),Er=new wr;if(!e.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!function(e,t,n){var r=Kn(e,n)[K];bt();try{0,null!=t||(t=function(e){return N(e,W)||S(e,W,U({},e[W])),e[W]}(e)),O(t).forEach((function(e){return r.make_(e,t[e])}))}finally{xt()}return e})throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Tr=n(164);function Ar(e){e()}function Sr(e){return $t(e)}var Cr=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,i){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(i))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),Pr=new("undefined"!==typeof FinalizationRegistry?FinalizationRegistry:Cr)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),Rr=!1;function Ir(){return Rr}var Mr=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(o){i={error:o}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s};function Or(e){return"observer".concat(e)}var Dr=function(){};function Nr(){return new Dr}function Br(t,n){if(void 0===n&&(n="observed"),Ir())return t();var r=Mr(e.useState(Nr),1)[0],i=Mr(e.useState(),2)[1],a=function(){return i([])},s=e.useRef(null);s.current||(s.current={reaction:null,mounted:!1,changedBeforeMount:!1});var o,u,l=s.current;if(l.reaction||(l.reaction=new Et(Or(n),(function(){l.mounted?a():l.changedBeforeMount=!0})),Pr.register(r,l,l)),e.useDebugValue(l.reaction,Sr),e.useEffect((function(){return Pr.unregister(l),l.mounted=!0,l.reaction?l.changedBeforeMount&&(l.changedBeforeMount=!1,a()):(l.reaction=new Et(Or(n),(function(){a()})),a()),function(){l.reaction.dispose(),l.reaction=null,l.mounted=!1,l.changedBeforeMount=!1}}),[]),l.reaction.track((function(){try{o=t()}catch(fa){u=fa}})),u)throw u;return o}var Lr="function"===typeof Symbol&&Symbol.for,Fr=Lr?Symbol.for("react.forward_ref"):"function"===typeof e.forwardRef&&(0,e.forwardRef)((function(e){return null})).$$typeof,Ur=Lr?Symbol.for("react.memo"):"function"===typeof e.memo&&(0,e.memo)((function(e){return null})).$$typeof;function Gr(t,n){var r;if(Ur&&t.$$typeof===Ur)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(Ir())return t;var i=null!==(r=null===n||void 0===n?void 0:n.forwardRef)&&void 0!==r&&r,a=t,s=t.displayName||t.name;if(Fr&&t.$$typeof===Fr&&(i=!0,"function"!==typeof(a=t.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o,u,l=function(e,t){return Br((function(){return a(e,t)}),s)};return""!==s&&(l.displayName=s),t.contextTypes&&(l.contextTypes=t.contextTypes),i&&(l=(0,e.forwardRef)(l)),l=(0,e.memo)(l),o=t,u=l,Object.keys(o).forEach((function(e){zr[e]||Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(o,e))})),l}var zr={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};var jr;!function(e){e||(e=Ar),Qt({reactionScheduler:e})}(Tr.unstable_batchedUpdates);jr=Pr.finalizeAllImmediately;function Hr(){var t=(0,e.useContext)(kr);if(!t)throw new Error("context is not available");return t}var Vr=n(184),Xr=Gr((function(){var e=Hr(),t=e.budget,n=t.budget,r=t.nextBetVal,i=t.winValue,a=e.player.currency;return(0,Vr.jsxs)("div",{className:"budget",children:[(0,Vr.jsxs)("div",{children:["Total budget: ",n.toFixed(2),a]}),(0,Vr.jsxs)("div",{children:["Bet: ",r.toFixed(1)," ",a]}),(0,Vr.jsxs)("div",{children:["Win: ",i.toFixed(2)," ",a]})]})})),Wr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yr=e.createContext&&e.createContext(Wr),qr=function(){return qr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qr.apply(this,arguments)},Kr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Zr(t){return t&&t.map((function(t,n){return e.createElement(t.tag,qr({key:n},t.attr),Zr(t.child))}))}function Qr(t){return function(n){return e.createElement(Jr,qr({attr:qr({},t.attr)},n),Zr(t.child))}}function Jr(t){var n=function(n){var r,i=t.attr,a=t.size,s=t.title,o=Kr(t,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",qr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:r,style:qr(qr({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&e.createElement("title",null,s),t.children)};return void 0!==Yr?e.createElement(Yr.Consumer,null,(function(e){return n(e)})):n(Wr)}function $r(e){return Qr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112L184 256l144 144"}}]})(e)}function ei(e){return Qr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M184 112l144 144-144 144"}}]})(e)}function ti(e){return Qr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var ni=function(e){var t=e.change,n=e.onClick,r=e.disabled;return(0,Vr.jsx)("button",{className:"btn",onClick:n,disabled:r,children:"increase"===t?(0,Vr.jsx)(ei,{}):(0,Vr.jsx)($r,{})})},ri=Gr((function(){var e=Hr().budget,t=e.nextBet,n=e.betLevel,r=e.changeBetLevel,i=e.isMaxBet;return function(e,t,n){var r;void 0===n&&(n=m);var i,a,s,o,u=null!=(r=n.name)?r:"Reaction",l=Ft(u,n.onError?(i=n.onError,a=t,function(){try{return a.apply(this,arguments)}catch(fa){i.call(this,fa)}}):t),h=!n.scheduler&&!n.delay,c=Ht(n),d=!0,f=!1,p=n.compareStructural?$.structural:n.equals||$.default,v=new Et(u,(function(){d||h?g():f||(f=!0,c(g))}),n.onError,n.requiresObservable);function g(){if(f=!1,!v.isDisposed_){var t=!1;v.track((function(){var n=We(!1,(function(){return e(v)}));t=d||!p(s,n),o=s,s=n})),(d&&n.fireImmediately||!d&&t)&&l(s,o,v),d=!1}}v.schedule_(),v.getDisposer_()}((function(){return t}),(function(e){return console.log("reaction")})),(0,Vr.jsxs)("div",{className:"next-bet",children:[(0,Vr.jsxs)("div",{children:["Next bet:",(0,Vr.jsx)("div",{className:"amount",children:t})]}),(0,Vr.jsxs)("div",{children:["Bet level",(0,Vr.jsxs)("div",{className:"changeable",children:[(0,Vr.jsx)(ni,{change:"decrease",onClick:function(){return r("decrease")},disabled:n<=1}),(0,Vr.jsx)("div",{className:"amount",children:n}),(0,Vr.jsx)(ni,{change:"increase",onClick:function(){return r("increase")},disabled:i})]})]})]})})),ii=ri,ai=Gr((function(){var e=Hr().budget,t=e.coins,n=e.coinValue,r=e.changeCoinValue,i=e.isMaxCoinValue;return(0,Vr.jsxs)("div",{className:"coins",children:[(0,Vr.jsxs)("div",{children:["Coins",(0,Vr.jsx)("div",{className:"amount",children:t.toFixed(0)})]}),(0,Vr.jsxs)("div",{children:["Coin value",(0,Vr.jsxs)("div",{className:"changeable ",children:[(0,Vr.jsx)(ni,{change:"decrease",onClick:function(){return r("decrease")},disabled:n<=.1}),(0,Vr.jsx)("div",{className:"amount",children:n.toFixed(1)}),(0,Vr.jsx)(ni,{change:"increase",onClick:function(){return r("increase")},disabled:i})]})]})]})})),si=function(){var e=Hr().budget,t=e.changeBetLevel,n=e.changeCoinValue;return(0,Vr.jsx)("div",{className:"maxBet-container",children:(0,Vr.jsx)("a",{onClick:function(){t("max"),n("max")},className:"btn",children:"Max Bet"})})},oi=Gr((function(){return(0,Vr.jsxs)("div",{className:"dashboard-container",children:[(0,Vr.jsxs)("div",{className:"main-panel",children:[(0,Vr.jsx)(ii,{}),(0,Vr.jsx)(si,{}),(0,Vr.jsx)(ai,{})]}),(0,Vr.jsx)(Xr,{})]})}));function ui(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ci,di=function(e){return e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e}(di||{}),fi=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e}(fi||{}),pi=function(e){return e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e}(pi||{}),vi=function(e){return e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e}(vi||{}),mi=function(e){return e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e}(mi||{}),gi=function(e){return e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e}(gi||{}),yi=function(e){return e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e}(yi||{}),_i=function(e){return e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e}(_i||{}),bi=function(e){return e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e}(bi||{}),xi=function(e){return e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e}(xi||{}),wi=function(e){return e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e}(wi||{}),ki=function(e){return e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e}(ki||{}),Ei=function(e){return e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e}(Ei||{}),Ti=function(e){return e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e}(Ti||{}),Ai=function(e){return e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e}(Ai||{}),Si=function(e){return e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e}(Si||{}),Ci=function(e){return e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e}(Ci||{}),Pi=function(e){return e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e}(Pi||{}),Ri=function(e){return e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e}(Ri||{}),Ii={createCanvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},getCanvasRenderingContext2D:function(){return CanvasRenderingContext2D},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var e;return null!==(e=document.baseURI)&&void 0!==e?e:window.location.href},getFontFaceSet:function(){return document.fonts},fetch:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)})),parseXML:function(e){return(new DOMParser).parseFromString(e,"text/xml")}},Mi={ADAPTER:Ii,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Oi=/iPhone/i,Di=/iPod/i,Ni=/iPad/i,Bi=/\biOS-universal(?:.+)Mac\b/i,Li=/\bAndroid(?:.+)Mobile\b/i,Fi=/Android/i,Ui=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Gi=/Silk/i,zi=/Windows Phone/i,ji=/\bWindows(?:.+)ARM\b/i,Hi=/BlackBerry/i,Vi=/BB10/i,Xi=/Opera Mini/i,Wi=/\b(CriOS|Chrome)(?:.+)Mobile/i,Yi=/Mobile(?:.+)Firefox\b/i,qi=function(e){return"undefined"!==typeof e&&"MacIntel"===e.platform&&"number"===typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"===typeof MSStream};function Ki(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"===typeof navigator?"string"===typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");"undefined"!==typeof r[1]&&(n=r[0]),"undefined"!==typeof(r=n.split("Twitter"))[1]&&(n=r[0]);var i=function(e){return function(t){return t.test(e)}}(n),a={apple:{phone:i(Oi)&&!i(zi),ipod:i(Di),tablet:!i(Oi)&&(i(Ni)||qi(t))&&!i(zi),universal:i(Bi),device:(i(Oi)||i(Di)||i(Ni)||i(Bi)||qi(t))&&!i(zi)},amazon:{phone:i(Ui),tablet:!i(Ui)&&i(Gi),device:i(Ui)||i(Gi)},android:{phone:!i(zi)&&i(Ui)||!i(zi)&&i(Li),tablet:!i(zi)&&!i(Ui)&&!i(Li)&&(i(Gi)||i(Fi)),device:!i(zi)&&(i(Ui)||i(Gi)||i(Li)||i(Fi))||i(/\bokhttp\b/i)},windows:{phone:i(zi),tablet:i(ji),device:i(zi)||i(ji)},other:{blackberry:i(Hi),blackberry10:i(Vi),opera:i(Xi),firefox:i(Yi),chrome:i(Wi),device:i(Hi)||i(Vi)||i(Xi)||i(Yi)||i(Wi)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var Zi=(null!==(ci=Ki.default)&&void 0!==ci?ci:Ki)(globalThis.navigator);Mi.RETINA_PREFIX=/@([0-9\.]+)x/,Mi.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Qi=n(143),Ji=n(89),$i=n(114),ea={parse:$i.Qc,format:$i.WU,resolve:$i.DB};function ta(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(e)))}function na(e){return e.split("?")[0].split("#")[0]}var ra,ia={toPosix:function(e){return t="\\",n="/",e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n);var t,n},isUrl:function(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:function(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},hasProtocol:function(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol:function(e){ta(e),e=this.toPosix(e);var t="",n=/^file:\/\/\//.exec(e),r=/^[^/:]+:\/\//.exec(e),i=/^[^/:]+:\//.exec(e);if(n||r||i){var a=(null===n||void 0===n?void 0:n[0])||(null===r||void 0===r?void 0:r[0])||(null===i||void 0===i?void 0:i[0]);t=a,e=e.slice(a.length)}return t},toAbsolute:function(e,t,n){if(this.isDataUrl(e))return e;var r=na(this.toPosix(null!==t&&void 0!==t?t:Mi.ADAPTER.getBaseUrl())),i=na(this.toPosix(null!==n&&void 0!==n?n:this.rootname(r)));return ta(e),(e=this.toPosix(e)).startsWith("/")?ia.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(r,e)},normalize:function(e){if(ta(e=this.toPosix(e)),0===e.length)return".";var t="",n=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));var r=e.endsWith("/");return e=function(e,t){for(var n="",r=0,i=-1,a=0,s=-1,o=0;o<=e.length;++o){if(o<e.length)s=e.charCodeAt(o);else{if(47===s)break;s=47}if(47===s){if(i===o-1||1===a);else if(i!==o-1&&2===a){if(n.length<2||2!==r||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",r=0):r=(n=n.slice(0,u)).length-1-n.lastIndexOf("/"),i=o,a=0;continue}}else if(2===n.length||1===n.length){n="",r=0,i=o,a=0;continue}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/".concat(e.slice(i+1,o)):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else 46===s&&-1!==a?++a:a=-1}return n}(e,!1),e.length>0&&r&&(e+="/"),n?"/".concat(e):t+e},isAbsolute:function(e){return ta(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=t<0||arguments.length<=t?void 0:arguments[t];if(ta(n),n.length>0)if(void 0===e)e=n;else{var r,i=null!==(r=t-1<0||arguments.length<=t-1?void 0:arguments[t-1])&&void 0!==r?r:"";this.extname(i)?e+="/../".concat(n):e+="/".concat(n)}}return void 0===e?".":this.normalize(e)},dirname:function(e){if(ta(e),0===e.length)return".";for(var t=(e=this.toPosix(e)).charCodeAt(0),n=47===t,r=-1,i=!0,a=this.getProtocol(e),s=e,o=(e=e.slice(a.length)).length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":this.isUrl(s)?a+e:a:n&&1===r?"//":a+e.slice(0,r)},rootname:function(e){ta(e);var t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){var n=e.indexOf("/",t.length);(t=-1!==n?e.slice(0,n):e).endsWith("/")||(t+="/")}return t},basename:function(e,t){ta(e),t&&ta(t),e=na(this.toPosix(e));var n,r=0,i=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,o=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!a){r=n+1;break}}else-1===o&&(a=!1,o=n+1),s>=0&&(u===t.charCodeAt(s)?-1===--s&&(i=n):(s=-1,i=o))}return r===i?i=o:-1===i&&(i=e.length),e.slice(r,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){r=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?"":e.slice(r,i)},extname:function(e){ta(e);for(var t=-1,n=0,r=-1,i=!0,a=0,s=(e=na(this.toPosix(e))).length-1;s>=0;--s){var o=e.charCodeAt(s);if(47!==o)-1===r&&(i=!1,r=s+1),46===o?-1===t?t=s:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)},parse:function(e){ta(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=(e=na(this.toPosix(e))).charCodeAt(0),i=this.isAbsolute(e);t.root=this.rootname(e),n=i||this.hasProtocol(e)?1:0;for(var a=-1,s=0,o=-1,u=!0,l=e.length-1,h=0;l>=n;--l)if(47!==(r=e.charCodeAt(l)))-1===o&&(u=!1,o=l+1),46===r?-1===a?a=l:1!==h&&(h=1):-1!==a&&(h=-1);else if(!u){s=l+1;break}return-1===a||-1===o||0===h||1===h&&a===o-1&&a===s+1?-1!==o&&(t.base=t.name=0===s&&i?e.slice(1,o):e.slice(s,o)):(0===s&&i?(t.name=e.slice(1,a),t.base=e.slice(1,o)):(t.name=e.slice(s,a),t.base=e.slice(s,o)),t.ext=e.slice(a,o)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"},aa={};function sa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!aa[t]){var r=(new Error).stack;"undefined"===typeof r?console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(t,"\nDeprecated since v").concat(e)),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)),console.warn(r))),aa[t]=!0}}function oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ua(e,t){if(e){if("string"===typeof e)return oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oa(e,t):void 0}}function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){l=!0,i=h}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}(e,t)||ua(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ha={grad:.9,turn:360,rad:360/(2*Math.PI)},ca=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},da=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},fa=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},pa=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},va=function(e){return{r:fa(e.r,0,255),g:fa(e.g,0,255),b:fa(e.b,0,255),a:fa(e.a)}},ma=function(e){return{r:da(e.r),g:da(e.g),b:da(e.b),a:da(e.a,3)}},ga=/^#([0-9a-f]{3,8})$/i,ya=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},_a=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),s=a-Math.min(t,n,r),o=s?a===t?(n-r)/s:a===n?2+(r-t)/s:4+(t-n)/s:0;return{h:60*(o<0?o+6:o),s:a?s/a*100:0,v:a/255*100,a:i}},ba=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),s=r*(1-n),o=r*(1-(t-a)*n),u=r*(1-(1-t+a)*n),l=a%6;return{r:255*[r,o,s,s,u,r][l],g:255*[u,r,r,o,s,s][l],b:255*[s,s,u,r,r,o][l],a:i}},xa=function(e){return{h:pa(e.h),s:fa(e.s,0,100),l:fa(e.l,0,100),a:fa(e.a)}},wa=function(e){return{h:da(e.h),s:da(e.s),l:da(e.l),a:da(e.a,3)}},ka=function(e){return ba((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Ea=function(e){return{h:(t=_a(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},Ta=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Aa=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sa=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ca=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pa={string:[[function(e){var t=ga.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?da(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?da(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=Sa.exec(e)||Ca.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:va({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Ta.exec(e)||Aa.exec(e);if(!t)return null;var n,r,i=xa({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(ha[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return ka(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=void 0===i?1:i;return ca(t)&&ca(n)&&ca(r)?va({r:Number(t),g:Number(n),b:Number(r),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,a=void 0===i?1:i;if(!ca(t)||!ca(n)||!ca(r))return null;var s=xa({h:Number(t),s:Number(n),l:Number(r),a:Number(a)});return ka(s)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,a=void 0===i?1:i;if(!ca(t)||!ca(n)||!ca(r))return null;var s=function(e){return{h:pa(e.h),s:fa(e.s,0,100),v:fa(e.v,0,100),a:fa(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(a)});return ba(s)},"hsv"]]},Ra=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},Ia=function(e){return"string"==typeof e?Ra(e.trim(),Pa.string):"object"==typeof e&&null!==e?Ra(e,Pa.object):[null,void 0]},Ma=function(e,t){var n=Ea(e);return{h:n.h,s:fa(n.s+100*t,0,100),l:n.l,a:n.a}},Oa=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Da=function(e,t){var n=Ea(e);return{h:n.h,s:n.s,l:fa(n.l+100*t,0,100),a:n.a}},Na=function(){function e(e){this.parsed=Ia(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return da(Oa(this.rgba),2)},e.prototype.isDark=function(){return Oa(this.rgba)<.5},e.prototype.isLight=function(){return Oa(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=ma(this.rgba)).r,n=e.g,r=e.b,a=(i=e.a)<1?ya(da(255*i)):"","#"+ya(t)+ya(n)+ya(r)+a;var e,t,n,r,i,a},e.prototype.toRgb=function(){return ma(this.rgba)},e.prototype.toRgbString=function(){return t=(e=ma(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return wa(Ea(this.rgba))},e.prototype.toHslString=function(){return t=(e=wa(Ea(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=_a(this.rgba),{h:da(e.h),s:da(e.s),v:da(e.v),a:da(e.a,3)};var e},e.prototype.invert=function(){return Ba({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Ba(Ma(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Ba(Ma(this.rgba,-e))},e.prototype.grayscale=function(){return Ba(Ma(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Ba(Da(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Ba(Da(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Ba({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):da(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=Ea(this.rgba);return"number"==typeof e?Ba({h:e,s:t.s,l:t.l,a:t.a}):da(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Ba(e).toHex()},e}(),Ba=function(e){return e instanceof Na?e:new Na(e)},La=[];!function(e){e.forEach((function(e){La.indexOf(e)<0&&(e(Na,Pa),La.push(e))}))}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var a={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,s,o=r[this.toHex()];if(o)return o;if(null==t?void 0:t.closest){var u=this.toRgb(),l=1/0,h="black";if(!a.length)for(var c in n)a[c]=new e(n[c]).toRgb();for(var d in n){var f=(i=u,s=a[d],Math.pow(i.r-s.r,2)+Math.pow(i.g-s.g,2)+Math.pow(i.b-s.b,2));f<l&&(l=f,h=d)}return h}},t.string.push([function(t){var r=t.toLowerCase(),i="transparent"===r?"#0000":n[r];return i?new e(i).toRgb():null},"name"])}]);var Fa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16777215;o(this,e),this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}return s(e,[{key:"red",get:function(){return this._components[0]}},{key:"green",get:function(){return this._components[1]}},{key:"blue",get:function(){return this._components[2]}},{key:"alpha",get:function(){return this._components[3]}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"value",get:function(){return this._value},set:function(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,t)||(this.normalize(t),this._value=this.cloneSource(t))}}},{key:"cloneSource",value:function(e){return"string"===typeof e||"number"===typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"===typeof e&&null!==e?hi({},e):e}},{key:"isSourceEqual",value:function(e,t){var n=typeof e;if(n!==typeof t)return!1;if("number"===n||"string"===n||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((function(e,n){return e===t[n]}));if(null!==e&&null!==t){var r=Object.keys(e),i=Object.keys(t);return r.length===i.length&&r.every((function(n){return e[n]===t[n]}))}return e===t}},{key:"toRgba",value:function(){var e=la(this._components,4);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},{key:"toRgb",value:function(){var e=la(this._components,3);return{r:e[0],g:e[1],b:e[2]}}},{key:"toRgbaString",value:function(){var e=la(this.toUint8RgbArray(),3),t=e[0],n=e[1],r=e[2];return"rgba(".concat(t,",").concat(n,",").concat(r,",").concat(this.alpha,")")}},{key:"toUint8RgbArray",value:function(e){var t,n=la(this._components,3),r=n[0],i=n[1],a=n[2];return(e=null!==(t=e)&&void 0!==t?t:[])[0]=Math.round(255*r),e[1]=Math.round(255*i),e[2]=Math.round(255*a),e}},{key:"toRgbArray",value:function(e){var t;e=null!==(t=e)&&void 0!==t?t:[];var n=la(this._components,3),r=n[0],i=n[1],a=n[2];return e[0]=r,e[1]=i,e[2]=a,e}},{key:"toNumber",value:function(){return this._int}},{key:"toLittleEndianNumber",value:function(){var e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}},{key:"multiply",value:function(t){var n=la(e.temp.setValue(t)._components,4),r=n[0],i=n[1],a=n[2],s=n[3];return this._components[0]*=r,this._components[1]*=i,this._components[2]*=a,this._components[3]*=s,this.refreshInt(),this._value=null,this}},{key:"premultiply",value:function(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}},{key:"toPremultiplied",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;var n=this._int>>16&255,r=this._int>>8&255,i=255&this._int;return t&&(n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0),(255*e<<24)+(n<<16)+(r<<8)+i}},{key:"toHex",value:function(){var e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}},{key:"toHexa",value:function(){var e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}},{key:"setAlpha",value:function(e){return this._components[3]=this._clamp(e),this}},{key:"round",value:function(e){var t=la(this._components,3),n=t[0],r=t[1],i=t[2];return this._components[0]=Math.round(n*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}},{key:"toArray",value:function(e){var t;e=null!==(t=e)&&void 0!==t?t:[];var n=la(this._components,4),r=n[0],i=n[1],a=n[2],s=n[3];return e[0]=r,e[1]=i,e[2]=a,e[3]=s,e}},{key:"normalize",value:function(t){var n,r,i,a;if(("number"===typeof t||t instanceof Number)&&t>=0&&t<=16777215){n=(t>>16&255)/255,r=(t>>8&255)/255,i=(255&t)/255,a=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4){var s=la(t=this._clamp(t),4);n=s[0],r=s[1],i=s[2];var o=s[3];a=void 0===o?1:o}else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4){var u=la(t=this._clamp(t,0,255),4);n=u[0],r=u[1],i=u[2];var l=u[3];a=void 0===l?255:l,n/=255,r/=255,i/=255,a/=255}else if("string"===typeof t||"object"===typeof t){if("string"===typeof t){var h=e.HEX_PATTERN.exec(t);h&&(t="#".concat(h[2]))}var c=Ba(t);if(c.isValid()){var d=c.rgba;n=d.r,r=d.g,i=d.b,a=d.a,n/=255,r/=255,i/=255}}if(void 0===n)throw new Error("Unable to convert color ".concat(t));this._components[0]=n,this._components[1]=r,this._components[2]=i,this._components[3]=a,this.refreshInt()}},{key:"refreshInt",value:function(){this._clamp(this._components);var e=la(this._components,3),t=e[0],n=e[1],r=e[2];this._int=(255*t<<16)+(255*n<<8)+(255*r|0)}},{key:"_clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"===typeof e?Math.min(Math.max(e,t),n):(e.forEach((function(r,i){e[i]=Math.min(Math.max(r,t),n)})),e)}}]),e}(),Ua=Fa;Ua.shared=new Fa,Ua.temp=new Fa,Ua.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;var Ga=function(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[vi.NORMAL_NPM]=vi.NORMAL,e[vi.ADD_NPM]=vi.ADD,e[vi.SCREEN_NPM]=vi.SCREEN,t[vi.NORMAL]=vi.NORMAL_NPM,t[vi.ADD]=vi.ADD_NPM,t[vi.SCREEN]=vi.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}();function za(e,t){return Ga[t?1:0][e]}function ja(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}Float32Array,Uint32Array,Int32Array,Uint8Array;function Ha(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function Va(e){return!(e&e-1)&&!!e}function Xa(e){var t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,t|=n=((e>>>=n)>15?1:0)<<2,(t|=n=((e>>>=n)>3?1:0)<<1)|(e>>>=n)>>1}function Wa(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var a=i-(n=t+n>i?i-t:n);for(r=t;r<a;++r)e[r]=e[r+n];e.length=a}}function Ya(e){return 0===e?0:e<0?-1:1}var qa=0;function Ka(){return++qa}var Za=function(){function e(t,n,r,i){o(this,e),this.left=t,this.top=n,this.right=r,this.bottom=i}return s(e,[{key:"width",get:function(){return this.right-this.left}},{key:"height",get:function(){return this.bottom-this.top}},{key:"isEmpty",value:function(){return this.left===this.right||this.top===this.bottom}}]),e}(),Qa=Za;Qa.EMPTY=new Za(0,0,0,0);var Ja={},$a=Object.create(null),es=Object.create(null);var ts,ns=function(){function e(t,n,r){o(this,e),this._canvas=Mi.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Mi.RESOLUTION,this.resize(t,n)}return s(e,[{key:"clear",value:function(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}},{key:"resize",value:function(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}},{key:"destroy",value:function(){this._context=null,this._canvas=null}},{key:"width",get:function(){return this._checkDestroyed(),this._canvas.width},set:function(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}},{key:"height",get:function(){return this._checkDestroyed(),this._canvas.height},set:function(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}},{key:"canvas",get:function(){return this._checkDestroyed(),this._canvas}},{key:"context",get:function(){return this._checkDestroyed(),this._context}},{key:"_checkDestroyed",value:function(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}]),e}();function rs(e,t,n){for(var r=0,i=4*n*t;r<t;++r,i+=4)if(0!==e[i+3])return!1;return!0}function is(e,t,n,r,i){for(var a=4*t,s=r,o=r*a+4*n;s<=i;++s,o+=a)if(0!==e[o+3])return!1;return!0}function as(e){var t=function(e){var t=e.width,n=e.height,r=e.getContext("2d",{willReadFrequently:!0});if(null===r)throw new TypeError("Failed to get canvas 2D context");for(var i=r.getImageData(0,0,t,n).data,a=0,s=0,o=t-1,u=n-1;s<n&&rs(i,t,s);)++s;if(s===n)return Qa.EMPTY;for(;rs(i,t,u);)--u;for(;is(i,t,a,s,u);)++a;for(;is(i,t,o,s,u);)--o;return++o,++u,new Qa(a,s,o,u)}(e),n=t.width,r=t.height,i=null;if(!t.isEmpty()){var a=e.getContext("2d");if(null===a)throw new TypeError("Failed to get canvas 2D context");i=a.getImageData(t.left,t.top,n,r)}return{width:n,height:r,data:i}}function ss(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=null===(t=Mi.RETINA_PREFIX)||void 0===t?void 0:t.exec(e);return r?parseFloat(r[1]):n}function os(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function us(e){return us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},us(e)}function ls(){return ls="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=us(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ls.apply(this,arguments)}function hs(e,t){return hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hs(e,t)}function cs(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hs(e,t)}function ds(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(fa){return!1}}();return function(){var n,i=us(e);if(t){var a=us(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return os(e)}(this,n)}}var fs=function(e){return e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e}(fs||{}),ps=function(e){if("function"===typeof e||"object"===typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e=hi(hi({},"object"!==typeof e.extension?{type:e.extension}:e.extension),{},{ref:e})}if("object"!==typeof e)throw new Error("Invalid extension type");return"string"===typeof(e=hi({},e)).type&&(e.type=[e.type]),e},vs=function(e,t){var n;return null!==(n=ps(e).priority)&&void 0!==n?n:t},ms={_addHandlers:{},_removeHandlers:{},_queue:{},remove:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map(ps).forEach((function(t){t.type.forEach((function(n){var r,i;return null===(r=(i=e._removeHandlers)[n])||void 0===r?void 0:r.call(i,t)}))})),this},add:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map(ps).forEach((function(t){t.type.forEach((function(n){var r=e._addHandlers,i=e._queue;r[n]?r[n](t):(i[n]=i[n]||[],i[n].push(t))}))})),this},handle:function(e,t,n){var r=this._addHandlers,i=this._removeHandlers;if(r[e]||i[e])throw new Error("Extension type ".concat(e," already has a handler"));r[e]=t,i[e]=n;var a=this._queue;return a[e]&&(a[e].forEach((function(e){return t(e)})),delete a[e]),this},handleByMap:function(e,t){return this.handle(e,(function(e){t[e.name]=e.ref}),(function(e){delete t[e.name]}))},handleByList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.handle(e,(function(e){t.includes(e.ref)||(t.push(e.ref),t.sort((function(e,t){return vs(t,n)-vs(e,n)})))}),(function(e){var n=t.indexOf(e.ref);-1!==n&&t.splice(n,1)}))}},gs=function(){function e(t){o(this,e),"number"===typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return s(e,[{key:"int8View",get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}},{key:"uint8View",get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}},{key:"int16View",get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}},{key:"uint16View",get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}},{key:"int32View",get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}},{key:"view",value:function(e){return this["".concat(e,"View")]}},{key:"destroy",value:function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}}],[{key:"sizeOf",value:function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}]),e}(),ys=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function _s(e){for(var t="",n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == ".concat(n,".0){}"));return t}var bs=function(){function e(){o(this,e),this.data=0,this.blendMode=vi.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return s(e,[{key:"blend",get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)}},{key:"offsets",get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)}},{key:"culling",get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)}},{key:"depthTest",get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)}},{key:"depthMask",get:function(){return!!(32&this.data)},set:function(e){!!(32&this.data)!==e&&(this.data^=32)}},{key:"clockwiseFrontFace",get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)}},{key:"blendMode",get:function(){return this._blendMode},set:function(e){this.blend=e!==vi.NONE,this._blendMode=e}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e}},{key:"toString",value:function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")}}],[{key:"for2d",value:function(){var t=new e;return t.depthTest=!1,t.blend=!0,t}}]),e}(),xs=[];function ws(e,t){if(!e)return null;var n="";if("string"===typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=xs.length-1;i>=0;--i){var a=xs[i];if(a.test&&a.test(e,n))return new a(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var ks=function(){function e(t){o(this,e),this.items=[],this._name=t,this._aliasCount=0}return s(e,[{key:"emit",value:function(e,t,n,r,i,a,s,o){if(arguments.length>8)throw new Error("max arguments reached");var u=this.name,l=this.items;this._aliasCount++;for(var h=0,c=l.length;h<c;h++)l[h][u](e,t,n,r,i,a,s,o);return l===this.items&&this._aliasCount--,this}},{key:"ensureNonAliasedItems",value:function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}},{key:"add",value:function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}},{key:"remove",value:function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}},{key:"contains",value:function(e){return this.items.includes(e)}},{key:"removeAll",value:function(){return this.ensureNonAliasedItems(),this.items.length=0,this}},{key:"destroy",value:function(){this.removeAll(),this.items=null,this._name=null}},{key:"empty",get:function(){return 0===this.items.length}},{key:"name",get:function(){return this._name}}]),e}();Object.defineProperties(ks.prototype,{dispatch:{value:ks.prototype.emit},run:{value:ks.prototype.emit}});var Es=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(this,e),this._width=t,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new ks("setRealSize"),this.onUpdate=new ks("update"),this.onError=new ks("onError")}return s(e,[{key:"bind",value:function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}},{key:"unbind",value:function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}},{key:"resize",value:function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))}},{key:"valid",get:function(){return!!this._width&&!!this._height}},{key:"update",value:function(){this.destroyed||this.onUpdate.emit()}},{key:"load",value:function(){return Promise.resolve(this)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"style",value:function(e,t,n){return!1}},{key:"dispose",value:function(){}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}}],[{key:"test",value:function(e,t){return!1}}]),e}(),Ts=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;o(this,n);var a=r||{},s=a.width,u=a.height;if(!s||!u)throw new Error("BufferResource width or height invalid");return(i=t.call(this,s,u)).data=e,i}return s(n,[{key:"upload",value:function(e,t,n){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Ei.UNPACK);var i=t.realWidth,a=t.realHeight;return n.width===i&&n.height===a?r.texSubImage2D(t.target,0,0,0,i,a,t.format,n.type,this.data):(n.width=i,n.height=a,r.texImage2D(t.target,0,n.internalFormat,i,a,0,t.format,n.type,this.data)),!0}},{key:"dispose",value:function(){this.data=null}}],[{key:"test",value:function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}]),n}(Es),As={scaleMode:xi.NEAREST,format:gi.RGBA,alphaMode:Ei.NPM},Ss=function(e){cs(n,e);var t=ds(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,n),e=t.call(this);var a=i=Object.assign({},n.defaultOptions,i),s=a.alphaMode,u=a.mipmap,l=a.anisotropicLevel,h=a.scaleMode,c=a.width,d=a.height,f=a.wrapMode,p=a.format,v=a.type,m=a.target,g=a.resolution,y=a.resourceOptions;return!r||r instanceof Es||((r=ws(r,y)).internal=!0),e.resolution=g||Mi.RESOLUTION,e.width=Math.round((c||0)*e.resolution)/e.resolution,e.height=Math.round((d||0)*e.resolution)/e.resolution,e._mipmap=u,e.anisotropicLevel=l,e._wrapMode=f,e._scaleMode=h,e.format=p,e.type=v,e.target=m,e.alphaMode=s,e.uid=Ka(),e.touched=0,e.isPowerOfTwo=!1,e._refreshPOT(),e._glTextures={},e.dirtyId=0,e.dirtyStyleId=0,e.cacheId=null,e.valid=c>0&&d>0,e.textureCacheIds=[],e.destroyed=!1,e.resource=null,e._batchEnabled=0,e._batchLocation=0,e.parentTextureArray=null,e.setResource(r),e}return s(n,[{key:"realWidth",get:function(){return Math.round(this.width*this.resolution)}},{key:"realHeight",get:function(){return Math.round(this.height*this.resolution)}},{key:"mipmap",get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}},{key:"scaleMode",get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}},{key:"wrapMode",get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}},{key:"setStyle",value:function(e,t){var n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}},{key:"setSize",value:function(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}},{key:"setRealSize",value:function(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}},{key:"_refreshPOT",value:function(){this.isPowerOfTwo=Va(this.realWidth)&&Va(this.realHeight)}},{key:"setResolution",value:function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}},{key:"setResource",value:function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}},{key:"update",value:function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}},{key:"onError",value:function(e){this.emit("error",this,e)}},{key:"destroy",value:function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete es[this.cacheId],delete $a[this.cacheId],this.cacheId=null),this.dispose(),n.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}},{key:"dispose",value:function(){this.emit("dispose",this)}},{key:"castToBaseTexture",value:function(){return this}}],[{key:"from",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mi.STRICT_TEXTURE_CACHE,i="string"===typeof e,a=null;if(i)a=e;else{if(!e._pixiId){var s=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId="".concat(s,"_").concat(Ka())}a=e._pixiId}var o=es[a];if(i&&r&&!o)throw new Error('The cacheId "'.concat(a,'" does not exist in BaseTextureCache.'));return o||((o=new n(e,t)).cacheId=a,n.addToCache(o,a)),o}},{key:"fromBuffer",value:function(e,t,r,i){e=e||new Float32Array(t*r*4);var a=new Ts(e,{width:t,height:r}),s=e instanceof Float32Array?_i.FLOAT:_i.UNSIGNED_BYTE;return new n(a,Object.assign({},As,{type:s},i))}},{key:"addToCache",value:function(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),es[t]&&es[t]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(t,"] that already had an entry")),es[t]=e)}},{key:"removeFromCache",value:function(e){if("string"===typeof e){var t=es[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete es[e],t}}else if(null!==e&&void 0!==e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete es[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}}]),n}(Qi),Cs=Ss;Cs.defaultOptions={mipmap:ki.POW2,anisotropicLevel:0,scaleMode:xi.LINEAR,wrapMode:wi.CLAMP,alphaMode:Ei.UNPACK,target:yi.TEXTURE_2D,format:gi.RGBA,type:_i.UNSIGNED_BYTE},Cs._globalBatch=0;var Ps=s((function e(){o(this,e),this.texArray=null,this.blend=0,this.type=mi.TRIANGLES,this.start=0,this.size=0,this.data=null})),Rs=0,Is=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o(this,e),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=Rs++,this.disposeRunner=new ks("disposeBuffer")}return s(e,[{key:"update",value:function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroy",value:function(){this.dispose(),this.data=null}},{key:"index",get:function(){return this.type===Ri.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Ri.ELEMENT_ARRAY_BUFFER:Ri.ARRAY_BUFFER}}],[{key:"from",value:function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)}}]),e}(),Ms=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_i.FLOAT,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;o(this,e),this.buffer=t,this.size=n,this.normalized=r,this.type=i,this.stride=a,this.start=s,this.instance=u,this.divisor=l}return s(e,[{key:"destroy",value:function(){this.buffer=null}}],[{key:"from",value:function(t,n,r,i,a){return new e(t,n,r,i,a)}}]),e}(),Os={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Ds={5126:4,5123:2,5121:1},Ns=0,Bs={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Ls=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.buffers=t,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=Ns++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ks("disposeGeometry"),this.refCount=0}return s(e,[{key:"addAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Is||(t instanceof Array&&(t=new Float32Array(t)),t=new Is(t));var u=e.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],t,n,r,i);return this}var h=this.buffers.indexOf(t);return-1===h&&(this.buffers.push(t),h=this.buffers.length-1),this.attributes[e]=new Ms(h,n,r,i,a,s,o),this.instanced=this.instanced||o,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"getBuffer",value:function(e){return this.buffers[this.getAttribute(e).buffer]}},{key:"addIndex",value:function(e){return e instanceof Is||(e instanceof Array&&(e=new Uint16Array(e)),e=new Is(e)),e.type=Ri.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}},{key:"getIndex",value:function(){return this.indexBuffer}},{key:"interleave",value:function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],n=[],r=new Is;for(e in this.attributes){var i=this.attributes[e],a=this.buffers[i.buffer];t.push(a.data),n.push(i.size*Ds[i.type]/4),i.buffer=0}for(r.data=function(e,t){for(var n=0,r=0,i={},a=0;a<e.length;a++)r+=t[a],n+=e[a].length;for(var s=new ArrayBuffer(4*n),o=null,u=0,l=0;l<e.length;l++){var h=t[l],c=e[l],d=ja(c);i[d]||(i[d]=new Os[d](s)),o=i[d];for(var f=0;f<c.length;f++)o[(f/h|0)*r+u+f%h]=c[f];u+=h}return new Float32Array(s)}(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}},{key:"getSize",value:function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroy",value:function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}},{key:"clone",value:function(){for(var t=new e,n=0;n<this.buffers.length;n++)t.buffers[n]=new Is(this.buffers[n].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new Ms(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Ri.ELEMENT_ARRAY_BUFFER),t}}],[{key:"merge",value:function(t){for(var n,r=new e,i=[],a=[],s=[],o=0;o<t.length;o++){n=t[o];for(var u=0;u<n.buffers.length;u++)a[u]=a[u]||0,a[u]+=n.buffers[u].data.length,s[u]=0}for(var l=0;l<n.buffers.length;l++)i[l]=new(Bs[ja(n.buffers[l].data)])(a[l]),r.buffers[l]=new Is(i[l]);for(var h=0;h<t.length;h++){n=t[h];for(var c=0;c<n.buffers.length;c++)i[c].set(n.buffers[c].data,s[c]),s[c]+=n.buffers[c].data.length}if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.type=Ri.ELEMENT_ARRAY_BUFFER;for(var d=0,f=0,p=0,v=0,m=0;m<n.buffers.length;m++)if(n.buffers[m]!==n.indexBuffer){v=m;break}for(var g in n.attributes){var y=n.attributes[g];(0|y.buffer)===v&&(f+=y.size*Ds[y.type]/4)}for(var _=0;_<t.length;_++){for(var b=t[_].indexBuffer.data,x=0;x<b.length;x++)r.indexBuffer.data[x+p]+=d;d+=t[_].buffers[v].data.length/f,p+=b.length}}return r}}]),e}(),Fs=function(e){cs(n,e);var t=ds(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o(this,n),(e=t.call(this))._buffer=new Is(null,r,!1),e._indexBuffer=new Is(null,r,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,_i.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,_i.FLOAT).addAttribute("aColor",e._buffer,4,!0,_i.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,_i.FLOAT).addIndex(e._indexBuffer),e}return s(n)}(Ls),Us=2*Math.PI,Gs=180/Math.PI,zs=Math.PI/180,js=function(e){return e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e}(js||{}),Hs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return s(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(e){return this.set(e.x,e.y),this}},{key:"copyTo",value:function(e){return e.set(this.x,this.y),e}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x=e,this.y=t,this}},{key:"toString",value:function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")}}]),e}(),Vs=[new Hs,new Hs,new Hs,new Hs],Xs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,e),this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=js.RECT}return s(e,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}},{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"copyFrom",value:function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}},{key:"copyTo",value:function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}},{key:"contains",value:function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)}},{key:"intersects",value:function(e,t){if(!t){var n=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=n)return!1;var r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}var i=this.left,a=this.right,s=this.top,o=this.bottom;if(a<=i||o<=s)return!1;var u=Vs[0].set(e.left,e.top),l=Vs[1].set(e.left,e.bottom),h=Vs[2].set(e.right,e.top),c=Vs[3].set(e.right,e.bottom);if(h.x<=u.x||l.y<=u.y)return!1;var d=Math.sign(t.a*t.d-t.b*t.c);if(0===d)return!1;if(t.apply(u,u),t.apply(l,l),t.apply(h,h),t.apply(c,c),Math.max(u.x,l.x,h.x,c.x)<=i||Math.min(u.x,l.x,h.x,c.x)>=a||Math.max(u.y,l.y,h.y,c.y)<=s||Math.min(u.y,l.y,h.y,c.y)>=o)return!1;var f=d*(l.y-u.y),p=d*(u.x-l.x),v=f*i+p*s,m=f*a+p*s,g=f*i+p*o,y=f*a+p*o;if(Math.max(v,m,g,y)<=f*u.x+p*u.y||Math.min(v,m,g,y)>=f*c.x+p*c.y)return!1;var _=d*(u.y-h.y),b=d*(h.x-u.x),x=_*i+b*s,w=_*a+b*s,k=_*i+b*o,E=_*a+b*o;return!(Math.max(x,w,k,E)<=_*u.x+b*u.y||Math.min(x,w,k,E)>=_*c.x+b*c.y)}},{key:"pad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}},{key:"fit",value:function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this}},{key:"ceil",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this}},{key:"enlarge",value:function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this}},{key:"toString",value:function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")}}],[{key:"EMPTY",get:function(){return new e(0,0,0,0)}}]),e}(),Ws=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;o(this,e),this.x=t,this.y=n,this.radius=r,this.type=js.CIRC}return s(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.radius)}},{key:"contains",value:function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-e,i=this.y-t;return(r*=r)+(i*=i)<=n}},{key:"getBounds",value:function(){return new Xs(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{key:"toString",value:function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")}}]),e}(),Ys=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,e),this.x=t,this.y=n,this.width=r,this.height=i,this.type=js.ELIP}return s(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,r=(t-this.y)/this.height;return(n*=n)+(r*=r)<=1}},{key:"getBounds",value:function(){return new Xs(this.x-this.width,this.y-this.height,this.width,this.height)}},{key:"toString",value:function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")}}]),e}(),qs=function(){function e(){o(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Array.isArray(n[0])?n[0]:n;if("number"!==typeof i[0]){for(var a=[],s=0,u=i.length;s<u;s++)a.push(i[s].x,i[s].y);i=a}this.points=i,this.type=js.POLY,this.closeStroke=!0}return s(e,[{key:"clone",value:function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t}},{key:"contains",value:function(e,t){for(var n=!1,r=this.points.length/2,i=0,a=r-1;i<r;a=i++){var s=this.points[2*i],o=this.points[2*i+1],u=this.points[2*a],l=this.points[2*a+1];o>t!==l>t&&e<(t-o)/(l-o)*(u-s)+s&&(n=!n)}return n}},{key:"toString",value:function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((function(e,t){return"".concat(e,", ").concat(t)}),""),"]")}}]),e}(),Ks=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;o(this,e),this.x=t,this.y=n,this.width=r,this.height=i,this.radius=a,this.type=js.RREC}return s(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height,this.radius)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var r=e-(this.x+n),i=t-(this.y+n),a=n*n;if(r*r+i*i<=a)return!0;if((r=e-(this.x+this.width-n))*r+i*i<=a)return!0;if(r*r+(i=t-(this.y+this.height-n))*i<=a)return!0;if((r=e-(this.x+n))*r+i*i<=a)return!0}return!1}},{key:"toString",value:function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")}}]),e}(),Zs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;o(this,e),this.array=null,this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=s}return s(e,[{key:"fromArray",value:function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}},{key:"set",value:function(e,t,n,r,i,a){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=a,this}},{key:"toArray",value:function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}},{key:"apply",value:function(e,t){t=t||new Hs;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t}},{key:"applyInverse",value:function(e,t){t=t||new Hs;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t}},{key:"translate",value:function(e,t){return this.tx+=e,this.ty+=t,this}},{key:"scale",value:function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,a=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=a*t-this.ty*n,this.ty=a*n+this.ty*t,this}},{key:"append",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this}},{key:"setTransform",value:function(e,t,n,r,i,a,s,o,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-o)*a,this.d=Math.cos(s-o)*a,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this}},{key:"prepend",value:function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}},{key:"decompose",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d,a=e.pivot,s=-Math.atan2(-r,i),o=Math.atan2(n,t),u=Math.abs(s+o);return u<1e-5||Math.abs(Us-u)<1e-5?(e.rotation=o,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=o),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx+(a.x*t+a.y*r),e.position.y=this.ty+(a.x*n+a.y*i),e}},{key:"invert",value:function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,a=e*r-t*n;return this.a=r/a,this.b=-t/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-r*i)/a,this.ty=-(e*this.ty-t*i)/a,this}},{key:"identity",value:function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}},{key:"clone",value:function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}},{key:"copyTo",value:function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}},{key:"copyFrom",value:function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}},{key:"toString",value:function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")}}],[{key:"IDENTITY",get:function(){return new e}},{key:"TEMP_MATRIX",get:function(){return new e}}]),e}(),Qs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Js=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],$s=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],eo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],to=[],no=[],ro=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];to.push(t);for(var n=0;n<16;n++)for(var r=ro(Qs[e]*Qs[n]+$s[e]*Js[n]),i=ro(Js[e]*Qs[n]+eo[e]*Js[n]),a=ro(Qs[e]*$s[n]+$s[e]*eo[n]),s=ro(Js[e]*$s[n]+eo[e]*eo[n]),o=0;o<16;o++)if(Qs[o]===r&&Js[o]===i&&$s[o]===a&&eo[o]===s){t.push(o);break}}for(var u=0;u<16;u++){var l=new Zs;l.set(Qs[u],Js[u],$s[u],eo[u],0,0),no.push(l)}}();var io={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return Qs[e]},uY:function(e){return Js[e]},vX:function(e){return $s[e]},vY:function(e){return eo[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return to[e][t]},sub:function(e,t){return to[e][io.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?io.S:io.N:2*Math.abs(t)<=Math.abs(e)?e>0?io.E:io.W:t>0?e>0?io.SE:io.SW:e>0?io.NE:io.NW},matrixAppendRotationInv:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=no[io.inv(t)];i.tx=n,i.ty=r,e.append(i)}},ao=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,e),this._x=r,this._y=i,this.cb=t,this.scope=n}return s(e,[{key:"clone",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cb,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scope,this._x,this._y)}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this}},{key:"copyFrom",value:function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}},{key:"copyTo",value:function(e){return e.set(this._x,this._y),e}},{key:"equals",value:function(e){return e.x===this._x&&e.y===this._y}},{key:"toString",value:function(){return"[@pixi/math:ObservablePoint x=".concat(0," y=",0," scope=",this.scope,"]")}},{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}(),so=function(){function e(){o(this,e),this.worldTransform=new Zs,this.localTransform=new Zs,this.position=new ao(this.onChange,this,0,0),this.scale=new ao(this.onChange,this,1,1),this.pivot=new ao(this.onChange,this,0,0),this.skew=new ao(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return s(e,[{key:"onChange",value:function(){this._localID++}},{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}},{key:"toString",value:function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")}},{key:"updateLocalTransform",value:function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}},{key:"updateTransform",value:function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}},{key:"setFromMatrix",value:function(e){e.decompose(this),this._localID++}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),e}(),oo=so;oo.IDENTITY=new so;var uo=[{test:function(e){return"float"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n            if(uv["'.concat(e,'"] !== ud["').concat(e,'"].value)\n            {\n                ud["').concat(e,'"].value = uv["').concat(e,'"]\n                gl.uniform1f(ud["').concat(e,'"].location, uv["').concat(e,'"])\n            }\n            ')}},{test:function(e,t){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray&&(null==t||void 0!==t.castToBaseTexture)},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(e,'"], t);\n\n            if(ud["').concat(e,'"].value !== t)\n            {\n                ud["').concat(e,'"].value = t;\n                gl.uniform1i(ud["').concat(e,'"].location, t);\n; // eslint-disable-line max-len\n            }')}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'.concat(e,'"].location, false, uv["').concat(e,'"].toArray(true));\n            ')},codeUbo:function(e){return"\n                var ".concat(e,"_matrix = uv.").concat(e,".toArray(true);\n\n                data[offset] = ").concat(e,"_matrix[0];\n                data[offset+1] = ").concat(e,"_matrix[1];\n                data[offset+2] = ").concat(e,"_matrix[2];\n        \n                data[offset + 4] = ").concat(e,"_matrix[3];\n                data[offset + 5] = ").concat(e,"_matrix[4];\n                data[offset + 6] = ").concat(e,"_matrix[5];\n        \n                data[offset + 8] = ").concat(e,"_matrix[6];\n                data[offset + 9] = ").concat(e,"_matrix[7];\n                data[offset + 10] = ").concat(e,"_matrix[8];\n            ")}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(e,'"].location, v.x, v.y);\n                }')},codeUbo:function(e){return"\n                v = uv.".concat(e,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")}},{test:function(e){return"vec2"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(e,'"].location, v[0], v[1]);\n                }\n            ')}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.x, v.y, v.width, v.height)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.red, v.green, v.blue, v.alpha)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")}},{test:function(e,t){return"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(e,'"].location, v.red, v.green, v.blue)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")}},{test:function(e){return"vec4"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(e,'"].location, v[0], v[1], v[2], v[3])\n                }')}}],lo={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},ho={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var co,fo={},po=fo;function vo(){if(!co){co=Si.MEDIUM;var e=function(){var e;if(po===fo||null!==(e=po)&&void 0!==e&&e.isContextLost()){var t,n=Mi.ADAPTER.createCanvas();Mi.PREFER_ENV>=di.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),po=t}return po}();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);co=t.precision?Si.HIGH:Si.MEDIUM}}return co}var mo={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function go(e){return mo[e]}var yo=null,_o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function bo(e,t){if(!yo){var n=Object.keys(_o);yo={};for(var r=0;r<n.length;++r){var i=n[r];yo[e[i]]=_o[i]}}return yo[t]}function xo(e,t,n){if("precision"!==e.substring(0,9)){var r=t;return t===Si.HIGH&&n!==Si.HIGH&&(r=Si.MEDIUM),"precision ".concat(r," float;\n").concat(e)}return n!==Si.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var wo=0,ko={},Eo=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pixi-shader",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o(this,e),this.extra={},this.id=wo++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),ko[r]?(ko[r]++,r+="-".concat(ko[r])):ko[r]=1,this.vertexSrc="#define SHADER_NAME ".concat(r,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(r,"\n").concat(this.fragmentSrc),this.vertexSrc=xo(this.vertexSrc,e.defaultVertexPrecision,Si.HIGH),this.fragmentSrc=xo(this.fragmentSrc,e.defaultFragmentPrecision,vo())),this.glPrograms={},this.syncUniforms=null}return s(e,null,[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}},{key:"from",value:function(t,n,r){var i=t+n,a=Ja[i];return a||(Ja[i]=a=new e(t,n,r)),a}}]),e}(),To=Eo;To.defaultVertexPrecision=Si.HIGH,To.defaultFragmentPrecision=Zi.apple.device?Si.HIGH:Si.MEDIUM;var Ao=0,So=function(){function e(t,n,r){o(this,e),this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ao++,this.static=!!n,this.ubo=!!r,t instanceof Is?(this.buffer=t,this.buffer.type=Ri.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Is(new Float32Array(1)),this.buffer.type=Ri.UNIFORM_BUFFER,this.autoManage=!0))}return s(e,[{key:"update",value:function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}},{key:"add",value:function(t,n,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new e(n,r)}}],[{key:"from",value:function(t,n,r){return new e(t,n,r)}},{key:"uboFrom",value:function(t,n){return new e(t,null===n||void 0===n||n,!0)}}]),e}(),Co=function(){function e(t,n){o(this,e),this.uniformBindCount=0,this.program=t,this.uniformGroup=n?n instanceof So?n:new So(n):new So({}),this.disposeRunner=new ks("disposeShader")}return s(e,[{key:"checkUniformExists",value:function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){var r=t.uniforms[n];if(r.group&&this.checkUniformExists(e,r))return!0}return!1}},{key:"destroy",value:function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}},{key:"uniforms",get:function(){return this.uniformGroup.uniforms}}],[{key:"from",value:function(t,n,r){return new e(To.from(t,n),r)}}]),e}(),Po=function(){function e(t,n){if(o(this,e),this.vertexSrc=t,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}return s(e,[{key:"generateShader",value:function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=So.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,"".concat(e))).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new To(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Zs,default:this.defaultGroupCache[e]};return new Co(this.programCache[e],i)}},{key:"generateSampleSrc",value:function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+="if(vTextureId < ".concat(n,".5)")),t+="\n{",t+="\n\tcolor = texture2D(uSamplers[".concat(n,"], vTextureCoord);"),t+="\n}";return t+="\n",t+="\n"}}]),e}(),Ro=function(){function e(){o(this,e),this.elements=[],this.ids=[],this.count=0}return s(e,[{key:"clear",value:function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}]),e}();var Io=function(){function e(t){o(this,e),this.renderer=t}return s(e,[{key:"flush",value:function(){}},{key:"destroy",value:function(){this.renderer=null}},{key:"start",value:function(){}},{key:"stop",value:function(){this.flush()}},{key:"render",value:function(e){}}]),e}(),Mo=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).setShaderGenerator(),r.geometryClass=Fs,r.vertexSize=6,r.state=bs.for2d(),r.size=4*n.defaultBatchSize,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.maxTextures=1,r.renderer.on("prerender",r.onPrerender,os(r)),e.runners.contextChange.add(os(r)),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return s(n,[{key:"MAX_TEXTURES",get:function(){return sa("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}},{key:"setShaderGenerator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.vertex,r=void 0===t?n.defaultVertexSrc:t,i=e.fragment,a=void 0===i?n.defaultFragmentTemplate:i;this.shaderGenerator=new Po(r,a)}},{key:"contextChange",value:function(){var e=this.renderer.gl;Mi.PREFER_ENV===di.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),n.defaultMaxTextures),this.maxTextures=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=ys.replace(/%forloop%/gi,_s(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}},{key:"initFlushBuffers",value:function(){for(var e=n._drawCallPool,t=n._textureArrayPool,r=this.size/4,i=Math.floor(r/this.maxTextures)+1;e.length<r;)e.push(new Ps);for(;t.length<i;)t.push(new Ro);for(var a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}},{key:"onPrerender",value:function(){this._flushId=0}},{key:"render",value:function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}},{key:"buildTexturesAndDrawCalls",value:function(){var e=this._bufferedTextures,t=this.maxTextures,r=n._textureArrayPool,i=this.renderer.batch,a=this._tempBoundTextures,s=this.renderer.textureGC.count,o=++Cs._globalBatch,u=0,l=r[0],h=0;i.copyBoundTextures(a,t);for(var c=0;c<this._bufferSize;++c){var d=e[c];e[c]=null,d._batchEnabled!==o&&(l.count>=t&&(i.boundArray(l,a,o,t),this.buildDrawCalls(l,h,c),h=c,l=r[++u],++o),d._batchEnabled=o,d.touched=s,l.elements[l.count++]=d)}l.count>0&&(i.boundArray(l,a,o,t),this.buildDrawCalls(l,h,this._bufferSize),++u,++o);for(var f=0;f<a.length;f++)a[f]=null;Cs._globalBatch=o}},{key:"buildDrawCalls",value:function(e,t,r){var i=this._bufferedElements,a=this._attributeBuffer,s=this._indexBuffer,o=this.vertexSize,u=n._drawCallPool,l=this._dcIndex,h=this._aIndex,c=this._iIndex,d=u[l];d.start=this._iIndex,d.texArray=e;for(var f=t;f<r;++f){var p=i[f],v=p._texture.baseTexture,m=Ga[v.alphaMode?1:0][p.blendMode];i[f]=null,t<f&&d.blend!==m&&(d.size=c-d.start,t=f,(d=u[++l]).texArray=e,d.start=c),this.packInterleavedGeometry(p,a,s,h,c),h+=p.vertexData.length/2*o,c+=p.indices.length,d.blend=m}t<r&&(d.size=c-d.start,++l),this._dcIndex=l,this._aIndex=h,this._iIndex=c}},{key:"bindAndClearTexArray",value:function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}},{key:"updateGeometry",value:function(){var e=this._packedGeometries,t=this._attributeBuffer,r=this._indexBuffer;n.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}},{key:"drawBatches",value:function(){for(var e=this._dcIndex,t=this.renderer,r=t.gl,i=t.state,a=n._drawCallPool,s=null,o=0;o<e;o++){var u=a[o],l=u.texArray,h=u.type,c=u.size,d=u.start,f=u.blend;s!==l&&(s=l,this.bindAndClearTexArray(l)),this.state.blendMode=f,i.set(this.state),r.drawElements(h,c,r.UNSIGNED_SHORT,2*d)}}},{key:"flush",value:function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}},{key:"start",value:function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),n.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}},{key:"stop",value:function(){this.flush()}},{key:"destroy",value:function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),ls(us(n.prototype),"destroy",this).call(this)}},{key:"getAttributeBuffer",value:function(e){var t=Ha(Math.ceil(e/8)),n=Xa(t),r=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new gs(r*this.vertexSize*4)),i}},{key:"getIndexBuffer",value:function(e){var t=Ha(Math.ceil(e/12)),n=Xa(t),r=12*t;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}},{key:"packInterleavedGeometry",value:function(e,t,n,r,i){for(var a=t.uint32View,s=t.float32View,o=r/this.vertexSize,u=e.uvs,l=e.indices,h=e.vertexData,c=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),f=Ua.shared.setValue(e._tintRGB).toPremultiplied(d,e._texture.baseTexture.alphaMode>0),p=0;p<h.length;p+=2)s[r++]=h[p],s[r++]=h[p+1],s[r++]=u[p],s[r++]=u[p+1],a[r++]=f,s[r++]=c;for(var v=0;v<l.length;v++)n[i++]=o+l[v]}}],[{key:"defaultMaxTextures",get:function(){var e;return this._defaultMaxTextures=null!==(e=this._defaultMaxTextures)&&void 0!==e?e:function(e){var t=!0,n=Mi.ADAPTER.getNavigator();if(Zi.tablet||Zi.phone){if(Zi.apple.device){var r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(t=!1)}if(Zi.android.device){var i=n.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(t=!1)}}return t?e:4}(32),this._defaultMaxTextures},set:function(e){this._defaultMaxTextures=e}},{key:"canUploadSameBuffer",get:function(){var e;return this._canUploadSameBuffer=null!==(e=this._canUploadSameBuffer)&&void 0!==e?e:!Zi.apple.device,this._canUploadSameBuffer},set:function(e){this._canUploadSameBuffer=e}},{key:"defaultVertexSrc",get:function(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}},{key:"defaultFragmentTemplate",get:function(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}}]),n}(Io),Oo=Mo;Oo.defaultBatchSize=4096,Oo.extension={name:"batch",type:fs.RendererPlugin},Oo._drawCallPool=[],Oo._textureArrayPool=[],ms.add(Oo);var Do=function(e){cs(n,e);var t=ds(n);function n(e,r,i){var a;o(this,n);var s=To.from(e||n.defaultVertexSrc,r||n.defaultFragmentSrc);return(a=t.call(this,s,i)).padding=0,a.resolution=n.defaultResolution,a.multisample=n.defaultMultisample,a.enabled=!0,a.autoFit=!0,a.state=new bs,a}return s(n,[{key:"apply",value:function(e,t,n,r,i){e.applyFilter(this,t,n,r)}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._resolution=e}}],[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}}]),n}(Co);Do.defaultResolution=1,Do.defaultMultisample=Pi.NONE;var No=function(){function e(){o(this,e),this.clearBeforeRender=!0,this._backgroundColor=new Ua(0),this.alpha=1}return s(e,[{key:"init",value:function(e){this.clearBeforeRender=e.clearBeforeRender;var t=e.backgroundColor,n=e.background,r=e.backgroundAlpha,i=null!==n&&void 0!==n?n:t;void 0!==i&&(this.color=i),this.alpha=r}},{key:"color",get:function(){return this._backgroundColor.value},set:function(e){this._backgroundColor.setValue(e)}},{key:"alpha",get:function(){return this._backgroundColor.alpha},set:function(e){this._backgroundColor.setAlpha(e)}},{key:"backgroundColor",get:function(){return this._backgroundColor}},{key:"destroy",value:function(){}}]),e}();No.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},No.extension={type:[fs.RendererSystem,fs.CanvasRendererSystem],name:"background"},ms.add(No);var Bo=function(){function e(t){o(this,e),this.renderer=t,this.emptyRenderer=new Io(t),this.currentRenderer=this.emptyRenderer}return s(e,[{key:"setObjectRenderer",value:function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}},{key:"flush",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"reset",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"copyBoundTextures",value:function(e,t){for(var n=this.renderer.texture.boundTextures,r=t-1;r>=0;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)}},{key:"boundArray",value:function(e,t,n,r){for(var i=e.elements,a=e.ids,s=e.count,o=0,u=0;u<s;u++){var l=i[u],h=l._batchLocation;if(h>=0&&h<r&&t[h]===l)a[u]=h;else for(;o<r;){var c=t[o];if(!c||c._batchEnabled!==n||c._batchLocation!==o){a[u]=o,l._batchLocation=o,t[o]=l;break}o++}}}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Bo.extension={type:fs.RendererSystem,name:"batch"},ms.add(Bo);var Lo=0,Fo=function(){function e(t){o(this,e),this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}return s(e,[{key:"isLost",get:function(){return!this.gl||this.gl.isContextLost()}},{key:"contextChange",value:function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Lo++}},{key:"init",value:function(e){if(e.context)this.initFromContext(e.context);else{var t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}},{key:"initFromContext",value:function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Lo++,this.renderer.runners.contextChange.emit(e);var t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}},{key:"initFromOptions",value:function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)}},{key:"createContext",value:function(e,t){var n;if(Mi.PREFER_ENV>=di.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}},{key:"getExtensions",value:function(){var e=this.gl,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}},{key:"handleContextLost",value:function(e){var t=this;e.preventDefault(),setTimeout((function(){t.gl.isContextLost()&&t.extensions.loseContext&&t.extensions.loseContext.restoreContext()}),0)}},{key:"handleContextRestored",value:function(){this.renderer.runners.contextChange.emit(this.gl)}},{key:"destroy",value:function(){var e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}},{key:"postrender",value:function(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}},{key:"validateContext",value:function(e){var t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}]),e}();Fo.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Fo.extension={type:fs.RendererSystem,name:"context"},ms.add(Fo);var Uo=function(e){cs(n,e);var t=ds(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"upload",value:function(e,t,n){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Ei.UNPACK);var i=t.realWidth,a=t.realHeight;return n.width===i&&n.height===a?r.texSubImage2D(t.target,0,0,0,i,a,t.format,n.type,this.data):(n.width=i,n.height=a,r.texImage2D(t.target,0,n.internalFormat,i,a,0,t.format,n.type,this.data)),!0}}]),n}(Ts),Go=function(){function e(t,n){o(this,e),this.width=Math.round(t||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ks("disposeFramebuffer"),this.multisample=Pi.NONE}return s(e,[{key:"colorTexture",get:function(){return this.colorTextures[0]}},{key:"addColorTexture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.colorTextures[e]=t||new Cs(null,{scaleMode:xi.NEAREST,resolution:1,mipmap:ki.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}},{key:"addDepthTexture",value:function(e){return this.depthTexture=e||new Cs(new Uo(null,{width:this.width,height:this.height}),{scaleMode:xi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ki.OFF,format:gi.DEPTH_COMPONENT,type:_i.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}},{key:"enableDepth",value:function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}},{key:"enableStencil",value:function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}},{key:"resize",value:function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,t/a)}}}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroyDepthTexture",value:function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}]),e}(),zo=function(e){cs(n,e);var t=ds(n);function n(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(o(this,n),"number"===typeof i)&&(i={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});return i.width=i.width||100,i.height=i.height||100,null!==(e=i.multisample)&&void 0!==e||(i.multisample=Pi.NONE),(r=t.call(this,null,i)).mipmap=ki.OFF,r.valid=!0,r._clear=new Ua([0,0,0,0]),r.framebuffer=new Go(r.realWidth,r.realHeight).addColorTexture(0,os(r)),r.framebuffer.multisample=i.multisample,r.maskStack=[],r.filterStack=[{}],r}return s(n,[{key:"clearColor",get:function(){return this._clear.value},set:function(e){this._clear.setValue(e)}},{key:"clear",get:function(){return this._clear}},{key:"resize",value:function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}},{key:"dispose",value:function(){this.framebuffer.dispose(),ls(us(n.prototype),"dispose",this).call(this)}},{key:"destroy",value:function(){ls(us(n.prototype),"destroy",this).call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}]),n}(Cs),jo=function(e){cs(n,e);var t=ds(n);function n(e){var r;o(this,n);var i=e,a=i.naturalWidth||i.videoWidth||i.width,s=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,a,s)).source=e,r.noSubImage=!1,r}return s(n,[{key:"upload",value:function(e,t,n,r){var i=e.gl,a=t.realWidth,s=t.realHeight;if(r=r||this.source,"undefined"!==typeof HTMLImageElement&&r instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if("undefined"!==typeof HTMLVideoElement&&r instanceof HTMLVideoElement&&r.readyState<=1&&0===r.buffered.length)return!1;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Ei.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||n.width!==a||n.height!==s?(n.width=a,n.height=s,i.texImage2D(t.target,0,n.internalFormat,t.format,n.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,n.type,r),!0}},{key:"update",value:function(){if(!this.destroyed){var e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),ls(us(n.prototype),"update",this).call(this)}}},{key:"dispose",value:function(){this.source=null}}],[{key:"crossOrigin",value:function(e,t,n){void 0!==n||t.startsWith("data:")?!1!==n&&(e.crossOrigin="string"===typeof n?n:"anonymous"):e.crossOrigin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location;if(e.startsWith("data:"))return"";t=t||globalThis.location,ts||(ts=document.createElement("a")),ts.href=e;var n=ea.parse(ts.href),r=!n.port&&""===t.port||n.port===t.port;return n.hostname===t.hostname&&r&&n.protocol===t.protocol?"":"anonymous"}(t)}}]),n}(Es),Ho=function(e){cs(n,e);var t=ds(n);function n(e,r){var i,a;if(o(this,n),r=r||{},"string"===typeof e){var s=new Image;jo.crossOrigin(s,e,r.crossorigin),s.src=e,e=s}return a=t.call(this,e),!e.complete&&a._width&&a._height&&(a._width=0,a._height=0),a.url=e.src,a._process=null,a.preserveBitmap=!1,a.createBitmap=(null!==(i=r.createBitmap)&&void 0!==i?i:Mi.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,a.alphaMode="number"===typeof r.alphaMode?r.alphaMode:null,a.bitmap=null,a._load=null,!1!==r.autoLoad&&a.load(),a}return s(n,[{key:"load",value:function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,n){var r=t.source;t.url=r.src;var i=function(){t.destroyed||(r.onload=null,r.onerror=null,t.resize(r.width,r.height),t._load=null,t.createBitmap?e(t.process()):e(t))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(e){n(e),t.onError.emit(e)})}))),this._load}},{key:"process",value:function(){var e=this,t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var n=globalThis.createImageBitmap,r=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then((function(e){return e.blob()})).then((function(r){return n(r,0,0,t.width,t.height,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===Ei.UNPACK?"premultiply":"none"})})).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process}},{key:"upload",value:function(e,t,r){if("number"===typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return ls(us(n.prototype),"upload",this).call(this,e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(ls(us(n.prototype),"upload",this).call(this,e,t,r,this.bitmap),!this.preserveBitmap){var i=!0,a=t._glTextures;for(var s in a){var o=a[s];if(o!==r&&o.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}},{key:"dispose",value:function(){this.source.onload=null,this.source.onerror=null,ls(us(n.prototype),"dispose",this).call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}}],[{key:"test",value:function(e){return"undefined"!==typeof HTMLImageElement&&("string"===typeof e||e instanceof HTMLImageElement)}}]),n}(jo),Vo=function(){function e(){o(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return s(e,[{key:"set",value:function(e,t,n){var r=t.width,i=t.height;if(n){var a=e.width/2/r,s=e.height/2/i,o=e.x/r+a,u=e.y/i+s;n=io.add(n,io.NW),this.x0=o+a*io.uX(n),this.y0=u+s*io.uY(n),n=io.add(n,2),this.x1=o+a*io.uX(n),this.y1=u+s*io.uY(n),n=io.add(n,2),this.x2=o+a*io.uX(n),this.y2=u+s*io.uY(n),n=io.add(n,2),this.x3=o+a*io.uX(n),this.y3=u+s*io.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}},{key:"toString",value:function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")}}]),e}(),Xo=new Vo;function Wo(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var Yo=function(e){cs(n,e);var t=ds(n);function n(e,r,i,a,s,u,l){var h;if(o(this,n),(h=t.call(this)).noFrame=!1,r||(h.noFrame=!0,r=new Xs(0,0,1,1)),e instanceof n&&(e=e.baseTexture),h.baseTexture=e,h._frame=r,h.trim=a,h.valid=!1,h._uvs=Xo,h.uvMatrix=null,h.orig=i||r,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=u?new Hs(u.x,u.y):new Hs(0,0),h.defaultBorders=l,h._updateID=0,h.textureCacheIds=[],e.valid?h.noFrame?e.valid&&h.onBaseTextureUpdated(e):h.frame=r:e.once("loaded",h.onBaseTextureUpdated,os(h)),h.noFrame&&e.on("update",h.onBaseTextureUpdated,os(h)),h}return s(n,[{key:"update",value:function(){this.baseTexture.resource&&this.baseTexture.resource.update()}},{key:"onBaseTextureUpdated",value:function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}},{key:"destroy",value:function(e){if(this.baseTexture){if(e){var t=this.baseTexture.resource;null!==t&&void 0!==t&&t.url&&$a[t.url]&&n.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,n.removeFromCache(this),this.textureCacheIds=null}},{key:"clone",value:function(){var e,t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),i=new n(this.baseTexture,!this.noFrame&&t,r,null===(e=this.trim)||void 0===e?void 0:e.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=t),i}},{key:"updateUvs",value:function(){this._uvs===Xo&&(this._uvs=new Vo),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}},{key:"resolution",get:function(){return this.baseTexture.resolution}},{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,a=t+r>this.baseTexture.width,s=n+i>this.baseTexture.height;if(a||s){var o=a&&s?"and":"or",u="X: ".concat(t," + ").concat(r," = ").concat(t+r," > ").concat(this.baseTexture.width),l="Y: ".concat(n," + ").concat(i," = ").concat(n+i," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(u," ").concat(o," ").concat(l))}this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}},{key:"castToBaseTexture",value:function(){return this.baseTexture}}],[{key:"from",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mi.STRICT_TEXTURE_CACHE,i="string"===typeof e,a=null;if(i)a=e;else if(e instanceof Cs){if(!e.cacheId){var s=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId="".concat(s,"-").concat(Ka()),Cs.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){var o=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId="".concat(o,"_").concat(Ka())}a=e._pixiId}var u=$a[a];if(i&&r&&!u)throw new Error('The cacheId "'.concat(a,'" does not exist in TextureCache.'));return u||e instanceof Cs?!u&&e instanceof Cs&&(u=new n(e),n.addToCache(u,a)):(t.resolution||(t.resolution=ss(e)),(u=new n(new Cs(e,t))).baseTexture.cacheId=a,Cs.addToCache(u.baseTexture,a),n.addToCache(u,a)),u}},{key:"fromURL",value:function(e,t){var r=Object.assign({autoLoad:!1},null===t||void 0===t?void 0:t.resourceOptions),i=n.from(e,Object.assign({resourceOptions:r},t),!1),a=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):a.load().then((function(){return Promise.resolve(i)}))}},{key:"fromBuffer",value:function(e,t,r,i){return new n(Cs.fromBuffer(e,t,r,i))}},{key:"fromLoader",value:function(e,t,r,i){var a=new Cs(e,Object.assign({scaleMode:Cs.defaultOptions.scaleMode,resolution:ss(t)},i)),s=a.resource;s instanceof Ho&&(s.url=t);var o=new n(a);return r||(r=t),Cs.addToCache(o.baseTexture,r),n.addToCache(o,r),r!==t&&(Cs.addToCache(o.baseTexture,t),n.addToCache(o,t)),o.baseTexture.valid?Promise.resolve(o):new Promise((function(e){o.baseTexture.once("loaded",(function(){return e(o)}))}))}},{key:"addToCache",value:function(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),$a[t]&&$a[t]!==e&&console.warn("Texture added to the cache with an id [".concat(t,"] that already had an entry")),$a[t]=e)}},{key:"removeFromCache",value:function(e){if("string"===typeof e){var t=$a[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete $a[e],t}}else if(null!==e&&void 0!==e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)$a[e.textureCacheIds[r]]===e&&delete $a[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}},{key:"EMPTY",get:function(){return n._EMPTY||(n._EMPTY=new n(new Cs),Wo(n._EMPTY),Wo(n._EMPTY.baseTexture)),n._EMPTY}},{key:"WHITE",get:function(){if(!n._WHITE){var e=Mi.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),n._WHITE=new n(Cs.from(e)),Wo(n._WHITE),Wo(n._WHITE.baseTexture)}return n._WHITE}}]),n}(Qi),qo=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r)).valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return s(n,[{key:"framebuffer",get:function(){return this.baseTexture.framebuffer}},{key:"multisample",get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e}},{key:"resize",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.baseTexture.resolution,i=Math.round(e*r)/r,a=Math.round(t*r)/r;this.valid=i>0&&a>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=a,n&&this.baseTexture.resize(i,a),this.updateUvs()}},{key:"setResolution",value:function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}}],[{key:"create",value:function(e){return new n(new zo(e))}}]),n}(Yo),Ko=function(){function e(t){o(this,e),this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return s(e,[{key:"createTexture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pi.NONE,r=new zo(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new qo(r)}},{key:"getOptimalTexture",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pi.NONE;e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?n=i>1?-i:-1:(n=((65535&(e=Ha(e)))<<16|65535&(t=Ha(t)))>>>0,i>1&&(n+=4294967296*i)),this.texturePool[n]||(this.texturePool[n]=[]);var a=this.texturePool[n].pop();return a||(a=this.createTexture(e,t,i)),a.filterPoolKey=n,a.setResolution(r),a}},{key:"getFilterTexture",value:function(e,t,n){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||Pi.NONE);return r.filterFrame=e.filterFrame,r}},{key:"returnTexture",value:function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}},{key:"returnFilterTexture",value:function(e){this.returnTexture(e)}},{key:"clear",value:function(e){if(e=!1!==e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}}},{key:"setScreenSize",value:function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool)if(Number(t)<0){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}]),e}();Ko.SCREEN_KEY=-1;var Zo=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.call(this)).addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return s(n)}(Ls),Qo=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.call(this)).vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Is(e.vertices),e.uvBuffer=new Is(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return s(n,[{key:"map",value:function(e,t){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this}},{key:"invalidate",value:function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}]),n}(Ls),Jo=function(){function e(){o(this,e),this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Pi.NONE,this.sourceFrame=new Xs,this.destinationFrame=new Xs,this.bindingSourceFrame=new Xs,this.bindingDestinationFrame=new Xs,this.filters=[],this.transform=null}return s(e,[{key:"clear",value:function(){this.target=null,this.filters=null,this.renderTexture=null}}]),e}(),$o=[new Hs,new Hs,new Hs,new Hs],eu=new Zs,tu=function(){function e(t){o(this,e),this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Ko,this.statePool=[],this.quad=new Zo,this.quadUv=new Qo,this.tempRect=new Xs,this.activeState={},this.globalUniforms=new So({outputFrame:new Xs,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return s(e,[{key:"init",value:function(){this.texturePool.setScreenSize(this.renderer.view)}},{key:"push",value:function(e,t){for(var n,r=this.renderer,i=this.defaultFilterStack,a=this.statePool.pop()||new Jo,s=this.renderer.renderTexture,o=t[0].resolution,u=t[0].multisample,l=t[0].padding,h=t[0].autoFit,c=null===(n=t[0].legacy)||void 0===n||n,d=1;d<t.length;d++){var f,p=t[d];o=Math.min(o,p.resolution),u=Math.min(u,p.multisample),l=this.useMaxPadding?Math.max(l,p.padding):l+p.padding,h=h&&p.autoFit,c=c||null===(f=p.legacy)||void 0===f||f}1===i.length&&(this.defaultFilterStack[0].renderTexture=s.current),i.push(a),a.resolution=o,a.multisample=u,a.legacy=c,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(l);var v=this.tempRect.copyFrom(s.sourceFrame);r.projection.transform&&this.transformAABB(eu.copyFrom(r.projection.transform).invert(),v),h?(a.sourceFrame.fit(v),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(v)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,s.current?s.current.resolution:r.resolution,s.sourceFrame,s.destinationFrame,r.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,o,u),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=a.sourceFrame.width,m.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(s.sourceFrame),a.bindingDestinationFrame.copyFrom(s.destinationFrame),a.transform=r.projection.transform,r.projection.transform=null,s.bind(a.renderTexture,a.sourceFrame,m),r.framebuffer.clear(0,0,0,0)}},{key:"pop",value:function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;var i=r.inputSize,a=r.inputPixel,s=r.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],a[0]=Math.round(i[0]*t.resolution),a[1]=Math.round(i[1]*t.resolution),a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=t.sourceFrame.width*i[2]-.5*a[2],s[3]=t.sourceFrame.height*i[3]-.5*a[3],t.legacy){var o=r.filterArea;o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=t.sourceFrame.x,o[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var u=e[e.length-1];if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,u.renderTexture,Ti.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var l=t.renderTexture,h=this.getOptimalFilterTexture(l.width,l.height,t.resolution);h.filterFrame=l.filterFrame;var c=0;for(c=0;c<n.length-1;++c){1===c&&t.multisample>1&&((h=this.getOptimalFilterTexture(l.width,l.height,t.resolution)).filterFrame=l.filterFrame),n[c].apply(this,l,h,Ti.CLEAR,t);var d=l;l=h,h=d}n[c].apply(this,l,u.renderTexture,Ti.BLEND,t),c>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(h)}t.clear(),this.statePool.push(t)}},{key:"bindAndClear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ti.CLEAR,n=this.renderer,r=n.renderTexture,i=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null!==e&&void 0!==e&&e.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,r.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=1&i.stateId||this.forceClear;(t===Ti.CLEAR||t===Ti.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}},{key:"applyFilter",value:function(e,t,n,r){var i=this.renderer;i.state.set(e.state),this.bindAndClear(n,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(mi.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(mi.TRIANGLE_STRIP))}},{key:"calculateSpriteMatrix",value:function(e,t){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,a=t._texture.orig,s=e.set(i.width,0,0,i.height,r.x,r.y),o=t.worldTransform.copyTo(Zs.TEMP_MATRIX);return o.invert(),s.prepend(o),s.scale(1/a.width,1/a.height),s.translate(t.anchor.x,t.anchor.y),s}},{key:"destroy",value:function(){this.renderer=null,this.texturePool.clear(!1)}},{key:"getOptimalFilterTexture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pi.NONE;return this.texturePool.getOptimalTexture(e,t,n,r)}},{key:"getFilterTexture",value:function(e,t,n){if("number"===typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||Pi.NONE);return i.filterFrame=e.filterFrame,i}},{key:"returnFilterTexture",value:function(e){this.texturePool.returnTexture(e)}},{key:"emptyPool",value:function(){this.texturePool.clear(!0)}},{key:"resize",value:function(){this.texturePool.setScreenSize(this.renderer.view)}},{key:"transformAABB",value:function(e,t){var n=$o[0],r=$o[1],i=$o[2],a=$o[3];n.set(t.left,t.top),r.set(t.left,t.bottom),i.set(t.right,t.top),a.set(t.right,t.bottom),e.apply(n,n),e.apply(r,r),e.apply(i,i),e.apply(a,a);var s=Math.min(n.x,r.x,i.x,a.x),o=Math.min(n.y,r.y,i.y,a.y),u=Math.max(n.x,r.x,i.x,a.x),l=Math.max(n.y,r.y,i.y,a.y);t.x=s,t.y=o,t.width=u-s,t.height=l-o}},{key:"roundFrame",value:function(e,t,n,r,i){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(i){var a=i,s=a.a,o=a.b,u=a.c,l=a.d;if((Math.abs(o)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(l)>1e-4))return}(i=i?eu.copyFrom(i):eu.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}}}]),e}();tu.extension={type:fs.RendererSystem,name:"filter"},ms.add(tu);var nu=s((function e(t){o(this,e),this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Pi.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0})),ru=new Xs,iu=function(){function e(t){o(this,e),this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Go(10,10),this.msaaSamples=null}return s(e,[{key:"contextChange",value:function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Xs,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Mi.PREFER_ENV===di.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}},{key:"bind",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=n),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var a=0;a<e.colorTextures.length;a++){var s=e.colorTextures[a];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var o=t.width>>n,u=t.height>>n,l=o/t.width;this.setViewport(t.x*l,t.y*l,o,u)}else{var h=e.width>>n,c=e.height>>n;this.setViewport(0,0,h,c)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}},{key:"setViewport",value:function(e,t,n,r){var i=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),r=Math.round(r),i.width===n&&i.height===r&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))}},{key:"size",get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}},{key:"clear",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pi.COLOR|pi.DEPTH,a=this.gl;a.clearColor(e,t,n,r),a.clear(i)}},{key:"initFramebuffer",value:function(e){var t=this.gl,n=new nu(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}},{key:"resizeFramebuffer",value:function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var r=e.colorTextures,i=r.length;t.drawBuffers||(i=Math.min(i,1));for(var a=0;a<i;a++){var s=r[a],o=s.parentTextureArray||s;this.renderer.texture.bind(o,0),0===a&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,o._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}},{key:"updateFramebuffer",value:function(e,t){var n=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures,a=i.length;n.drawBuffers||(a=Math.min(a,1)),r.multisample>1&&this.canMultisampleFramebuffer(e)?r.msaaBuffer=r.msaaBuffer||n.createRenderbuffer():r.msaaBuffer&&(n.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var s=[],o=0;o<a;o++){var u=i[o],l=u.parentTextureArray||u;this.renderer.texture.bind(l,0),0===o&&r.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,r.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+o,u.target,l._glTextures[this.CONTEXT_UID].texture,t),s.push(n.COLOR_ATTACHMENT0+o))}if((s.length>1&&n.drawBuffers(s),e.depthTexture)&&this.writeDepthTexture){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,t)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?r.stencil&&(n.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r.stencil))}},{key:"canMultisampleFramebuffer",value:function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}},{key:"detectSamples",value:function(e){var t=this.msaaSamples,n=Pi.NONE;if(e<=1||null===t)return n;for(var r=0;r<t.length;r++)if(t[r]<=e){n=t[r];break}return 1===n&&(n=Pi.NONE),n}},{key:"blit",value:function(e,t,n){var r=this.current,i=this.renderer,a=this.gl,s=this.CONTEXT_UID;if(2===i.context.webGLVersion&&r){var o=r.glFramebuffers[s];if(o){if(!e){if(!o.msaaBuffer)return;var u=r.colorTextures[0];if(!u)return;o.blitFramebuffer||(o.blitFramebuffer=new Go(r.width,r.height),o.blitFramebuffer.addColorTexture(0,u)),(e=o.blitFramebuffer).colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),e.width===r.width&&e.height===r.height||(e.width=r.width,e.height=r.height,e.dirtyId++,e.dirtySize++)}t||((t=ru).width=r.width,t.height=r.height),n||(n=t);var l=t.width===n.width&&t.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,o.framebuffer),a.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,l?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}}}},{key:"disposeFramebuffer",value:function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&r.deleteRenderbuffer(n.msaaBuffer),n.stencil&&r.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}}},{key:"disposeAll",value:function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}},{key:"forceStencil",value:function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.stencil=!0;var n=e.width,r=e.height,i=this.gl,a=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,a),t.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,t.multisample,i.DEPTH24_STENCIL8,n,r):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),t.stencil=a,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,a)}}}},{key:"reset",value:function(){this.current=this.unknownFramebuffer,this.viewport=new Xs}},{key:"destroy",value:function(){this.renderer=null}}]),e}();iu.extension={type:fs.RendererSystem,name:"framebuffer"},ms.add(iu);var au={5126:4,5123:2,5121:1},su=function(){function e(t){o(this,e),this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return s(e,[{key:"contextChange",value:function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;Mi.PREFER_ENV===di.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(e){return n.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return n.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=function(e,t){return r.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,n,i,a){return r.drawElementsInstancedANGLE(e,t,n,i,a)},e.drawArraysInstanced=function(e,t,n,i){return r.drawArraysInstancedANGLE(e,t,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}},{key:"bind",value:function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var a=r[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,t.program)),this.updateBuffers()}},{key:"reset",value:function(){this.unbind()}},{key:"updateBuffers",value:function(){for(var e=this._activeGeometry,t=this.renderer.buffer,n=0;n<e.buffers.length;n++){var r=e.buffers[n];t.update(r)}}},{key:"checkCompatibility",value:function(e,t){var n=e.attributes,r=t.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(i,'" attribute'))}},{key:"getSignature",value:function(e,t){var n=e.attributes,r=t.attributeData,i=["g",e.id];for(var a in n)r[a]&&i.push(a,r[a].location);return i.join("-")}},{key:"initGeometryVao",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,s=t.program;s.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,s);var o=this.getSignature(e,s),u=e.glVertexArrayObjects[this.CONTEXT_UID],l=u[o];if(l)return u[s.id]=l,l;var h=e.buffers,c=e.attributes,d={},f={};for(var p in h)d[p]=0,f[p]=0;for(var v in c)!c[v].size&&s.attributeData[v]?c[v].size=s.attributeData[v].size:c[v].size||console.warn("PIXI Geometry attribute '".concat(v,"' size cannot be determined (likely the bound shader does not have the attribute)")),d[c[v].buffer]+=c[v].size*au[c[v].type];for(var m in c){var g=c[m],y=g.size;void 0===g.stride&&(d[g.buffer]===y*au[g.type]?g.stride=0:g.stride=d[g.buffer]),void 0===g.start&&(g.start=f[g.buffer],f[g.buffer]+=y*au[g.type])}l=r.createVertexArray(),r.bindVertexArray(l);for(var _=0;_<h.length;_++){var b=h[_];a.bind(b),n&&b._glBuffers[i].refCount++}return this.activateVao(e,s),u[s.id]=l,u[o]=l,r.bindVertexArray(null),a.unbind(Ri.ARRAY_BUFFER),l}},{key:"disposeGeometry",value:function(e,t){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,a=e.buffers,s=null===(n=this.renderer)||void 0===n?void 0:n.buffer;if(e.disposeRunner.remove(this),r){if(s)for(var o=0;o<a.length;o++){var u=a[o]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0!==u.refCount||t||s.dispose(a[o],t))}if(!t)for(var l in r)if("g"===l[0]){var h=r[l];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}}},{key:"disposeAll",value:function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}},{key:"activateVao",value:function(e,t){var n=this.gl,r=this.CONTEXT_UID,i=this.renderer.buffer,a=e.buffers,s=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);var o=null;for(var u in s){var l=s[u],h=a[l.buffer],c=h._glBuffers[r];if(t.attributeData[u]){o!==c&&(i.bind(h),o=c);var d=t.attributeData[u].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(d,l.divisor)}}}}},{key:"draw",value:function(e,t,n,r){var i=this.gl,a=this._activeGeometry;if(a.indexBuffer){var s=a.indexBuffer.data.BYTES_PER_ELEMENT,o=2===s?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?a.instanced?i.drawElementsInstanced(e,t||a.indexBuffer.data.length,o,(n||0)*s,r||1):i.drawElements(e,t||a.indexBuffer.data.length,o,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else a.instanced?i.drawArraysInstanced(e,n,t||a.getSize(),r||1):i.drawArrays(e,n,t||a.getSize());return this}},{key:"unbind",value:function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}},{key:"destroy",value:function(){this.renderer=null}}]),e}();su.extension={type:fs.RendererSystem,name:"geometry"},ms.add(su);var ou=new Zs,uu=function(){function e(t,n){o(this,e),this._texture=t,this.mapCoord=new Zs,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"===typeof n?.5:n,this.isSimple=!1}return s(e,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1}},{key:"multiplyUvs",value:function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],a=e[r+1];t[r]=i*n.a+a*n.c+n.tx,t[r+1]=i*n.b+a*n.d+n.ty}return t}},{key:"update",value:function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;i&&(ou.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(ou));var a=t.baseTexture,s=this.uClampFrame,o=this.clampMargin/a.resolution,u=this.clampOffset;return s[0]=(t._frame.x+o+u)/a.width,s[1]=(t._frame.y+o+u)/a.height,s[2]=(t._frame.x+t._frame.width-o+u)/a.width,s[3]=(t._frame.y+t._frame.height-o+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&0===t.rotate,!0}}]),e}(),lu=function(e){cs(n,e);var t=ds(n);function n(e,r,i){var a;o(this,n);var s=null;return"string"!==typeof e&&void 0===r&&void 0===i&&(s=e,e=void 0,r=void 0,i=void 0),(a=t.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",i)).maskSprite=s,a.maskMatrix=new Zs,a}return s(n,[{key:"maskSprite",get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}},{key:"apply",value:function(e,t,n,r){var i=this._maskSprite,a=i._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new uu(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,t,n,r))}}]),n}(Do),hu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o(this,e),this.type=Ci.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Do.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return s(e,[{key:"filter",get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}},{key:"reset",value:function(){this.pooled&&(this.maskObject=null,this.type=Ci.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}},{key:"copyCountersOrReset",value:function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}]),e}(),cu=function(){function e(t){o(this,e),this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return s(e,[{key:"setMaskStack",value:function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}},{key:"push",value:function(e,t){var n=t;if(!n.isMaskData){var r=this.maskDataPool.pop()||new hu;r.pooled=!0,r.maskObject=t,n=r}var i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Ci.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ci.SCISSOR:this.renderer.scissor.push(n);break;case Ci.STENCIL:this.renderer.stencil.push(n);break;case Ci.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ci.COLOR:this.pushColorMask(n)}n.type===Ci.SPRITE&&this.maskStack.push(n)}},{key:"pop",value:function(e){var t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case Ci.SCISSOR:this.renderer.scissor.pop(t);break;case Ci.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Ci.SPRITE:this.popSpriteMask(t);break;case Ci.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){var n=this.maskStack[this.maskStack.length-1];n.type===Ci.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}},{key:"detect",value:function(e){var t=e.maskObject;t?t.isSprite?e.type=Ci.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ci.SCISSOR:e.type=Ci.STENCIL:e.type=Ci.COLOR}},{key:"pushSpriteMask",value:function(e){var t=e.maskObject,n=e._target,r=e._filters;r||(r=this.alphaMaskPool[this.alphaMaskIndex])||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new lu]);var i,a,s=this.renderer,o=s.renderTexture;if(o.current){var u,l=o.current;i=e.resolution||l.resolution,a=null!==(u=e.multisample)&&void 0!==u?u:l.multisample}else{var h;i=e.resolution||s.resolution,a=null!==(h=e.multisample)&&void 0!==h?h:s.multisample}r[0].resolution=i,r[0].multisample=a,r[0].maskSprite=t;var c=n.filterArea;n.filterArea=t.getBounds(!0),s.filter.push(n,r),n.filterArea=c,e._filters||this.alphaMaskIndex++}},{key:"popSpriteMask",value:function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}},{key:"pushColorMask",value:function(e){var t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask(0!==(1&n),0!==(2&n),0!==(4&n),0!==(8&n))}},{key:"popColorMask",value:function(e){var t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask(0!==(1&n),0!==(2&n),0!==(4&n),0!==(8&n))}},{key:"destroy",value:function(){this.renderer=null}}]),e}();cu.extension={type:fs.RendererSystem,name:"mask"},ms.add(cu);var du=function(){function e(t){o(this,e),this.renderer=t,this.maskStack=[],this.glConst=0}return s(e,[{key:"getStackLength",value:function(){return this.maskStack.length}},{key:"setMaskStack",value:function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var r=this.getStackLength();r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}},{key:"_useCurrent",value:function(){}},{key:"destroy",value:function(){this.renderer=null,this.maskStack=null}}]),e}(),fu=new Zs,pu=[],vu=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).glConst=Mi.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,r}return s(n,[{key:"getStackLength",value:function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}},{key:"calcScissorRect",value:function(e){var t;if(!e._scissorRectLocal){var n=e._scissorRect,r=e.maskObject,i=this.renderer,a=i.renderTexture,s=r.getBounds(!0,null!==(t=pu.pop())&&void 0!==t?t:new Xs);this.roundFrameToPixels(s,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),n&&s.fit(n),e._scissorRectLocal=s}}},{key:"testScissor",value:function(e){var t=e.maskObject;if(!t.isFastRect||!t.isFastRect())return!1;if(n.isMatrixRotated(t.worldTransform))return!1;if(n.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0}},{key:"roundFrameToPixels",value:function(e,t,r,i,a){n.isMatrixRotated(a)||((a=a?fu.copyFrom(a):fu.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(a,e),e.fit(i),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}},{key:"push",value:function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}},{key:"pop",value:function(e){var t=this.renderer.gl;e&&pu.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}},{key:"_useCurrent",value:function(){var e,t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}}],[{key:"isMatrixRotated",value:function(e){if(!e)return!1;var t=e.a,n=e.b,r=e.c,i=e.d;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)}}]),n}(du),mu=vu;mu.extension={type:fs.RendererSystem,name:"scissor"},ms.add(mu);var gu=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).glConst=Mi.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,r}return s(n,[{key:"getStackLength",value:function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}},{key:"push",value:function(e){var t=e.maskObject,n=this.renderer.gl,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;var i=e._colorMask;0!==i&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,r,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,n.colorMask(0!==(1&i),0!==(2&i),0!==(4&i),0!==(8&i))),this._useCurrent()}},{key:"pop",value:function(e){var t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{var n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,r=n?n._colorMask:15;0!==r&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==r&&(n._colorMask=r,t.colorMask(0!==(1&r),0!==(2&r),0!==(4&r),0!==(8&r))),this._useCurrent()}}},{key:"_useCurrent",value:function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}]),n}(du);gu.extension={type:fs.RendererSystem,name:"stencil"},ms.add(gu);var yu=function(){function e(t){o(this,e),this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:function(){return sa("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get:function(){return sa("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get:function(){return sa("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}return s(e,[{key:"init",value:function(){var e=this.rendererPlugins;for(var t in e)this.plugins[t]=new e[t](this.renderer)}},{key:"destroy",value:function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}]),e}();yu.extension={type:[fs.RendererSystem,fs.CanvasRendererSystem],name:"_plugin"},ms.add(yu);var _u=function(){function e(t){o(this,e),this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Zs,this.transform=null}return s(e,[{key:"update",value:function(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)}},{key:"calculateProjection",value:function(e,t,n,r){var i=this.projectionMatrix,a=r?-1:1;i.identity(),i.a=1/t.width*2,i.d=a*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-a-t.y*i.d}},{key:"setTransform",value:function(e){}},{key:"destroy",value:function(){this.renderer=null}}]),e}();function bu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}_u.extension={type:fs.RendererSystem,name:"projection"},ms.add(_u);var xu=["region"],wu=new oo,ku=function(){function e(t){o(this,e),this.renderer=t,this._tempMatrix=new Zs}return s(e,[{key:"generateTexture",value:function(e,t){var n=t||{},r=n.region,i=bu(n,xu),a=r||e.getLocalBounds(null,!0);0===a.width&&(a.width=1),0===a.height&&(a.height=1);var s=qo.create(hi({width:a.width,height:a.height},i));this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;var o=e.transform;return e.transform=wu,this.renderer.render(e,{renderTexture:s,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=o,s}},{key:"destroy",value:function(){}}]),e}();ku.extension={type:[fs.RendererSystem,fs.CanvasRendererSystem],name:"textureGenerator"},ms.add(ku);var Eu=new Xs,Tu=new Xs,Au=function(){function e(t){o(this,e),this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Xs,this.destinationFrame=new Xs,this.viewportFrame=new Xs}return s(e,[{key:"contextChange",value:function(){var e,t=null===(e=this.renderer)||void 0===e?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}},{key:"bind",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=this.renderer;this.current=r,r?(n=(e=r.baseTexture).resolution,i||(Eu.width=r.frame.width,Eu.height=r.frame.height,i=Eu),a||(Tu.x=r.frame.x,Tu.y=r.frame.y,Tu.width=i.width,Tu.height=i.height,a=Tu),t=e.framebuffer):(n=s.resolution,i||(Eu.width=s._view.screen.width,Eu.height=s._view.screen.height,i=Eu),a||((a=Eu).width=i.width,a.height=i.height));var o=this.viewportFrame;o.x=a.x*n,o.y=a.y*n,o.width=a.width*n,o.height=a.height*n,r||(o.y=s.view.height-(o.y+o.height)),o.ceil(),this.renderer.framebuffer.bind(t,o),this.renderer.projection.update(a,i,n,!t),r?this.renderer.mask.setMaskStack(e.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(i),this.destinationFrame.copyFrom(a)}},{key:"clear",value:function(e,t){var n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,r=Ua.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&r.premultiply(r.alpha);var i=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,s=i.width!==a.width||i.height!==a.height;if(s){var o=this.viewportFrame,u=o.x,l=o.y,h=o.width,c=o.height;u=Math.round(u),l=Math.round(l),h=Math.round(h),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,l,h,c)}this.renderer.framebuffer.clear(r.red,r.green,r.blue,r.alpha,t),s&&this.renderer.scissor.pop()}},{key:"resize",value:function(){this.bind(null)}},{key:"reset",value:function(){this.bind(null)}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Au.extension={type:fs.RendererSystem,name:"renderTexture"},ms.add(Au);var Su=function(){function e(t,n){o(this,e),this.program=t,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return s(e,[{key:"destroy",value:function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}]),e}();function Cu(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function Pu(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function Ru(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Pu(2*t);case"bvec3":return Pu(3*t);case"bvec4":return Pu(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Iu(e,t){var n,r=e.getShaderSource(t).split("\n").map((function(e,t){return"".concat(t,": ").concat(e)})),i=e.getShaderInfoLog(t),a=i.split("\n"),s={},o=a.map((function(e){return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(e){return!(!e||s[e])&&(s[e]=!0,!0)})),u=[""];o.forEach((function(e){r[e-1]="%c".concat(r[e-1],"%c"),u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var l=r.join("\n");u[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),(n=console).warn.apply(n,u),console.groupEnd()}function Mu(e,t){var n,r=Cu(e,e.VERTEX_SHADER,t.vertexSrc),i=Cu(e,e.FRAGMENT_SHADER,t.fragmentSrc),a=e.createProgram();e.attachShader(a,r),e.attachShader(a,i);var s=null===(n=t.extra)||void 0===n?void 0:n.transformFeedbackVaryings;if(s&&("function"!==typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(a,s.names,"separate"===s.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||function(e,t,n,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||Iu(e,n),e.getShaderParameter(r,e.COMPILE_STATUS)||Iu(e,r),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}(e,a,r,i),t.attributeData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=t.getActiveAttrib(e,i);if(!a.name.startsWith("gl_")){var s=bo(t,a.type),o={type:s,name:a.name,size:go(s),location:t.getAttribLocation(e,a.name)};n[a.name]=o}}return n}(a,e),t.uniformData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var a=t.getActiveUniform(e,i),s=a.name.replace(/\[.*?\]$/,""),o=!!a.name.match(/\[.*?\]$/),u=bo(t,a.type);n[s]={name:s,index:i,type:u,size:a.size,isArray:o,value:Ru(u,a.size)}}return n}(a,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort((function(e,t){return e>t?1:-1}));for(var u=0;u<o.length;u++)t.attributeData[o[u]].location=u,e.bindAttribLocation(a,u,o[u]);e.linkProgram(a)}e.deleteShader(r),e.deleteShader(i);var l={};for(var h in t.uniformData){var c=t.uniformData[h];l[h]={location:e.getUniformLocation(a,h),value:Ru(c.type,c.size)}}return new Su(a,l)}function Ou(e,t,n,r,i){n.buffer.update(i)}var Du,Nu={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},Bu={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Lu(e,t){if(!e.autoManage)return{size:0,syncFunc:Ou};for(var n=function(e,t){var n=[];for(var r in e)t[r]&&n.push(t[r]);return n.sort((function(e,t){return e.index-t.index})),n}(e.uniforms,t),r=function(e){for(var t=e.map((function(e){return{data:e,offset:0,dataLen:0,dirty:0}})),n=0,r=0,i=0,a=0;a<t.length;a++){var s=t[a];if(n=Bu[s.data.type],s.data.size>1&&(n=Math.max(n,16)*s.data.size),s.dataLen=n,r%n!==0&&r<16){var o=r%n%16;r+=o,i+=o}r+n>16?(i=16*Math.ceil(i/16),s.offset=i,i+=n,r=n):(s.offset=i,r+=n,i+=n)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}(n),i=r.uboElements,a=r.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],o=0;o<i.length;o++){for(var u=i[o],l=e.uniforms[u.data.name],h=u.data.name,c=!1,d=0;d<uo.length;d++){var f=uo[d];if(f.codeUbo&&f.test(u.data,l)){s.push("offset = ".concat(u.offset/4,";"),uo[d].codeUbo(u.data.name,l)),c=!0;break}}if(!c)if(u.data.size>1){var p=go(u.data.type),v=Math.max(Bu[u.data.type]/16,1),m=p/v,g=(4-m%4)%4;s.push("\n                cv = ud.".concat(h,".value;\n                v = uv.").concat(h,";\n                offset = ").concat(u.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(u.data.size*v,"; i++)\n                {\n                    for(var j = 0; j < ").concat(m,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(g,";\n                }\n\n                "))}else{var y=Nu[u.data.type];s.push("\n                cv = ud.".concat(h,".value;\n                v = uv.").concat(h,";\n                offset = ").concat(u.offset/4,";\n                ").concat(y,";\n                "))}}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}var Fu=0,Uu={textureCount:0,uboCount:0},Gu=function(){function e(t){o(this,e),this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Fu++}return s(e,[{key:"systemCheck",value:function(){if(!function(){if("boolean"===typeof Du)return Du;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Du=!0===e({a:"b"},"a","b")}catch(fa){Du=!1}return Du}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}},{key:"contextChange",value:function(e){this.gl=e,this.reset()}},{key:"bind",value:function(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(Uu.textureCount=0,Uu.uboCount=0,this.syncUniformGroup(e.uniformGroup,Uu)),r}},{key:"setUniforms",value:function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}},{key:"syncUniformGroup",value:function(e,t){var n=this.getGlProgram();e.static&&e.dirtyId===n.uniformDirtyGroups[e.id]||(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}},{key:"syncUniforms",value:function(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}},{key:"createSyncGroups",value:function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){var n=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in e.uniforms){var i=t[r];if(i){for(var a=e.uniforms[r],s=!1,o=0;o<uo.length;o++)if(uo[o].test(i,a)){n.push(uo[o].code(r,a)),s=!0;break}if(!s){var u=(1!==i.size||i.isArray?ho:lo)[i.type].replace("location",'ud["'.concat(r,'"].location'));n.push('\n            cu = ud["'.concat(r,'"];\n            cv = cu.value;\n            v = uv["').concat(r,'"];\n            ').concat(u,";"))}}else{var l;null!==(l=e.uniforms[r])&&void 0!==l&&l.group&&(e.uniforms[r].ubo?n.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(r,", '").concat(r,"');\n                    ")):n.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(r,", syncData);\n                    ")))}}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}},{key:"syncUniformBufferGroup",value:function(e,t){var n=this.getGlProgram();if(!e.static||0!==e.dirtyId||!n.uniformGroups[e.id]){e.dirtyId=0;var r=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),r(n.uniformData,e.uniforms,this.renderer,Uu,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}},{key:"createSyncBufferGroup",value:function(e,t,n){var r=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var i=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[a];if(s||(s=this._uboCache[a]=Lu(e,this.shader.program.uniformData)),e.autoManage){var o=new Float32Array(s.size/4);e.buffer.update(o)}return t.uniformGroups[e.id]=s.syncFunc,t.uniformGroups[e.id]}},{key:"getSignature",value:function(e,t,n){var r=e.uniforms,i=["".concat(n,"-")];for(var a in r)i.push(a),t[a]&&i.push(t[a].type);return i.join("-")}},{key:"getGlProgram",value:function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}},{key:"generateProgram",value:function(e){var t=this.gl,n=e.program,r=Mu(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=r,r}},{key:"reset",value:function(){this.program=null,this.shader=null}},{key:"disposeShader",value:function(e){this.shader===e&&(this.shader=null)}},{key:"destroy",value:function(){this.renderer=null,this.destroyed=!0}}]),e}();Gu.extension={type:fs.RendererSystem,name:"shader"},ms.add(Gu);var zu=function(){function e(t){o(this,e),this.renderer=t}return s(e,[{key:"run",value:function(e){var t=this.renderer;t.runners.init.emit(t.options),e.hello&&console.log("PixiJS ".concat("7.2.4"," - ",t.rendererLogId," - https://pixijs.com")),t.resize(t.screen.width,t.screen.height)}},{key:"destroy",value:function(){}}]),e}();zu.defaultOptions={hello:!1},zu.extension={type:[fs.RendererSystem,fs.CanvasRendererSystem],name:"startup"},ms.add(zu);var ju=function(){function e(){o(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=vi.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new bs,this.defaultState.blend=!0}return s(e,[{key:"contextChange",value:function(e){this.gl=e,this.blendModes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[vi.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.ADD]=[e.ONE,e.ONE],t[vi.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.NONE]=[0,0],t[vi.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[vi.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[vi.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[vi.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[vi.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[vi.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[vi.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[vi.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[vi.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[vi.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[vi.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()}},{key:"set",value:function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,e)}},{key:"forceState",value:function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(var n=0;n<this.checks.length;n++)this.checks[n](this,e);this.stateId=e.data}},{key:"setBlend",value:function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}},{key:"setOffset",value:function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}},{key:"setDepthTest",value:function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}},{key:"setDepthMask",value:function(e){this.gl.depthMask(e)}},{key:"setCullFace",value:function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}},{key:"setFrontFace",value:function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}},{key:"setBlendMode",value:function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}}},{key:"setPolygonOffset",value:function(e,t){this.gl.polygonOffset(e,t)}},{key:"reset",value:function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}},{key:"updateCheck",value:function(e,t){var n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)}},{key:"destroy",value:function(){this.gl=null}}],[{key:"checkBlendMode",value:function(e,t){e.setBlendMode(t.blendMode)}},{key:"checkPolygonOffset",value:function(e,t){e.setPolygonOffset(1,t.polygonOffset)}}]),e}(),Hu=ju;function Vu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ua(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function Xu(e){return function(e){if(Array.isArray(e))return oa(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ua(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Hu.extension={type:fs.RendererSystem,name:"state"},ms.add(Hu);var Wu=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).runners={},e._systemsHash={},e}return s(n,[{key:"setup",value:function(e){var t;this.addRunners.apply(this,Xu(e.runners));var n,r=(null!==(t=e.priority)&&void 0!==t?t:[]).filter((function(t){return e.systems[t]})),i=Vu([].concat(Xu(r),Xu(Object.keys(e.systems).filter((function(e){return!r.includes(e)})))));try{for(i.s();!(n=i.n()).done;){var a=n.value;this.addSystem(e.systems[a],a)}}catch(s){i.e(s)}finally{i.f()}}},{key:"addRunners",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.runners[t]=new ks(t)}))}},{key:"addSystem",value:function(e,t){var n=new e(this);if(this[t])throw new Error('Whoops! The name "'.concat(t,'" is already in use'));for(var r in this[t]=n,this._systemsHash[t]=n,this.runners)this.runners[r].add(n);return this}},{key:"emitWithCustomOptions",value:function(e,t){var n=this,r=Object.keys(this._systemsHash);e.items.forEach((function(i){var a=r.find((function(e){return n._systemsHash[e]===i}));i[e.name](t[a])}))}},{key:"destroy",value:function(){Object.values(this.runners).forEach((function(e){e.destroy()})),this._systemsHash={}}}]),n}(Qi),Yu=function(){function e(t){o(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}return s(e,[{key:"postrender",value:function(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Ai.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}},{key:"run",value:function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,n=!0)}if(n){for(var a=0,s=0;s<t.length;s++)null!==t[s]&&(t[a++]=t[s]);t.length=a}}},{key:"unload",value:function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var r=e.children.length-1;r>=0;r--)this.unload(e.children[r])}},{key:"destroy",value:function(){this.renderer=null}}]),e}(),qu=Yu;qu.defaultMode=Ai.AUTO,qu.defaultMaxIdle=3600,qu.defaultCheckCountMax=600,qu.extension={type:fs.RendererSystem,name:"textureGC"},ms.add(qu);var Ku=s((function e(t){o(this,e),this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=_i.UNSIGNED_BYTE,this.internalFormat=gi.RGBA,this.samplerType=0}));var Zu=function(){function e(t){o(this,e),this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Cs,this.hasIntegerTextures=!1}return s(e,[{key:"contextChange",value:function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){var t,n,r,i,a,s,o,u,l,h,c,d,f;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?(ui(c={},_i.UNSIGNED_BYTE,(ui(n={},gi.RGBA,e.RGBA8),ui(n,gi.RGB,e.RGB8),ui(n,gi.RG,e.RG8),ui(n,gi.RED,e.R8),ui(n,gi.RGBA_INTEGER,e.RGBA8UI),ui(n,gi.RGB_INTEGER,e.RGB8UI),ui(n,gi.RG_INTEGER,e.RG8UI),ui(n,gi.RED_INTEGER,e.R8UI),ui(n,gi.ALPHA,e.ALPHA),ui(n,gi.LUMINANCE,e.LUMINANCE),ui(n,gi.LUMINANCE_ALPHA,e.LUMINANCE_ALPHA),n)),ui(c,_i.BYTE,(ui(r={},gi.RGBA,e.RGBA8_SNORM),ui(r,gi.RGB,e.RGB8_SNORM),ui(r,gi.RG,e.RG8_SNORM),ui(r,gi.RED,e.R8_SNORM),ui(r,gi.RGBA_INTEGER,e.RGBA8I),ui(r,gi.RGB_INTEGER,e.RGB8I),ui(r,gi.RG_INTEGER,e.RG8I),ui(r,gi.RED_INTEGER,e.R8I),r)),ui(c,_i.UNSIGNED_SHORT,(ui(i={},gi.RGBA_INTEGER,e.RGBA16UI),ui(i,gi.RGB_INTEGER,e.RGB16UI),ui(i,gi.RG_INTEGER,e.RG16UI),ui(i,gi.RED_INTEGER,e.R16UI),ui(i,gi.DEPTH_COMPONENT,e.DEPTH_COMPONENT16),i)),ui(c,_i.SHORT,(ui(a={},gi.RGBA_INTEGER,e.RGBA16I),ui(a,gi.RGB_INTEGER,e.RGB16I),ui(a,gi.RG_INTEGER,e.RG16I),ui(a,gi.RED_INTEGER,e.R16I),a)),ui(c,_i.UNSIGNED_INT,(ui(s={},gi.RGBA_INTEGER,e.RGBA32UI),ui(s,gi.RGB_INTEGER,e.RGB32UI),ui(s,gi.RG_INTEGER,e.RG32UI),ui(s,gi.RED_INTEGER,e.R32UI),ui(s,gi.DEPTH_COMPONENT,e.DEPTH_COMPONENT24),s)),ui(c,_i.INT,(ui(o={},gi.RGBA_INTEGER,e.RGBA32I),ui(o,gi.RGB_INTEGER,e.RGB32I),ui(o,gi.RG_INTEGER,e.RG32I),ui(o,gi.RED_INTEGER,e.R32I),o)),ui(c,_i.FLOAT,(ui(u={},gi.RGBA,e.RGBA32F),ui(u,gi.RGB,e.RGB32F),ui(u,gi.RG,e.RG32F),ui(u,gi.RED,e.R32F),ui(u,gi.DEPTH_COMPONENT,e.DEPTH_COMPONENT32F),u)),ui(c,_i.HALF_FLOAT,(ui(l={},gi.RGBA,e.RGBA16F),ui(l,gi.RGB,e.RGB16F),ui(l,gi.RG,e.RG16F),ui(l,gi.RED,e.R16F),l)),ui(c,_i.UNSIGNED_SHORT_5_6_5,ui({},gi.RGB,e.RGB565)),ui(c,_i.UNSIGNED_SHORT_4_4_4_4,ui({},gi.RGBA,e.RGBA4)),ui(c,_i.UNSIGNED_SHORT_5_5_5_1,ui({},gi.RGBA,e.RGB5_A1)),ui(c,_i.UNSIGNED_INT_2_10_10_10_REV,(ui(h={},gi.RGBA,e.RGB10_A2),ui(h,gi.RGBA_INTEGER,e.RGB10_A2UI),h)),ui(c,_i.UNSIGNED_INT_10F_11F_11F_REV,ui({},gi.RGB,e.R11F_G11F_B10F)),ui(c,_i.UNSIGNED_INT_5_9_9_9_REV,ui({},gi.RGB,e.RGB9_E5)),ui(c,_i.UNSIGNED_INT_24_8,ui({},gi.DEPTH_STENCIL,e.DEPTH24_STENCIL8)),ui(c,_i.FLOAT_32_UNSIGNED_INT_24_8_REV,ui({},gi.DEPTH_STENCIL,e.DEPTH32F_STENCIL8)),t=c):(ui(f={},_i.UNSIGNED_BYTE,(ui(d={},gi.RGBA,e.RGBA),ui(d,gi.RGB,e.RGB),ui(d,gi.ALPHA,e.ALPHA),ui(d,gi.LUMINANCE,e.LUMINANCE),ui(d,gi.LUMINANCE_ALPHA,e.LUMINANCE_ALPHA),d)),ui(f,_i.UNSIGNED_SHORT_5_6_5,ui({},gi.RGB,e.RGB)),ui(f,_i.UNSIGNED_SHORT_4_4_4_4,ui({},gi.RGBA,e.RGBA)),ui(f,_i.UNSIGNED_SHORT_5_5_5_1,ui({},gi.RGBA,e.RGBA)),t=f),t}(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new Ku(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Ku(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var a=0;a<this.boundTextures.length;a++)this.bind(null,a)}},{key:"bind",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.gl;if(null!==(n=e=null===(t=e)||void 0===t?void 0:t.castToBaseTexture())&&void 0!==n&&n.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var a=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,a.texture)),a.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):a.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}},{key:"reset",value:function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}},{key:"unbind",value:function(e){var t=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(var i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}},{key:"ensureSamplerType",value:function(e){var t=this.boundTextures,n=this.hasIntegerTextures,r=this.CONTEXT_UID;if(n)for(var i=e-1;i>=0;--i){var a=t[i];if(a)a._glTextures[r].samplerType!==bi.FLOAT&&this.renderer.texture.unbind(a)}}},{key:"initTexture",value:function(e){var t=new Ku(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}},{key:"initTextureType",value:function(e,t){var n,r;t.internalFormat=null!==(n=null===(r=this.internalFormats[e.type])||void 0===r?void 0:r[e.format])&&void 0!==n?n:e.format,2===this.webGLVersion&&e.type===_i.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}},{key:"updateTexture",value:function(e){var t,n=e._glTextures[this.CONTEXT_UID];if(n){var r=this.renderer;if(this.initTextureType(e,n),null!==(t=e.resource)&&void 0!==t&&t.upload(r,e,n))n.samplerType!==bi.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,s=r.gl;(n.width!==i||n.height!==a||n.dirtyId<0)&&(n.width=i,n.height=a,s.texImage2D(e.target,0,n.internalFormat,i,a,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}}},{key:"destroyTexture",value:function(e,t){var n=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&Wa(this.managedTextures,r,1)}}},{key:"updateTextureStyle",value:function(e){var t,n=e._glTextures[this.CONTEXT_UID];n&&(e.mipmap!==ki.POW2&&2===this.webGLVersion||e.isPowerOfTwo?n.mipmap=e.mipmap>=1:n.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?n.wrapMode=e.wrapMode:n.wrapMode=wi.CLAMP,null!==(t=e.resource)&&void 0!==t&&t.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}},{key:"setStyle",value:function(e,t){var n=this.gl;if(t.mipmap&&e.mipmap!==ki.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===xi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===xi.LINEAR){var i=Math.min(e.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===xi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===xi.LINEAR?n.LINEAR:n.NEAREST)}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Zu.extension={type:fs.RendererSystem,name:"texture"},ms.add(Zu);var Qu=function(){function e(t){o(this,e),this.renderer=t}return s(e,[{key:"contextChange",value:function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}},{key:"bind",value:function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,r)}},{key:"unbind",value:function(){var e=this.gl;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}},{key:"beginTransformFeedback",value:function(e,t){var n=this.gl,r=this.renderer;t&&r.shader.bind(t),n.beginTransformFeedback(e)}},{key:"endTransformFeedback",value:function(){this.gl.endTransformFeedback()}},{key:"createGLTransformFeedback",value:function(e){var t=this.gl,n=this.renderer,r=this.CONTEXT_UID,i=t.createTransformFeedback();e._glTransformFeedbacks[r]=i,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i);for(var a=0;a<e.buffers.length;a++){var s=e.buffers[a];s&&(n.buffer.update(s),s._glBuffers[r].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,a,s._glBuffers[r].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),i}},{key:"disposeTransformFeedback",value:function(e,t){var n=e._glTransformFeedbacks[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this);var i=this.renderer.buffer;if(i)for(var a=0;a<e.buffers.length;a++){var s=e.buffers[a];if(s){var o=s._glBuffers[this.CONTEXT_UID];o&&(o.refCount--,0!==o.refCount||t||i.dispose(s,t))}}n&&(t||r.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Qu.extension={type:fs.RendererSystem,name:"transformFeedback"},ms.add(Qu);var Ju=function(){function e(t){o(this,e),this.renderer=t}return s(e,[{key:"init",value:function(e){this.screen=new Xs(0,0,e.width,e.height),this.element=e.view||Mi.ADAPTER.createCanvas(),this.resolution=e.resolution||Mi.RESOLUTION,this.autoDensity=!!e.autoDensity}},{key:"resizeView",value:function(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);var n=this.element.width/this.resolution,r=this.element.height/this.resolution;this.screen.width=n,this.screen.height=r,this.autoDensity&&(this.element.style.width="".concat(n,"px"),this.element.style.height="".concat(r,"px")),this.renderer.emit("resize",n,r),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}},{key:"destroy",value:function(e){var t;e&&(null===(t=this.element.parentNode)||void 0===t||t.removeChild(this.element));this.renderer=null,this.element=null,this.screen=null}}]),e}();Ju.defaultOptions={width:800,height:600,resolution:Mi.RESOLUTION,autoDensity:!1},Ju.extension={type:[fs.RendererSystem,fs.CanvasRendererSystem],name:"_view"},ms.add(Ju),Mi.PREFER_ENV=di.WEBGL2,Mi.STRICT_TEXTURE_CACHE=!1,Mi.RENDER_OPTIONS=hi(hi(hi(hi({},Fo.defaultOptions),No.defaultOptions),Ju.defaultOptions),zu.defaultOptions),Object.defineProperties(Mi,{WRAP_MODE:{get:function(){return Cs.defaultOptions.wrapMode},set:function(e){sa("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Cs.defaultOptions.wrapMode=e}},SCALE_MODE:{get:function(){return Cs.defaultOptions.scaleMode},set:function(e){sa("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Cs.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:function(){return Cs.defaultOptions.mipmap},set:function(e){sa("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Cs.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:function(){return Cs.defaultOptions.anisotropicLevel},set:function(e){sa("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Cs.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:function(){return sa("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Do.defaultResolution},set:function(e){Do.defaultResolution=e}},FILTER_MULTISAMPLE:{get:function(){return sa("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Do.defaultMultisample},set:function(e){Do.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:function(){return Oo.defaultMaxTextures},set:function(e){sa("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Oo.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:function(){return Oo.defaultBatchSize},set:function(e){sa("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Oo.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:function(){return Oo.canUploadSameBuffer},set:function(e){sa("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Oo.canUploadSameBuffer=e}},GC_MODE:{get:function(){return qu.defaultMode},set:function(e){sa("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),qu.defaultMode=e}},GC_MAX_IDLE:{get:function(){return qu.defaultMaxIdle},set:function(e){sa("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),qu.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:function(){return qu.defaultCheckCountMax},set:function(e){sa("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),qu.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:function(){return To.defaultVertexPrecision},set:function(e){sa("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),To.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:function(){return To.defaultFragmentPrecision},set:function(e){sa("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),To.defaultFragmentPrecision=e}}});var $u=function(e){return e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e}($u||{}),el=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];o(this,e),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=n,this.priority=r,this.once=i}return s(e,[{key:"match",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.fn===e&&this.context===t}},{key:"emit",value:function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}},{key:"connect",value:function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t}}]),e}(),tl=function(){function e(){var t=this;o(this,e),this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new el(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return s(e,[{key:"_requestIfNeeded",value:function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}},{key:"_cancelIfNeeded",value:function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}},{key:"_startIfPossible",value:function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}},{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$u.NORMAL;return this._addListener(new el(e,t,n))}},{key:"addOnce",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$u.NORMAL;return this._addListener(new el(e,t,n,!0))}},{key:"_addListener",value:function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this}},{key:"remove",value:function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this}},{key:"count",get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e}},{key:"start",value:function(){this.started||(this.started=!0,this._requestIfNeeded())}},{key:"stop",value:function(){this.started&&(this.started=!1,this._cancelIfNeeded())}},{key:"destroy",value:function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}},{key:"update",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(n>this.lastTime){if((t=this.elapsedMS=n-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var r=n-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=n-r%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*e.targetFPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=n}},{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,e.targetFPMS);this._maxElapsedMS=1/r}},{key:"maxFPS",get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}}],[{key:"shared",get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}},{key:"system",get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}}]),e}(),nl=tl;nl.targetFPMS=.06,Object.defineProperties(Mi,{TARGET_FPMS:{get:function(){return nl.targetFPMS},set:function(e){sa("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),nl.targetFPMS=e}}});var rl=function(){function e(){o(this,e)}return s(e,null,[{key:"init",value:function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,$u.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?nl.shared:new nl,e.autoStart&&this.start()}},{key:"destroy",value:function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}}}]),e}();rl.extension=fs.Application,ms.add(rl);var il=[];ms.handleByList(fs.Renderer,il);var al="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",sl=function(){function e(t){o(this,e),this.renderer=t}return s(e,[{key:"contextChange",value:function(e){var t;if(1===this.renderer.context.webGLVersion){var n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{var r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=Pi.HIGH?this.multisample=Pi.HIGH:t>=Pi.MEDIUM?this.multisample=Pi.MEDIUM:t>=Pi.LOW?this.multisample=Pi.LOW:this.multisample=Pi.NONE}},{key:"destroy",value:function(){}}]),e}();sl.extension={type:fs.RendererSystem,name:"_multisample"},ms.add(sl);var ol=s((function e(t){o(this,e),this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0})),ul=function(){function e(t){o(this,e),this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return s(e,[{key:"destroy",value:function(){this.renderer=null}},{key:"contextChange",value:function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}},{key:"bind",value:function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)}},{key:"unbind",value:function(e){this.gl.bindBuffer(e,null)}},{key:"bindBufferBase",value:function(e,t){var n=this.gl,r=this.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var i=e._glBuffers[r]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,i.buffer)}}},{key:"bindBufferRange",value:function(e,t,n){var r=this.gl,i=this.CONTEXT_UID;n=n||0;var a=e._glBuffers[i]||this.createGLBuffer(e);r.bindBufferRange(r.UNIFORM_BUFFER,t||0,a.buffer,256*n,256)}},{key:"update",value:function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==r.updateID)if(r.updateID=e._updateID,t.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{var i=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,i)}}},{key:"dispose",value:function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),n&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}}},{key:"disposeAll",value:function(e){for(var t=Object.keys(this.managedBuffers),n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}},{key:"createGLBuffer",value:function(e){var t=this.CONTEXT_UID,n=this.gl;return e._glBuffers[t]=new ol(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}]),e}();ul.extension={type:fs.RendererSystem,name:"buffer"},ms.add(ul);var ll=function(){function e(t){o(this,e),this.renderer=t}return s(e,[{key:"render",value:function(e,t){var n,r,i,a,s,o=this.renderer;if(t&&(r=t.renderTexture,i=t.clear,a=t.transform,s=t.skipUpdateTransform),this.renderingToScreen=!r,o.runners.prerender.emit(),o.emit("prerender"),o.projection.transform=a,!o.context.isLost){if(r||(this.lastObjectRendered=e),!s){var u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}o.renderTexture.bind(r),o.batch.currentRenderer.start(),(null!==(n=i)&&void 0!==n?n:o.background.clearBeforeRender)&&o.renderTexture.clear(),e.render(o),o.batch.currentRenderer.flush(),r&&(t.blit&&o.framebuffer.blit(),r.baseTexture.update()),o.runners.postrender.emit(),o.projection.transform=null,o.emit("postrender")}}},{key:"destroy",value:function(){this.renderer=null,this.lastObjectRendered=null}}]),e}();ll.extension={type:fs.RendererSystem,name:"objectRenderer"},ms.add(ll);var hl=function(e){cs(n,e);var t=ds(n);function n(e){var r;o(this,n),(r=t.call(this)).type=fi.WEBGL,e=Object.assign({},Mi.RENDER_OPTIONS,e),r.gl=null,r.CONTEXT_UID=0,r.globalUniforms=new So({projectionMatrix:new Zs},!0);var i={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:n.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};return r.setup(i),"useContextAlpha"in e&&(sa("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&"notMultiplied"!==e.useContextAlpha,e.backgroundAlpha=!1===e.useContextAlpha?1:e.backgroundAlpha),r._plugin.rendererPlugins=n.__plugins,r.options=e,r.startup.run(r.options),r}return s(n,[{key:"render",value:function(e,t){this.objectRenderer.render(e,t)}},{key:"resize",value:function(e,t){this._view.resizeView(e,t)}},{key:"reset",value:function(){return this.runners.reset.emit(),this}},{key:"clear",value:function(){this.renderTexture.bind(),this.renderTexture.clear()}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),ls(us(n.prototype),"destroy",this).call(this)}},{key:"plugins",get:function(){return this._plugin.plugins}},{key:"multisample",get:function(){return this._multisample.multisample}},{key:"width",get:function(){return this._view.element.width}},{key:"height",get:function(){return this._view.element.height}},{key:"resolution",get:function(){return this._view.resolution},set:function(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}},{key:"autoDensity",get:function(){return this._view.autoDensity}},{key:"view",get:function(){return this._view.element}},{key:"screen",get:function(){return this._view.screen}},{key:"lastObjectRendered",get:function(){return this.objectRenderer.lastObjectRendered}},{key:"renderingToScreen",get:function(){return this.objectRenderer.renderingToScreen}},{key:"rendererLogId",get:function(){return"WebGL ".concat(this.context.webGLVersion)}},{key:"clearBeforeRender",get:function(){return sa("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}},{key:"useContextAlpha",get:function(){return sa("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}},{key:"preserveDrawingBuffer",get:function(){return sa("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}},{key:"backgroundColor",get:function(){return sa("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color},set:function(e){sa("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}},{key:"backgroundAlpha",get:function(){return sa("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha},set:function(e){sa("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}},{key:"powerPreference",get:function(){return sa("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}},{key:"generateTexture",value:function(e,t){return this.textureGenerator.generateTexture(e,t)}}],[{key:"test",value:function(e){return(null===e||void 0===e||!e.forceCanvas)&&("undefined"===typeof ra&&(ra=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Mi.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{var t,n;if(!Mi.ADAPTER.getWebGLRenderingContext())return!1;var r=Mi.ADAPTER.createCanvas(),i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),a=!(null===(t=i)||void 0===t||null===(n=t.getContextAttributes())||void 0===n||!n.stencil);if(i){var s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,a}catch(fa){return!1}}()),ra)}}]),n}(Wu),cl=hl;cl.extension={type:fs.Renderer,priority:1},cl.__plugins={},cl.__systems={},ms.handleByMap(fs.RendererPlugin,cl.__plugins),ms.handleByMap(fs.RendererSystem,cl.__systems),ms.add(cl);var dl=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;o(this,n);var a=r||{},s=a.width,u=a.height;(i=t.call(this,s,u)).items=[],i.itemDirtyIds=[];for(var l=0;l<e;l++){var h=new Cs;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return s(n,[{key:"initFromArray",value:function(e,t){for(var n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Es?this.addResourceAt(e[n],n):this.addResourceAt(ws(e[n],t),n))}},{key:"dispose",value:function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}},{key:"addResourceAt",value:function(e,t){if(!this.items[t])throw new Error("Index ".concat(t," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}},{key:"bind",value:function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");ls(us(n.prototype),"bind",this).call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}},{key:"unbind",value:function(e){ls(us(n.prototype),"unbind",this).call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}},{key:"load",value:function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],n=t.realWidth,r=t.realHeight;return e.resize(n,r),Promise.resolve(e)})),this._load}}]),n}(Es),fl=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;o(this,n);var a,s,u=r||{},l=u.width,h=u.height;return Array.isArray(e)?(a=e,s=e.length):s=e,i=t.call(this,s,{width:l,height:h}),a&&i.initFromArray(a,r),i}return s(n,[{key:"addBaseTextureAt",value:function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}},{key:"bind",value:function(e){ls(us(n.prototype),"bind",this).call(this,e),e.target=yi.TEXTURE_2D_ARRAY}},{key:"upload",value:function(e,t,n){var r=this.length,i=this.itemDirtyIds,a=this.items,s=e.gl;n.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,r,0,t.format,n.type,null);for(var o=0;o<r;o++){var u=a[o];i[o]<u.dirtyId&&(i[o]=u.dirtyId,u.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,o,u.resource.width,u.resource.height,1,t.format,n.type,u.resource.source))}return!0}}]),n}(dl),pl=function(e){cs(n,e);var t=ds(n);function n(e){return o(this,n),t.call(this,e)}return s(n,null,[{key:"test",value:function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}]),n}(jo),vl=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;o(this,n);var a=r||{},s=a.width,u=a.height,l=a.autoLoad,h=a.linkBaseTexture;if(e&&e.length!==n.SIDES)throw new Error("Invalid length. Got ".concat(e.length,", expected 6"));i=t.call(this,6,{width:s,height:u});for(var c=0;c<n.SIDES;c++)i.items[c].target=yi.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=!1!==h,e&&i.initFromArray(e,r),!1!==l&&i.load(),i}return s(n,[{key:"bind",value:function(e){ls(us(n.prototype),"bind",this).call(this,e),e.target=yi.TEXTURE_CUBE_MAP}},{key:"addBaseTextureAt",value:function(e,t,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[t])throw new Error("Index ".concat(t," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=yi.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}},{key:"upload",value:function(e,t,r){for(var i=this.itemDirtyIds,a=0;a<n.SIDES;a++){var s=this.items[a];(i[a]<s.dirtyId||r.dirtyId<t.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(e,s,r),i[a]=s.dirtyId):i[a]<-1&&(e.gl.texImage2D(s.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),i[a]=-1))}return!0}}],[{key:"test",value:function(e){return Array.isArray(e)&&e.length===n.SIDES}}]),n}(dl),ml=vl;function gl(){gl=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(P){l=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,s=Object.create(a.prototype),o=new A(r||[]);return i(s,"_invoke",{value:w(e,n,o)}),s}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=h;var d={};function f(){}function p(){}function v(){}var m={};l(m,s,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==t&&n.call(y,s)&&(m=y);var _=v.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function a(i,s,o,u){var l=c(e[i],e,s);if("throw"!==l.type){var h=l.arg,d=h.value;return d&&"object"==r(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,o,u)}),(function(e){a("throw",e,o,u)})):t.resolve(d).then((function(e){h.value=e,o(h)}),(function(e){return a("throw",e,o,u)}))}u(l.arg)}var s;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return s=s?s.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=k(s,n);if(o){if(o===d)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,i(_,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:p,configurable:!0}),p.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},b(x.prototype),l(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new x(h(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(_),l(_,u,"Generator"),l(_,s,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var o=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(o&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function yl(e,t,n,r,i,a,s){try{var o=e[a](s),u=o.value}catch(l){return void n(l)}o.done?t(u):Promise.resolve(u).then(r,i)}function _l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){yl(a,r,i,s,o,"next",e)}function o(e){yl(a,r,i,s,o,"throw",e)}s(void 0)}))}}ml.SIDES=6;var bl=function(e){cs(n,e);var t=ds(n);function n(e,r){var i,a,s,u;return o(this,n),r=r||{},"string"===typeof e?(s=n.EMPTY,u=e):(s=e,u=null),(a=t.call(this,s)).url=u,a.crossOrigin=null===(i=r.crossOrigin)||void 0===i||i,a.alphaMode="number"===typeof r.alphaMode?r.alphaMode:null,a._load=null,!1!==r.autoLoad&&a.load(),a}return s(n,[{key:"load",value:function(){var e=this;return this._load||(this._load=new Promise(function(){var t=_l(gl().mark((function t(n,r){var i,a,s;return gl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.url){t.next=3;break}return n(e),t.abrupt("return");case 3:return t.prev=3,t.next=6,Mi.ADAPTER.fetch(e.url,{mode:e.crossOrigin?"cors":"no-cors"});case 6:if(i=t.sent,!e.destroyed){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,i.blob();case 11:if(a=t.sent,!e.destroyed){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,createImageBitmap(a,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===Ei.UNPACK?"premultiply":"none"});case 16:if(s=t.sent,!e.destroyed){t.next=19;break}return t.abrupt("return");case 19:e.source=s,e.update(),n(e),t.next=30;break;case 24:if(t.prev=24,t.t0=t.catch(3),!e.destroyed){t.next=28;break}return t.abrupt("return");case 28:r(t.t0),e.onError.emit(t.t0);case 30:case"end":return t.stop()}}),t,null,[[3,24]])})));return function(e,n){return t.apply(this,arguments)}}())),this._load}},{key:"upload",value:function(e,t,r){return this.source instanceof ImageBitmap?("number"===typeof this.alphaMode&&(t.alphaMode=this.alphaMode),ls(us(n.prototype),"upload",this).call(this,e,t,r)):(this.load(),!1)}},{key:"dispose",value:function(){this.source instanceof ImageBitmap&&this.source.close(),ls(us(n.prototype),"dispose",this).call(this),this._load=null}}],[{key:"test",value:function(e){return!!globalThis.createImageBitmap&&"undefined"!==typeof ImageBitmap&&("string"===typeof e||e instanceof ImageBitmap)}},{key:"EMPTY",get:function(){var e;return n._EMPTY=null!==(e=n._EMPTY)&&void 0!==e?e:Mi.ADAPTER.createCanvas(0,0),n._EMPTY}}]),n}(jo),xl=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;return o(this,n),r=r||{},(i=t.call(this,Mi.ADAPTER.createCanvas()))._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return s(n,[{key:"load",value:function(){var e=this;return this._load||(this._load=new Promise((function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},n.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(e.svg))))}e._loadSvg()}))),this._load}},{key:"_loadSvg",value:function(){var e=this,t=new Image;jo.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(n){e._resolve&&(t.onerror=null,e.onError.emit(n))},t.onload=function(){if(e._resolve){var n=t.width,r=t.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*e.scale,a=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(i=e._overrideWidth||e._overrideHeight/r*n,a=e._overrideHeight||e._overrideWidth/n*r),i=Math.round(i),a=Math.round(a);var s=e.source;s.width=i,s.height=a,s._pixiId="canvas_".concat(Ka()),s.getContext("2d").drawImage(t,0,0,n,r,0,0,i,a),e._resolve(),e._resolve=null}}}},{key:"dispose",value:function(){ls(us(n.prototype),"dispose",this).call(this),this._resolve=null,this._crossorigin=null}}],[{key:"getSize",value:function(e){var t=n.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}},{key:"test",value:function(e,t){return"svg"===t||"string"===typeof e&&e.startsWith("data:image/svg+xml")||"string"===typeof e&&n.SVG_XML.test(e)}}]),n}(jo);xl.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,xl.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var wl=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;if(o(this,n),r=r||{},!(e instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),"string"===typeof e&&(e=[e]);var s=e[0].src||e[0];jo.crossOrigin(a,s,r.crossorigin);for(var u=0;u<e.length;++u){var l=document.createElement("source"),h=e[u],c=h.src,d=h.mime,f=(c=c||e[u]).split("?").shift().toLowerCase(),p=f.slice(f.lastIndexOf(".")+1);d=d||n.MIME_TYPES[p]||"video/".concat(p),l.src=c,l.type=d,a.appendChild(l)}e=a}return(i=t.call(this,e)).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(os(i)),i._onError=i._onError.bind(os(i)),!1!==r.autoLoad&&i.load(),i}return s(n,[{key:"update",value:function(){if(!this.destroyed){var e=nl.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(ls(us(n.prototype),"update",this).call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}},{key:"load",value:function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){e.valid?n(e):(e._resolve=n,t.load())})),this._load}},{key:"_onError",value:function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)}},{key:"_isSourcePlaying",value:function(){var e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()}},{key:"_isSourceReady",value:function(){return this.source.readyState>2}},{key:"_onPlayStart",value:function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(nl.shared.add(this.update,this),this._isConnectedToTicker=!0)}},{key:"_onPlayStop",value:function(){this._isConnectedToTicker&&(nl.shared.remove(this.update,this),this._isConnectedToTicker=!1)}},{key:"_onCanPlay",value:function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}},{key:"dispose",value:function(){this._isConnectedToTicker&&(nl.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),ls(us(n.prototype),"dispose",this).call(this)}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(nl.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(nl.shared.add(this.update,this),this._isConnectedToTicker=!0))}},{key:"updateFPS",get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)}}],[{key:"test",value:function(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||n.TYPES.includes(t)}}]),n}(jo),kl=wl;kl.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],kl.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},xs.push(bl,Ho,pl,kl,xl,Ts,ml,fl);var El=function(){function e(){o(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return s(e,[{key:"isEmpty",value:function(){return this.minX>this.maxX||this.minY>this.maxY}},{key:"clear",value:function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}},{key:"getRectangle",value:function(e){return this.minX>this.maxX||this.minY>this.maxY?Xs.EMPTY:((e=e||new Xs(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}},{key:"addPoint",value:function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}},{key:"addPointMatrix",value:function(e,t){var n=e.a,r=e.b,i=e.c,a=e.d,s=e.tx,o=e.ty,u=n*t.x+i*t.y+s,l=r*t.x+a*t.y+o;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)}},{key:"addQuad",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,a=e[0],s=e[1];t=a<t?a:t,n=s<n?s:n,r=a>r?a:r,i=s>i?s:i,t=(a=e[2])<t?a:t,n=(s=e[3])<n?s:n,r=a>r?a:r,i=s>i?s:i,t=(a=e[4])<t?a:t,n=(s=e[5])<n?s:n,r=a>r?a:r,i=s>i?s:i,t=(a=e[6])<t?a:t,n=(s=e[7])<n?s:n,r=a>r?a:r,i=s>i?s:i,this.minX=t,this.minY=n,this.maxX=r,this.maxY=i}},{key:"addFrame",value:function(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)}},{key:"addFrameMatrix",value:function(e,t,n,r,i){var a=e.a,s=e.b,o=e.c,u=e.d,l=e.tx,h=e.ty,c=this.minX,d=this.minY,f=this.maxX,p=this.maxY,v=a*t+o*n+l,m=s*t+u*n+h;c=v<c?v:c,d=m<d?m:d,f=v>f?v:f,p=m>p?m:p,c=(v=a*r+o*n+l)<c?v:c,d=(m=s*r+u*n+h)<d?m:d,f=v>f?v:f,p=m>p?m:p,c=(v=a*t+o*i+l)<c?v:c,d=(m=s*t+u*i+h)<d?m:d,f=v>f?v:f,p=m>p?m:p,c=(v=a*r+o*i+l)<c?v:c,d=(m=s*r+u*i+h)<d?m:d,f=v>f?v:f,p=m>p?m:p,this.minX=c,this.minY=d,this.maxX=f,this.maxY=p}},{key:"addVertexData",value:function(e,t,n){for(var r=this.minX,i=this.minY,a=this.maxX,s=this.maxY,o=t;o<n;o+=2){var u=e[o],l=e[o+1];r=u<r?u:r,i=l<i?l:i,a=u>a?u:a,s=l>s?l:s}this.minX=r,this.minY=i,this.maxX=a,this.maxY=s}},{key:"addVertices",value:function(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)}},{key:"addVerticesMatrix",value:function(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i,s=e.a,o=e.b,u=e.c,l=e.d,h=e.tx,c=e.ty,d=this.minX,f=this.minY,p=this.maxX,v=this.maxY,m=n;m<r;m+=2){var g=t[m],y=t[m+1],_=s*g+u*y+h,b=l*y+o*g+c;d=Math.min(d,_-i),p=Math.max(p,_+i),f=Math.min(f,b-a),v=Math.max(v,b+a)}this.minX=d,this.minY=f,this.maxX=p,this.maxY=v}},{key:"addBounds",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i}},{key:"addBoundsMask",value:function(e,t){var n=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=i&&r<=a){var s=this.minX,o=this.minY,u=this.maxX,l=this.maxY;this.minX=n<s?n:s,this.minY=r<o?r:o,this.maxX=i>u?i:u,this.maxY=a>l?a:l}}},{key:"addBoundsMatrix",value:function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}},{key:"addBoundsArea",value:function(e,t){var n=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=i&&r<=a){var s=this.minX,o=this.minY,u=this.maxX,l=this.maxY;this.minX=n<s?n:s,this.minY=r<o?r:o,this.maxX=i>u?i:u,this.maxY=a>l?a:l}}},{key:"pad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}},{key:"addFramePad",value:function(e,t,n,r,i,a){e-=i,t-=a,n+=i,r+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r}}]),e}(),Tl=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.call(this)).tempDisplayObjectParent=null,e.transform=new oo,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new El,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return s(n,[{key:"destroyed",get:function(){return this._destroyed}},{key:"_recursivePostUpdateTransform",value:function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}},{key:"updateTransform",value:function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}},{key:"getBounds",value:function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Xs),t=this._boundsRect),this._bounds.getRectangle(t)}},{key:"getLocalBounds",value:function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Xs),e=this._localBoundsRect),this._localBounds||(this._localBounds=new El);var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=r,this._bounds.updateID+=this._boundsID-i,a}},{key:"toGlobal",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}},{key:"toLocal",value:function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}},{key:"setParent",value:function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}},{key:"removeFromParent",value:function(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)}},{key:"setTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=a,this.skew.y=s,this.pivot.x=o,this.pivot.y=u,this}},{key:"destroy",value:function(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}},{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Al),this.tempDisplayObjectParent}},{key:"enableTempParent",value:function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e}},{key:"disableTempParent",value:function(e){this.parent=e}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"angle",get:function(){return this.transform.rotation*Gs},set:function(e){this.transform.rotation=e*zs}},{key:"zIndex",get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(0===n._maskRefCount&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}],[{key:"mixin",value:function(e){for(var t=Object.keys(e),r=0;r<t.length;++r){var i=t[r];Object.defineProperty(n.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}}]),n}(Qi),Al=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).sortDirty=null,e}return s(n)}(Tl);Tl.prototype.displayObjectUpdateTransform=Tl.prototype.updateTransform;var Sl=new Zs;function Cl(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var Pl=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.call(this)).children=[],e.sortableChildren=n.defaultSortableChildren,e.sortDirty=!1,e}return s(n,[{key:"onChildrenChange",value:function(e){}},{key:"addChild",value:function(){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.addChild(e<0||arguments.length<=e?void 0:arguments[e]);else{var t=arguments.length<=0?void 0:arguments[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return arguments.length<=0?void 0:arguments[0]}},{key:"addChildAt",value:function(e,t){if(t<0||t>this.children.length)throw new Error("".concat(e,"addChildAt: The index ").concat(t," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}},{key:"swapChildren",value:function(e,t){if(e!==t){var n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r)}}},{key:"getChildIndex",value:function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}},{key:"setChildIndex",value:function(e,t){if(t<0||t>=this.children.length)throw new Error("The index ".concat(t," supplied is out of bounds ").concat(this.children.length));var n=this.getChildIndex(e);Wa(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}},{key:"getChildAt",value:function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}},{key:"removeChild",value:function(){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.removeChild(e<0||arguments.length<=e?void 0:arguments[e]);else{var t=arguments.length<=0?void 0:arguments[0],n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,Wa(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return arguments.length<=0?void 0:arguments[0]}},{key:"removeChildAt",value:function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Wa(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}},{key:"removeChildren",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length,r=t,i=n-r;if(i>0&&i<=n){e=this.children.splice(r,i);for(var a=0;a<e.length;++a)e[a].parent=null,e[a].transform&&(e[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<e.length;++s)e[s].emit("removed",this),this.emit("childRemoved",e[s],this,s);return e}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}},{key:"sortChildren",value:function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(Cl),this.sortDirty=!1}},{key:"updateTransform",value:function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}}},{key:"calculateBounds",value:function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var n=t._mask.isMaskData?t._mask.maskObject:t._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}},{key:"getLocalBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ls(us(n.prototype),"getLocalBounds",this).call(this,e);if(!t)for(var i=0,a=this.children.length;i<a;++i){var s=this.children[i];s.visible&&s.updateTransform()}return r}},{key:"_calculateBounds",value:function(){}},{key:"_renderWithCulling",value:function(e){var t=e.renderTexture.sourceFrame;if(t.width>0&&t.height>0){var r,i;this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==n.prototype._render&&(r=this.getBounds(!0));var a=e.projection.transform;if(a&&(i?(i=Sl.copyFrom(i)).prepend(a):i=a),r&&t.intersects(r,i))this._render(e);else if(this.cullArea)return;for(var s=0,o=this.children.length;s<o;++s){var u=this.children[s],l=u.cullable;u.cullable=l||!this.cullArea,u.render(e),u.cullable=l}}}},{key:"render",value:function(e){var t;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||null!==(t=this.filters)&&void 0!==t&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var n=0,r=this.children.length;n<r;++n)this.children[n].render(e)}}},{key:"renderAdvanced",value:function(e){var t,n,r,i=this.filters,a=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<i.length;s++)i[s].enabled&&this._enabledFilters.push(i[s])}var o=i&&(null===(t=this._enabledFilters)||void 0===t?void 0:t.length)||a&&(!a.isMaskData||a.enabled&&(a.autoDetect||a.type!==Ci.NONE));if(o&&e.batch.flush(),i&&null!==(n=this._enabledFilters)&&void 0!==n&&n.length&&e.filter.push(this,this._enabledFilters),a&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var u=0,l=this.children.length;u<l;++u)this.children[u].render(e)}o&&e.batch.flush(),a&&e.mask.pop(this),i&&null!==(r=this._enabledFilters)&&void 0!==r&&r.length&&e.filter.pop()}},{key:"_render",value:function(e){}},{key:"destroy",value:function(e){ls(us(n.prototype),"destroy",this).call(this),this.sortDirty=!1;var t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(var i=0;i<r.length;++i)r[i].destroy(e)}},{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}]),n}(Tl),Rl=Pl;Rl.defaultSortableChildren=!1,Rl.prototype.containerUpdateTransform=Rl.prototype.updateTransform,Object.defineProperties(Mi,{SORTABLE_CHILDREN:{get:function(){return Rl.defaultSortableChildren},set:function(e){sa("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Rl.defaultSortableChildren=e}}});var Il=new Hs,Ml=new Uint16Array([0,1,2,0,2,3]),Ol=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),(r=t.call(this))._anchor=new ao(r._onAnchorUpdate,os(r),e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tintColor=new Ua(16777215),r._tintRGB=null,r.tint=16777215,r.blendMode=vi.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||Yo.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=Ml,r.pluginName="batch",r.isSprite=!0,r._roundPixels=Mi.ROUND_PIXELS,r}return s(n,[{key:"_onTextureUpdate",value:function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ya(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ya(this.scale.y)*this._height/this._texture.orig.height)}},{key:"_onAnchorUpdate",value:function(){this._transformID=-1,this._transformTrimmedID=-1}},{key:"calculateVertices",value:function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,a=t.d,s=t.tx,o=t.ty,u=this.vertexData,l=e.trim,h=e.orig,c=this._anchor,d=0,f=0,p=0,v=0;if(l?(d=(f=l.x-c._x*h.width)+l.width,p=(v=l.y-c._y*h.height)+l.height):(d=(f=-c._x*h.width)+h.width,p=(v=-c._y*h.height)+h.height),u[0]=n*f+i*v+s,u[1]=a*v+r*f+o,u[2]=n*d+i*v+s,u[3]=a*v+r*d+o,u[4]=n*d+i*p+s,u[5]=a*p+r*d+o,u[6]=n*f+i*p+s,u[7]=a*p+r*f+o,this._roundPixels)for(var m=Mi.RESOLUTION,g=0;g<u.length;++g)u[g]=Math.round(u[g]*m)/m}}},{key:"calculateTrimmedVertices",value:function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,a=i.a,s=i.b,o=i.c,u=i.d,l=i.tx,h=i.ty,c=-r._x*n.width,d=c+n.width,f=-r._y*n.height,p=f+n.height;t[0]=a*c+o*f+l,t[1]=u*f+s*c+h,t[2]=a*d+o*f+l,t[3]=u*f+s*d+h,t[4]=a*d+o*p+l,t[5]=u*p+s*d+h,t[6]=a*c+o*p+l,t[7]=u*p+s*c+h}},{key:"_render",value:function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}},{key:"_calculateBounds",value:function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}},{key:"getLocalBounds",value:function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new El),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Xs),e=this._localBoundsRect),this._localBounds.getRectangle(e)):ls(us(n.prototype),"getLocalBounds",this).call(this,e)}},{key:"containsPoint",value:function(e){this.worldTransform.applyInverse(e,Il);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x,i=0;return Il.x>=r&&Il.x<r+t&&(i=-n*this.anchor.y,Il.y>=i&&Il.y<i+n)}},{key:"destroy",value:function(e){if(ls(us(n.prototype),"destroy",this).call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"===typeof e?e:null===e||void 0===e?void 0:e.texture){var t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}},{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=Ya(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=Ya(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}},{key:"tintValue",get:function(){return this._tintColor.toNumber()}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Yo.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}],[{key:"from",value:function(e,t){return new n(e instanceof Yo?e:Yo.from(e,t))}}]),n}(Rl),Dl=new Zs;Tl.prototype._cacheAsBitmap=!1,Tl.prototype._cacheData=null,Tl.prototype._cacheAsBitmapResolution=null,Tl.prototype._cacheAsBitmapMultisample=null;var Nl=s((function e(){o(this,e),this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}));Object.defineProperties(Tl.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new Nl),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),Tl.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},Tl.prototype._initCachedDisplayObject=function(e){var t,n,r;if(null===(t=this._cacheData)||void 0===t||!t.sprite){var i=this.alpha;this.alpha=1,e.batch.flush();var a=this.getLocalBounds(null,!0).clone();if(null!==(n=this.filters)&&void 0!==n&&n.length){var s=this.filters[0].padding;a.pad(s)}a.ceil(Mi.RESOLUTION);var o=e.renderTexture.current,u=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),h=e.projection.transform,c=qo.create({width:a.width,height:a.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:null!==(r=this.cacheAsBitmapMultisample)&&void 0!==r?r:e.multisample}),d="cacheAsBitmap_".concat(Ka());this._cacheData.textureCacheId=d,Cs.addToCache(c.baseTexture,d),Yo.addToCache(c,d);var f=this.transform.localTransform.copyTo(Dl).invert().translate(-a.x,-a.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:c,clear:!0,transform:f,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=h,e.renderTexture.bind(o,u,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var p=new Ol(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-a.x/a.width,p.anchor.y=-a.y/a.height,p.alpha=i,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}},Tl.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},Tl.prototype._initCachedDisplayObjectCanvas=function(e){var t;if(null===(t=this._cacheData)||void 0===t||!t.sprite){var n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=e.canvasContext.activeContext,a=e._projTransform;n.ceil(Mi.RESOLUTION);var s=qo.create({width:n.width,height:n.height}),o="cacheAsBitmap_".concat(Ka());this._cacheData.textureCacheId=o,Cs.addToCache(s.baseTexture,o),Yo.addToCache(s,o);var u=Dl;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=n.x,u.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:s,clear:!0,transform:u,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var l=new Ol(s);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-n.x/n.width,l.anchor.y=-n.y/n.height,l.alpha=r,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},Tl.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Tl.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Tl.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Cs.removeFromCache(this._cacheData.textureCacheId),Yo.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Tl.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},Tl.prototype.name=null,Rl.prototype.getChildByName=function(e,t){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===e)return this.children[n];if(t)for(var i=0,a=this.children.length;i<a;i++){var s=this.children[i];if(s.getChildByName){var o=s.getChildByName(e,!0);if(o)return o}}return null},Tl.prototype.getGlobalPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hs,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var Bl=function(e){cs(n,e);var t=ds(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o(this,n),(e=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})).alpha=r,e}return s(n,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),n}(Do),Ll={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Fl=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var Ul="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var Gl=function(e){cs(n,e);var t=ds(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Do.defaultResolution,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;o(this,n);var l=function(e,t){var n,r=Math.ceil(e/2),i=Ul,a="";n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<e;s++){var o=n.replace("%index%",s.toString());a+=o=o.replace("%sampleIndex%","".concat(s-(r-1),".0")),a+="\n"}return(i=i.replace("%blur%",a)).replace("%size%",e.toString())}(u,e),h=function(e){for(var t,n=Ll[e],r=n.length,i=Fl,a="",s=0;s<e;s++){var o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());t=s,s>=r&&(t=e-s-1),a+=o=o.replace("%value%",n[t].toString()),a+="\n"}return(i=i.replace("%blur%",a)).replace("%size%",e.toString())}(u);return(r=t.call(this,l,h)).horizontal=e,r.resolution=s,r._quality=0,r.quality=a,r.blur=i,r}return s(n,[{key:"apply",value:function(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{var i=e.getFilterTexture(),a=e.renderer,s=t,o=i;this.state.blend=!1,e.applyFilter(this,s,o,Ti.CLEAR);for(var u=1;u<this.passes-1;u++){e.bindAndClear(s,Ti.BLIT),this.uniforms.uSampler=o;var l=o;o=s,s=l,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,o,n,r),e.returnFilterTexture(i)}}},{key:"blur",get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),n}(Do),zl=function(e){cs(n,e);var t=ds(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Do.defaultResolution,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;return o(this,n),(e=t.call(this))._repeatEdgePixels=!1,e.blurXFilter=new Gl(!0,r,i,a,s),e.blurYFilter=new Gl(!1,r,i,a,s),e.resolution=a,e.quality=i,e.blur=r,e.repeatEdgePixels=!1,e}return s(n,[{key:"apply",value:function(e,t,n,r){var i=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(i&&a){var s=e.getFilterTexture();this.blurXFilter.apply(e,t,s,Ti.CLEAR),this.blurYFilter.apply(e,s,n,r),e.returnFilterTexture(s)}else a?this.blurYFilter.apply(e,t,n,r):this.blurXFilter.apply(e,t,n,r)}},{key:"updatePadding",value:function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()}},{key:"blendMode",get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e}},{key:"repeatEdgePixels",get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()}}]),n}(Do),jl=function(e){cs(n,e);var t=ds(n);function n(){var e;o(this,n);var r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,al,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)).alpha=1,e}return s(n,[{key:"_loadMatrix",value:function(e){var t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(t,this.uniforms.m,e),t=this._colorMatrix(t)),this.uniforms.m=t}},{key:"_multiply",value:function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}},{key:"_colorMatrix",value:function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}},{key:"brightness",value:function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"tint",value:function(e,t){var n=la(Ua.shared.setValue(e).toArray(),3),r=[n[0],0,0,0,0,0,n[1],0,0,0,0,0,n[2],0,0,0,0,0,1,0];this._loadMatrix(r,t)}},{key:"greyscale",value:function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"blackAndWhite",value:function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}},{key:"hue",value:function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=1/3,a=(0,Math.sqrt)(i),s=[n+(1-n)*i,i*(1-n)-a*r,i*(1-n)+a*r,0,0,i*(1-n)+a*r,n+i*(1-n),i*(1-n)-a*r,0,0,i*(1-n)-a*r,i*(1-n)+a*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(s,t)}},{key:"contrast",value:function(e,t){var n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)}},{key:"saturate",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=2*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/3+1,n=-.5*(t-1),r=[t,n,n,0,0,n,t,n,0,0,n,n,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}},{key:"desaturate",value:function(){this.saturate(-1)}},{key:"negative",value:function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}},{key:"sepia",value:function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}},{key:"technicolor",value:function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}},{key:"polaroid",value:function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}},{key:"toBGR",value:function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}},{key:"kodachrome",value:function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}},{key:"browni",value:function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}},{key:"vintage",value:function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}},{key:"colorTone",value:function(e,t,n,r,i){e=e||.2,t=t||.15,n=n||16770432,r=r||3375104;var a=Ua.shared,s=la(a.setValue(n).toArray(),3),o=s[0],u=s[1],l=s[2],h=la(a.setValue(r).toArray(),3),c=h[0],d=h[1],f=h[2],p=[.3,.59,.11,0,0,o,u,l,e,0,c,d,f,t,0,o-c,u-d,l-f,0,0];this._loadMatrix(p,i)}},{key:"night",value:function(e,t){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"predator",value:function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"lsd",value:function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}},{key:"reset",value:function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}},{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),n}(Do);jl.prototype.grayscale=jl.prototype.greyscale;var Hl=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;o(this,n);var a=new Zs;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})).maskSprite=e,i.maskMatrix=a,null!==r&&void 0!==r||(r=20),i.scale=new Hs(r,r),i}return s(n,[{key:"apply",value:function(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,a=Math.sqrt(i.a*i.a+i.b*i.b),s=Math.sqrt(i.c*i.c+i.d*i.d);0!==a&&0!==s&&(this.uniforms.rotation[0]=i.a/a,this.uniforms.rotation[1]=i.b/a,this.uniforms.rotation[2]=i.c/s,this.uniforms.rotation[3]=i.d/s),e.applyFilter(this,t,n,r)}},{key:"map",get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),n}(Do),Vl=function(e){cs(n,e);var t=ds(n);function n(){return o(this,n),t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}return s(n)}(Do),Xl=function(e){cs(n,e);var t=ds(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();return o(this,n),(e=t.call(this,al,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})).noise=r,e.seed=i,e}return s(n,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),n}(Do),Wl={AlphaFilter:Bl,BlurFilter:zl,BlurFilterPass:Gl,ColorMatrixFilter:jl,DisplacementFilter:Hl,FXAAFilter:Vl,NoiseFilter:Xl};Object.entries(Wl).forEach((function(e){var t=la(e,2),n=t[0],r=t[1];Object.defineProperty(Wl,n,{get:function(){return sa("7.1.0","filters.".concat(n," has moved to ").concat(n)),r}})}));var Yl=new(function(){function e(){o(this,e),this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}return s(e,[{key:"init",value:function(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}},{key:"pauseUpdate",get:function(){return this._pauseUpdate},set:function(e){this._pauseUpdate=e}},{key:"addTickerListener",value:function(){!this.tickerAdded&&this.domElement&&(nl.system.add(this.tickerUpdate,this,$u.INTERACTION),this.tickerAdded=!0)}},{key:"removeTickerListener",value:function(){this.tickerAdded&&(nl.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}},{key:"pointerMoved",value:function(){this._didMove=!0}},{key:"update",value:function(){if(this.domElement&&!this._pauseUpdate)if(this._didMove)this._didMove=!1;else{var e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}}},{key:"tickerUpdate",value:function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}}]),e}()),ql=function(){function e(t){o(this,e),this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=e.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Hs,this.page=new Hs,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return s(e,[{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"data",get:function(){return this}},{key:"composedPath",value:function(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"initEvent",value:function(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}},{key:"initUIEvent",value:function(e,t,n,r,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),e}(),Kl=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).client=new Hs,e.movement=new Hs,e.offset=new Hs,e.global=new Hs,e.screen=new Hs,e}return s(n,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"x",get:function(){return this.clientX}},{key:"y",get:function(){return this.clientY}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getLocalPosition",value:function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}},{key:"getModifierState",value:function(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}},{key:"initMouseEvent",value:function(e,t,n,r,i,a,s,o,u,l,h,c,d,f,p){throw new Error("Method not implemented.")}}]),n}(ql),Zl=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).width=0,e.height=0,e.isPrimary=!1,e}return s(n,[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}}]),n}(Kl),Ql=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).DOM_DELTA_PIXEL=0,e.DOM_DELTA_LINE=1,e.DOM_DELTA_PAGE=2,e}return s(n)}(Kl);Ql.DOM_DELTA_PIXEL=0,Ql.DOM_DELTA_LINE=1,Ql.DOM_DELTA_PAGE=2;var Jl=new Hs,$l=new Hs,eh=function(){function e(t){o(this,e),this.dispatch=new Qi,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}return s(e,[{key:"addEventMapping",value:function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"dispatchEvent",value:function(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}},{key:"mapEvent",value:function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var n=0,r=t.length;n<r;n++)t[n].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}}},{key:"hitTest",value:function(e,t){Yl.pauseUpdate=!0;var n=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,Jl.set(e,t),this.hitTestFn,this.hitPruneFn);return n&&n[0]}},{key:"propagate",value:function(e,t){if(e.target){var n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var r=0,i=n.length-1;r<i;r++)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(var a=n.length-2;a>=0;a--)if(e.currentTarget=n[a],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"all",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._allInteractiveElements;if(0!==r.length){e.eventPhase=e.BUBBLING_PHASE;for(var i=Array.isArray(t)?t:[t],a=function(t){i.forEach((function(i){e.currentTarget=r[t],n.notifyTarget(e,i)}))},s=r.length-1;s>=0;s--)a(s)}}},{key:"propagationPath",value:function(e){for(var t=[e],n=0;n<2048&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}},{key:"hitTestMoveRecursive",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=!1;if(this._interactivePrune(e))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(Yl.pauseUpdate=!1),e.interactiveChildren&&e.children)for(var o=e.children,u=o.length-1;u>=0;u--){var l=o[u],h=this.hitTestMoveRecursive(l,this._isInteractive(t)?t:l.eventMode,n,r,i,a||i(e,n));if(h){if(h.length>0&&!h[h.length-1].parent)continue;var c=e.isInteractive();(h.length>0||c)&&(c&&this._allInteractiveElements.push(e),h.push(e)),0===this._hitElements.length&&(this._hitElements=h),s=!0}}var d=this._isInteractive(t),f=e.isInteractive();return f&&f&&this._allInteractiveElements.push(e),a||this._hitElements.length>0?null:s?this._hitElements:d&&!i(e,n)&&r(e,n)?f?[e]:[]:null}},{key:"hitTestRecursive",value:function(e,t,n,r,i){if(this._interactivePrune(e)||i(e,n))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(Yl.pauseUpdate=!1),e.interactiveChildren&&e.children)for(var a=e.children,s=a.length-1;s>=0;s--){var o=a[s],u=this.hitTestRecursive(o,this._isInteractive(t)?t:o.eventMode,n,r,i);if(u){if(u.length>0&&!u[u.length-1].parent)continue;var l=e.isInteractive();return(u.length>0||l)&&u.push(e),u}}var h=this._isInteractive(t),c=e.isInteractive();return h&&r(e,n)?c?[e]:[]:null}},{key:"_isInteractive",value:function(e){return"static"===e||"dynamic"===e}},{key:"_interactivePrune",value:function(e){return!(e&&!e.isMask&&e.visible&&e.renderable)||("none"===e.eventMode||("passive"===e.eventMode&&!e.interactiveChildren||!!e.isMask))}},{key:"hitPruneFn",value:function(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,$l),!e.hitArea.contains($l.x,$l.y)))return!0;if(e._mask){var n,r=e._mask.isMaskData?e._mask.maskObject:e._mask;if(r&&(null===(n=r.containsPoint)||void 0===n||!n.call(r,t)))return!0}return!1}},{key:"hitTestFn",value:function(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}},{key:"notifyTarget",value:function(e,t){var n,r,i;t=null!==(n=t)&&void 0!==n?n:e.type;var a="on".concat(t);null===(r=(i=e.currentTarget)[a])||void 0===r||r.call(i,e);var s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}},{key:"mapPointerDown",value:function(e){if(e instanceof Zl){var t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){var n=2===t.button;this.dispatchEvent(t,n?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerMove",value:function(e){var t,n;if(e instanceof Zl){this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;var r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;var i="mouse"===r.pointerType||"pen"===r.pointerType,a=this.trackingData(e.pointerId),s=this.findMountedTarget(a.overTargets);if((null===(t=a.overTargets)||void 0===t?void 0:t.length)>0&&s!==r.target){var o="mousemove"===e.type?"mouseout":"pointerout",u=this.createPointerEvent(e,o,s);if(this.dispatchEvent(u,"pointerout"),i&&this.dispatchEvent(u,"mouseout"),!r.composedPath().includes(s)){var l=this.createPointerEvent(e,"pointerleave",s);for(l.eventPhase=l.AT_TARGET;l.target&&!r.composedPath().includes(l.target);)l.currentTarget=l.target,this.notifyTarget(l),i&&this.notifyTarget(l,"mouseleave"),l.target=l.target.parent;this.freeEvent(l)}this.freeEvent(u)}if(s!==r.target){var h="mousemove"===e.type?"mouseover":"pointerover",c=this.clonePointerEvent(r,h);this.dispatchEvent(c,"pointerover"),i&&this.dispatchEvent(c,"mouseover");for(var d=null===s||void 0===s?void 0:s.parent;d&&d!==this.rootTarget.parent&&d!==r.target;)d=d.parent;if(!d||d===this.rootTarget.parent){var f=this.clonePointerEvent(r,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==s&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),i&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(c)}var p,v=[],m=null===(n=this.enableGlobalMoveEvents)||void 0===n||n;if(this.moveOnAll?v.push("pointermove"):this.dispatchEvent(r,"pointermove"),m&&v.push("globalpointermove"),"touch"===r.pointerType&&(this.moveOnAll?v.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),m&&v.push("globaltouchmove")),i)this.moveOnAll?v.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),m&&v.push("globalmousemove"),this.cursor=null===(p=r.target)||void 0===p?void 0:p.cursor;v.length>0&&this.all(r,v),this._allInteractiveElements.length=0,this._hitElements.length=0,a.overTargets=r.composedPath(),this.freeEvent(r)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerOver",value:function(e){var t;if(e instanceof Zl){var n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i="mouse"===r.pointerType||"pen"===r.pointerType;this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(this.cursor=null===(t=r.target)||void 0===t?void 0:t.cursor);var a=this.clonePointerEvent(r,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),i&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(a)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerOut",value:function(e){if(e instanceof Zl){var t=this.trackingData(e.pointerId);if(t.overTargets){var n="mouse"===e.pointerType||"pen"===e.pointerType,r=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",r);this.dispatchEvent(i),n&&this.dispatchEvent(i,"mouseout");var a=this.createPointerEvent(e,"pointerleave",r);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),n&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(a)}this.cursor=null}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerUp",value:function(e){if(e instanceof Zl){var t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)this.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){var r=2===n.button;this.dispatchEvent(n,r?"rightup":"mouseup")}var i=this.trackingData(e.pointerId),a=this.findMountedTarget(i.pressTargetsByButton[e.button]),s=a;if(a&&!n.composedPath().includes(a)){for(var o=a;o&&!n.composedPath().includes(o);){if(n.currentTarget=o,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)this.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){var u=2===n.button;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}o=o.parent}delete i.pressTargetsByButton[e.button],s=o}if(s){var l=this.clonePointerEvent(n,"click");l.target=s,l.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:t});var h=i.clicksByButton[e.button];if(h.target===l.target&&t-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=l.target,h.timeStamp=t,l.detail=h.clickCount,"mouse"===l.pointerType){var c=2===l.button;this.dispatchEvent(l,c?"rightclick":"click")}else"touch"===l.pointerType&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerUpOutside",value:function(e){if(e instanceof Zl){var t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),r=this.createPointerEvent(e);if(n){for(var i=n;i;)r.currentTarget=i,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType?this.notifyTarget(r,"touchendoutside"):"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.notifyTarget(r,2===r.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(r)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapWheel",value:function(e){if(e instanceof Ql){var t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}else console.warn("EventBoundary cannot map a non-wheel event as a wheel event")}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var t=e[0],n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}},{key:"createPointerEvent",value:function(e,t,n){var r,i=this.allocateEvent(Zl);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=null!==(r=null!==n&&void 0!==n?n:this.hitTest(i.global.x,i.global.y))&&void 0!==r?r:this._hitElements[0],"string"===typeof t&&(i.type=t),i}},{key:"createWheelEvent",value:function(e){var t=this.allocateEvent(Ql);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}},{key:"clonePointerEvent",value:function(e,t){var n=this.allocateEvent(Zl);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=null!==t&&void 0!==t?t:n.type,n}},{key:"copyWheelData",value:function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}},{key:"copyPointerData",value:function(e,t){e instanceof Zl&&t instanceof Zl&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}},{key:"copyMouseData",value:function(e,t){e instanceof Kl&&t instanceof Kl&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}},{key:"copyData",value:function(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}},{key:"notifyListeners",value:function(e,t){var n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(var r=0,i=n.length;r<i&&!e.propagationImmediatelyStopped;r++)n[r].once&&e.currentTarget.removeListener(t,n[r].fn,void 0,!0),n[r].fn.call(n[r].context,e)}}]),e}(),th={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},nh=function(){function e(t){var n=this;o(this,e),this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new eh(null),Yl.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Zl(null),this.rootWheelEvent=new Ql(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy(hi({},e.defaultEventFeatures),{set:function(e,t,r){return"globalMove"===t&&(n.rootBoundary.enableGlobalMoveEvents=r),e[t]=r,!0}}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}return s(e,[{key:"init",value:function(t){var n,r,i=this.renderer,a=i.view,s=i.resolution;this.setTargetElement(a),this.resolution=s,e._defaultEventMode=null!==(n=t.eventMode)&&void 0!==n?n:"auto",Object.assign(this.features,null!==(r=t.eventFeatures)&&void 0!==r?r:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}},{key:"resolutionChange",value:function(e){this.resolution=e}},{key:"destroy",value:function(){this.setTargetElement(null),this.renderer=null}},{key:"setCursor",value:function(e){e=e||"default";var t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor!==e){this.currentCursor=e;var n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n)}else t&&"string"===typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}}},{key:"pointer",get:function(){return this.rootPointerEvent}},{key:"onPointerDown",value:function(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var n=0,r=t.length;n<r;n++){var i=t[n],a=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerMove",value:function(e){if(this.features.move&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){Yl.pointerMoved();for(var t=this.normalizeToPointerData(e),n=0,r=t.length;n<r;n++){var i=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerUp",value:function(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){var t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);for(var n=t!==this.domElement?"outside":"",r=this.normalizeToPointerData(e),i=0,a=r.length;i<a;i++){var s=this.bootstrapEvent(this.rootPointerEvent,r[i]);s.type+=n,this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerOverOut",value:function(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){for(var t=this.normalizeToPointerData(e),n=0,r=t.length;n<r;n++){var i=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onWheel",value:function(e){if(this.features.wheel){var t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}}},{key:"setTargetElement",value:function(e){this.removeEvents(),this.domElement=e,Yl.domElement=e,this.addEvents()}},{key:"addEvents",value:function(){if(!this.eventsAdded&&this.domElement){Yl.addTickerListener();var e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}}},{key:"removeEvents",value:function(){if(this.eventsAdded&&this.domElement){Yl.removeTickerListener();var e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}}},{key:"mapPositionToPoint",value:function(e,t,n){var r;r=this.domElement.parentElement?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};var i=1/this.resolution;e.x=(t-r.left)*(this.domElement.width/r.width)*i,e.y=(n-r.top)*(this.domElement.height/r.height)*i}},{key:"normalizeToPointerData",value:function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];"undefined"===typeof i.button&&(i.button=0),"undefined"===typeof i.buttons&&(i.buttons=1),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),"undefined"===typeof i.twist&&(i.twist=0),"undefined"===typeof i.tangentialPressure&&(i.tangentialPressure=0),"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=e.type,t.push(i)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{var a=e;"undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),"undefined"===typeof a.pointerId&&(a.pointerId=1),"undefined"===typeof a.pressure&&(a.pressure=.5),"undefined"===typeof a.twist&&(a.twist=0),"undefined"===typeof a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,t.push(a)}return t}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}},{key:"bootstrapEvent",value:function(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=th[e.type]||e.type),e}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}}],[{key:"defaultEventMode",get:function(){return this._defaultEventMode}}]),e}(),rh=nh;function ih(e){return"dynamic"===e||"static"===e}rh.extension={name:"events",type:[fs.RendererSystem,fs.CanvasRendererSystem]},rh.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},ms.add(rh);var ah={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var e;return null!==(e=this._internalInteractive)&&void 0!==e?e:ih(rh.defaultEventMode)},set interactive(e){sa("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){var e;return null!==(e=this._internalEventMode)&&void 0!==e?e:rh.defaultEventMode},set eventMode(e){this._internalInteractive=ih(e),this._internalEventMode=e},isInteractive:function(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener:function(e,t,n){var r="function"===typeof t?void 0:t;e="boolean"===typeof n&&n||"object"===typeof n&&n.capture?"".concat(e,"capture"):e,t="function"===typeof t?t:t.handleEvent,this.on(e,t,r)},removeEventListener:function(e,t,n){var r="function"===typeof t?void 0:t;e="boolean"===typeof n&&n||"object"===typeof n&&n.capture?"".concat(e,"capture"):e,t="function"===typeof t?t:t.handleEvent,this.off(e,t,r)},dispatchEvent:function(e){if(!(e instanceof ql))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};Tl.mixin(ah);Tl.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var sh=100,oh=function(){function e(t){o(this,e),this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Zi.tablet||Zi.phone)&&this.createTouchHook();var n=document.createElement("div");n.style.width="".concat(sh,"px"),n.style.height="".concat(sh,"px"),n.style.position="absolute",n.style.top="".concat(0,"px"),n.style.left="".concat(0,"px"),n.style.zIndex=2..toString(),this.div=n,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return s(e,[{key:"isActive",get:function(){return this._isActive}},{key:"isMobileAccessibility",get:function(){return this._isMobileAccessibility}},{key:"createTouchHook",value:function(){var e=this,t=document.createElement("button");t.style.width="".concat(1,"px"),t.style.height="".concat(1,"px"),t.style.position="absolute",t.style.top="".concat(-1e3,"px"),t.style.left="".concat(-1e3,"px"),t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t}},{key:"destroyTouchHook",value:function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}},{key:"activate",value:function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))}},{key:"deactivate",value:function(){var e;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))}},{key:"updateAccessibleObjects",value:function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}}},{key:"update",value:function(){var e=performance.now();if(!(Zi.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=t.x,r=t.y,i=t.width,a=t.height,s=this.renderer,o=s.width,u=s.height,l=s.resolution,h=i/o*l,c=a/u*l,d=this.div;d.style.left="".concat(n,"px"),d.style.top="".concat(r,"px"),d.style.width="".concat(o,"px"),d.style.height="".concat(u,"px");for(var f=0;f<this.children.length;f++){var p=this.children[f];if(p.renderId!==this.renderId)p._accessibleActive=!1,Wa(this.children,f,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,f--;else{d=p._accessibleDiv;var v=p.hitArea,m=p.worldTransform;p.hitArea?(d.style.left="".concat((m.tx+v.x*m.a)*h,"px"),d.style.top="".concat((m.ty+v.y*m.d)*c,"px"),d.style.width="".concat(v.width*m.a*h,"px"),d.style.height="".concat(v.height*m.d*c,"px")):(v=p.getBounds(),this.capHitArea(v),d.style.left="".concat(v.x*h,"px"),d.style.top="".concat(v.y*c,"px"),d.style.width="".concat(v.width*h,"px"),d.style.height="".concat(v.height*c,"px"),d.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(d.title=p.accessibleTitle),d.getAttribute("aria-label")!==p.accessibleHint&&null!==p.accessibleHint&&d.setAttribute("aria-label",p.accessibleHint)),p.accessibleTitle===d.title&&p.tabIndex===d.tabIndex||(d.title=p.accessibleTitle,d.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}}},{key:"updateDebugHTML",value:function(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}},{key:"capHitArea",value:function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,n=t.width,r=t.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}},{key:"addChild",value:function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width="".concat(sh,"px"),t.style.height="".concat(sh,"px"),t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}},{key:"_dispatchEvent",value:function(e,t){var n=e.target.displayObject,r=this.renderer.events.rootBoundary,i=Object.assign(new ql(r),{target:n});r.rootTarget=this.renderer.lastObjectRendered,t.forEach((function(e){return r.dispatchEvent(i,e)}))}},{key:"_onClick",value:function(e){this._dispatchEvent(e,["click","pointertap","tap"])}},{key:"_onFocus",value:function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}},{key:"_onFocusOut",value:function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}},{key:"_onKeyDown",value:function(e){9===e.keyCode&&this.activate()}},{key:"_onMouseMove",value:function(e){0===e.movementX&&0===e.movementY||this.deactivate()}},{key:"destroy",value:function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}]),e}();oh.extension={name:"accessibility",type:[fs.RendererPlugin,fs.CanvasRendererPlugin]},ms.add(oh);var uh=function(){function e(t){var n=this;o(this,e),this.stage=new Rl,t=Object.assign({forceCanvas:!1},t),this.renderer=function(e){var t,n=Vu(il);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.test(e))return new r(e)}}catch(i){n.e(i)}finally{n.f()}throw new Error("Unable to auto-detect a suitable renderer.")}(t),e._plugins.forEach((function(e){e.init.call(n,t)}))}return s(e,[{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}},{key:"destroy",value:function(t,n){var r=this,i=e._plugins.slice(0);i.reverse(),i.forEach((function(e){e.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}}]),e}();uh._plugins=[],ms.handleByList(fs.Application,uh._plugins);var lh=function(){function e(){o(this,e)}return s(e,null,[{key:"init",value:function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,n;if(t.cancelResize(),t._resizeTo===globalThis.window)e=globalThis.innerWidth,n=globalThis.innerHeight;else{var r=t._resizeTo;e=r.clientWidth,n=r.clientHeight}t.renderer.resize(e,n),t.render()}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}},{key:"destroy",value:function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}]),e}();lh.extension=fs.Application,ms.add(lh);var hh={loader:fs.LoadParser,resolver:fs.ResolveParser,cache:fs.CacheParser,detection:fs.DetectionParser};ms.handle(fs.Asset,(function(e){var t=e.ref;Object.entries(hh).filter((function(e){var n=la(e,1)[0];return!!t[n]})).forEach((function(e){var n,r=la(e,2),i=r[0],a=r[1];return ms.add(Object.assign(t[i],{extension:null!==(n=t[i].extension)&&void 0!==n?n:a}))}))}),(function(e){var t=e.ref;Object.keys(hh).filter((function(e){return!!t[e]})).forEach((function(e){return ms.remove(t[e])}))}));var ch=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o(this,e),this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}return s(e,[{key:"add",value:function(e){var t=this;e.forEach((function(e){t._assetList.push(e)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}},{key:"_next",value:function(){var e=_l(gl().mark((function e(){var t,n,r;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._assetList.length||!this._isActive){e.next=9;break}for(this._isLoading=!0,t=[],n=Math.min(this._assetList.length,this._maxConcurrent),r=0;r<n;r++)t.push(this._assetList.pop());return e.next=7,this._loader.load(t);case 7:this._isLoading=!1,this._next();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"active",get:function(){return this._isActive},set:function(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}]),e}();function dh(e,t){var n=e.split("?")[0],r=ia.extname(n).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}var fh=function(e,t){return Array.isArray(e)||(e=[e]),t?e.map((function(e){return"string"===typeof e?t(e):e})):e},ph=function(){function e(){o(this,e),this._parsers=[],this._cache=new Map,this._cacheMap=new Map}return s(e,[{key:"reset",value:function(){this._cacheMap.clear(),this._cache.clear()}},{key:"has",value:function(e){return this._cache.has(e)}},{key:"get",value:function(e){var t=this._cache.get(e);return t||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),t}},{key:"set",value:function(e,t){for(var n,r=this,i=fh(e),a=0;a<this.parsers.length;a++){var s=this.parsers[a];if(s.test(t)){n=s.getCacheableAssets(i,t);break}}n||(n={},i.forEach((function(e){n[e]=t})));var o=Object.keys(n),u={cacheKeys:o,keys:i};if(i.forEach((function(e){r._cacheMap.set(e,u)})),o.forEach((function(e){r._cache.has(e)&&r._cache.get(e)!==t&&console.warn("[Cache] already has key:",e),r._cache.set(e,n[e])})),t instanceof Yo){var l=t;i.forEach((function(e){l.baseTexture!==Yo.EMPTY.baseTexture&&Cs.addToCache(l.baseTexture,e),Yo.addToCache(l,e)}))}}},{key:"remove",value:function(e){var t=this;if(this._cacheMap.get(e),this._cacheMap.has(e)){var n=this._cacheMap.get(e);n.cacheKeys.forEach((function(e){t._cache.delete(e)})),n.keys.forEach((function(e){t._cacheMap.delete(e)}))}else console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"))}},{key:"parsers",get:function(){return this._parsers}}]),e}(),vh=new ph,mh=function(e){return!Array.isArray(e)},gh=function(){function e(){var t=this;o(this,e),this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:function(e,n,r){return t._parsersValidated=!1,e[n]=r,!0}}),this.promiseCache={}}return s(e,[{key:"reset",value:function(){this._parsersValidated=!1,this.promiseCache={}}},{key:"_getLoadPromiseAndParser",value:function(e,t){var n=this,r={promise:null,parser:null};return r.promise=_l(gl().mark((function i(){var a,s,o,u,l,h,c,d;return gl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=null,s=null,t.loadParser&&((s=n._parserHash[t.loadParser])||console.warn('[Assets] specified load parser "'.concat(t.loadParser,'" not found while loading ').concat(e))),s){i.next=16;break}o=0;case 5:if(!(o<n.parsers.length)){i.next=13;break}if(!(l=n.parsers[o]).load||null===(u=l.test)||void 0===u||!u.call(l,e,t,n)){i.next=10;break}return s=l,i.abrupt("break",13);case 10:o++,i.next=5;break;case 13:if(s){i.next=16;break}return console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),i.abrupt("return",null);case 16:return i.next=18,s.load(e,t,n);case 18:a=i.sent,r.parser=s,h=0;case 21:if(!(h<n.parsers.length)){i.next=40;break}if(!(c=n.parsers[h]).parse){i.next=37;break}if(i.t0=c.parse,!i.t0){i.next=29;break}return i.next=28,null===(d=c.testParse)||void 0===d?void 0:d.call(c,a,t,n);case 28:i.t0=i.sent;case 29:if(!i.t0){i.next=37;break}return i.next=32,c.parse(a,t,n);case 32:if(i.t1=i.sent,i.t1){i.next=35;break}i.t1=a;case 35:a=i.t1,r.parser=c;case 37:h++,i.next=21;break;case 40:return i.abrupt("return",a);case 41:case"end":return i.stop()}}),i)})))(),r}},{key:"load",value:function(){var e=_l(gl().mark((function e(t,n){var r,i,a,s,o,u,l=this;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._parsersValidated||this._validateParsers(),r=0,i={},a=mh(t),s=fh(t,(function(e){return{src:e}})),o=s.length,u=s.map(function(){var e=_l(gl().mark((function e(t){var a;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ia.toAbsolute(t.src),i[t.src]){e.next=15;break}return e.prev=2,l.promiseCache[a]||(l.promiseCache[a]=l._getLoadPromiseAndParser(a,t)),e.next=6,l.promiseCache[a].promise;case 6:i[t.src]=e.sent,n&&n(++r/o),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(2),delete l.promiseCache[a],delete i[t.src],new Error("[Loader.load] Failed to load ".concat(a,".\n").concat(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Promise.all(u);case 9:return e.abrupt("return",a?i[s[0].src]:i);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unload",value:function(){var e=_l(gl().mark((function e(t){var n,r,i=this;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fh(t,(function(e){return{src:e}})),r=n.map(function(){var e=_l(gl().mark((function e(t){var n,r,a,s,o;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ia.toAbsolute(t.src),!(r=i.promiseCache[n])){e.next=8;break}return e.next=5,r.promise;case 5:o=e.sent,null===(a=r.parser)||void 0===a||null===(s=a.unload)||void 0===s||s.call(a,o,t,i),delete i.promiseCache[n];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_validateParsers",value:function(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]&&console.warn('[Assets] loadParser name conflict "'.concat(t.name,'"')),hi(hi({},e),{},ui({},t.name,t))}),{})}}]),e}(),yh=function(e){return e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e}(yh||{});function _h(e,t){if(Array.isArray(t)){var n,r=Vu(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.startsWith("data:".concat(i)))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}return e.startsWith("data:".concat(t))}var bh={extension:{type:fs.LoadParser,priority:yh.Low},name:"loadJson",test:function(e){return _h(e,"application/json")||dh(e,".json")},load:function(e){return _l(gl().mark((function t(){var n,r;return gl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mi.ADAPTER.fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()}};ms.add(bh);var xh={name:"loadTxt",extension:{type:fs.LoadParser,priority:yh.Low},test:function(e){return _h(e,"text/plain")||dh(e,".txt")},load:function(e){return _l(gl().mark((function t(){var n,r;return gl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mi.ADAPTER.fetch(e);case 2:return n=t.sent,t.next=5,n.text();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()}};ms.add(xh);var wh=["normal","bold","100","200","300","400","500","600","700","800","900"],kh=[".ttf",".otf",".woff",".woff2"],Eh=["font/ttf","font/otf","font/woff","font/woff2"],Th=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Ah(e){var t,n=ia.extname(e),r=ia.basename(e,n).replace(/(-|_)/g," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),i=r.length>0,a=Vu(r);try{for(a.s();!(t=a.n()).done;){if(!t.value.match(Th)){i=!1;break}}}catch(o){a.e(o)}finally{a.f()}var s=r.join(" ");return i||(s='"'.concat(s.replace(/[\\"]/g,"\\$&"),'"')),s}var Sh={extension:{type:fs.LoadParser,priority:yh.Low},name:"loadWebFont",test:function(e){return _h(e,Eh)||dh(e,kh)},load:function(e,t){return _l(gl().mark((function n(){var r,i,a,s,o,u,l,h,c,d,f,p,v,m;return gl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=Mi.ADAPTER.getFontFaceSet())){n.next=18;break}h=[],c=null!==(i=null===(a=t.data)||void 0===a?void 0:a.family)&&void 0!==i?i:Ah(e),d=null!==(s=null===(o=t.data)||void 0===o||null===(u=o.weights)||void 0===u?void 0:u.filter((function(e){return wh.includes(e)})))&&void 0!==s?s:["normal"],f=null!==(l=t.data)&&void 0!==l?l:{},p=0;case 7:if(!(p<d.length)){n.next=17;break}return v=d[p],m=new FontFace(c,"url(".concat(encodeURI(e),")"),hi(hi({},f),{},{weight:v})),n.next=12,m.load();case 12:r.add(m),h.push(m);case 14:p++,n.next=7;break;case 17:return n.abrupt("return",1===h.length?h[0]:h);case 18:return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),n.abrupt("return",null);case 20:case"end":return n.stop()}}),n)})))()},unload:function(e){(Array.isArray(e)?e:[e]).forEach((function(e){return Mi.ADAPTER.getFontFaceSet().delete(e)}))}};ms.add(Sh);var Ch,Ph,Rh=0,Ih={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=","');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    ")},Mh="\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };",Oh=function(){function e(){o(this,e),this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}return s(e,[{key:"isImageBitmapSupported",value:function(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((function(e){var t=URL.createObjectURL(new Blob([Ih.code],{type:"application/javascript"})),n=new Worker(t);n.addEventListener("message",(function(r){n.terminate(),URL.revokeObjectURL(t),e(r.data)}))}))),this._isImageBitmapSupported}},{key:"loadImageBitmap",value:function(e){return this._run("loadImageBitmap",[e])}},{key:"_initWorkers",value:function(){var e=_l(gl().mark((function e(){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._initialized){e.next=2;break}return e.abrupt("return");case 2:this._initialized=!0;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWorker",value:function(){var e=this;void 0===Ch&&(Ch=navigator.hardwareConcurrency||4);var t=this.workerPool.pop();return!t&&this._createdWorkers<Ch&&(Ph||(Ph=URL.createObjectURL(new Blob([Mh],{type:"application/javascript"}))),this._createdWorkers++,(t=new Worker(Ph)).addEventListener("message",(function(t){e.complete(t.data),e.returnWorker(t.target),e.next()}))),t}},{key:"returnWorker",value:function(e){this.workerPool.push(e)}},{key:"complete",value:function(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}},{key:"_run",value:function(){var e=_l(gl().mark((function e(t,n){var r,i=this;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initWorkers();case 2:return r=new Promise((function(e,r){i.queue.push({id:t,arguments:n,resolve:e,reject:r})})),this.next(),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"next",value:function(){if(this.queue.length){var e=this.getWorker();if(e){var t=this.queue.pop(),n=t.id;this.resolveHash[Rh]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:Rh++,id:n})}}}}]),e}(),Dh=new Oh;function Nh(e,t,n){var r=new Yo(e);return r.baseTexture.on("dispose",(function(){delete t.promiseCache[n]})),r}var Bh=[".jpeg",".jpg",".png",".webp",".avif"],Lh=["image/jpeg","image/png","image/webp","image/avif"];function Fh(e){return Uh.apply(this,arguments)}function Uh(){return Uh=_l(gl().mark((function e(t){var n,r,i;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi.ADAPTER.fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("[loadImageBitmap] Failed to fetch ".concat(t,": ").concat(n.status," ").concat(n.statusText));case 5:return e.next=7,n.blob();case 7:return r=e.sent,e.next=10,createImageBitmap(r);case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)}))),Uh.apply(this,arguments)}var Gh={name:"loadTextures",extension:{type:fs.LoadParser,priority:yh.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:function(e){return _h(e,Lh)||dh(e,Bh)},load:function(e,t,n){var r=this;return _l(gl().mark((function i(){var a,s;return gl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=null,!globalThis.createImageBitmap||!r.config.preferCreateImageBitmap){i.next=18;break}if(i.t0=r.config.preferWorkers,!i.t0){i.next=7;break}return i.next=6,Dh.isImageBitmapSupported();case 6:i.t0=i.sent;case 7:if(!i.t0){i.next=13;break}return i.next=10,Dh.loadImageBitmap(e);case 10:a=i.sent,i.next=16;break;case 13:return i.next=15,Fh(e);case 15:a=i.sent;case 16:i.next=21;break;case 18:return i.next=20,new Promise((function(t){(a=new Image).crossOrigin=r.config.crossOrigin,a.src=e,a.complete?t(a):a.onload=function(){t(a)}}));case 20:a=i.sent;case 21:return(s=new Cs(a,hi({resolution:ss(e)},t.data))).resource.src=e,i.abrupt("return",Nh(s,n,e));case 24:case"end":return i.stop()}}),i)})))()},unload:function(e){e.destroy(!0)}};ms.add(Gh);var zh={extension:{type:fs.LoadParser,priority:yh.High},name:"loadSVG",test:function(e){return _h(e,"image/svg+xml")||dh(e,".svg")},testParse:function(e){return _l(gl().mark((function t(){return gl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",xl.test(e));case 1:case"end":return t.stop()}}),t)})))()},parse:function(e,t,n){return _l(gl().mark((function r(){var i,a,s,o;return gl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=new xl(e,null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.resourceOptions),r.next=3,a.load();case 3:return(s=new Cs(a,hi({resolution:ss(e)},null===t||void 0===t?void 0:t.data))).resource.src=e,o=Nh(s,n,e),r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()},load:function(e,t){return _l(gl().mark((function t(){var n;return gl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mi.ADAPTER.fetch(e);case 2:return n=t.sent,t.abrupt("return",n.text());case 4:case"end":return t.stop()}}),t)})))()},unload:Gh.unload};function jh(e,t,n,r,i){for(var a=t[n],s=0;s<a.length;s++){var o=a[s];n<t.length-1?jh(e.replace(r[n],o),t,n+1,r,i):i.push(e.replace(r[n],o))}}function Hh(e){var t=e.match(/\{(.*?)\}/g),n=[];if(t){var r=[];t.forEach((function(e){var t=e.substring(1,e.length-1).split(",");r.push(t)})),jh(e,r,0,t,n)}else n.push(e);return n}ms.add(zh);var Vh=function(){function e(){var t=this;o(this,e),this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:function(e,n){return"".concat(e).concat(t._bundleIdConnector).concat(n)},extractAssetIdFromBundle:function(e,n){return n.replace("".concat(e).concat(t._bundleIdConnector),"")}},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}return s(e,[{key:"setBundleIdentifier",value:function(e){var t,n,r;if(this._bundleIdConnector=null!==(t=e.connector)&&void 0!==t?t:this._bundleIdConnector,this._createBundleAssetId=null!==(n=e.createBundleAssetId)&&void 0!==n?n:this._createBundleAssetId,this._extractAssetIdFromBundle=null!==(r=e.extractAssetIdFromBundle)&&void 0!==r?r:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}},{key:"prefer",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))})),this._resolverHash={}}},{key:"basePath",get:function(){return this._basePath},set:function(e){this._basePath=e}},{key:"rootPath",get:function(){return this._rootPath},set:function(e){this._rootPath=e}},{key:"parsers",get:function(){return this._parsers}},{key:"reset",value:function(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}},{key:"setDefaultSearchParams",value:function(e){if("string"===typeof e)this._defaultSearchParams=e;else{var t=e;this._defaultSearchParams=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&")}}},{key:"addManifest",value:function(e){var t=this;this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach((function(e){t.addBundle(e.name,e.assets)}))}},{key:"addBundle",value:function(e,t){var n=this,r=[];Array.isArray(t)?t.forEach((function(t){if("string"===typeof t.name){var i=n._createBundleAssetId(e,t.name);r.push(i),n.add([t.name,i],t.srcs,t.data)}else{var a=t.name.map((function(t){return n._createBundleAssetId(e,t)}));a.forEach((function(e){r.push(e)})),n.add([].concat(Xu(t.name),Xu(a)),t.srcs)}})):Object.keys(t).forEach((function(i){r.push(n._createBundleAssetId(e,i)),n.add([i,n._createBundleAssetId(e,i)],t[i])})),this._bundles[e]=r}},{key:"add",value:function(e,t,n){var r=this,i=fh(e);i.forEach((function(e){r.hasKey(e)&&console.warn("[Resolver] already has key: ".concat(e," overwriting"))})),Array.isArray(t)||(t="string"===typeof t?Hh(t):[t]);var a=t.map((function(e){var t,a=e;if("string"===typeof e){for(var s=!1,o=0;o<r._parsers.length;o++){var u=r._parsers[o];if(u.test(e)){a=u.parse(e),s=!0;break}}s||(a={src:e})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(r._basePath||r._rootPath)&&(a.src=ia.toAbsolute(a.src,r._basePath,r._rootPath)),a.src=r._appendDefaultSearchParams(a.src),a.data=null!==(t=a.data)&&void 0!==t?t:n,a}));i.forEach((function(e){r._assetMap[e]=a}))}},{key:"resolveBundle",value:function(e){var t=this,n=mh(e);e=fh(e);var r={};return e.forEach((function(e){var n=t._bundles[e];if(n){var i=t.resolve(n),a={};for(var s in i){var o=i[s];a[t._extractAssetIdFromBundle(e,s)]=o}r[e]=a}})),n?r[e[0]]:r}},{key:"resolveUrl",value:function(e){var t=this.resolve(e);if("string"!==typeof e){var n={};for(var r in t)n[r]=t[r].src;return n}return t.src}},{key:"resolve",value:function(e){var t=this,n=mh(e);e=fh(e);var r={};return e.forEach((function(e){if(!t._resolverHash[e])if(t._assetMap[e]){var n,i=t._assetMap[e],a=t._getPreferredOrder(i),s=i[0];null===a||void 0===a||a.priority.forEach((function(e){a.params[e].forEach((function(t){var n=i.filter((function(n){return!!n[e]&&n[e]===t}));n.length&&(i=n)}))})),t._resolverHash[e]=null!==(n=i[0])&&void 0!==n?n:s}else{var o=e;(t._basePath||t._rootPath)&&(o=ia.toAbsolute(o,t._basePath,t._rootPath)),o=t._appendDefaultSearchParams(o),t._resolverHash[e]={src:o}}r[e]=t._resolverHash[e]})),n?r[e[0]]:r}},{key:"hasKey",value:function(e){return!!this._assetMap[e]}},{key:"hasBundle",value:function(e){return!!this._bundles[e]}},{key:"_getPreferredOrder",value:function(e){for(var t=this,n=function(){var n=e[0],r=t._preferredOrder.find((function(e){return e.params.format.includes(n.format)}));if(r)return{v:r}},r=0;r<e.length;r++){var i=n();if("object"===typeof i)return i.v}return this._preferredOrder[0]}},{key:"_appendDefaultSearchParams",value:function(e){if(!this._defaultSearchParams)return e;var t=/\?/.test(e)?"&":"?";return"".concat(e).concat(t).concat(this._defaultSearchParams)}}]),e}(),Xh=function(){function e(){o(this,e),this._detections=[],this._initialized=!1,this.resolver=new Vh,this.loader=new gh,this.cache=vh,this._backgroundLoader=new ch(this.loader),this._backgroundLoader.active=!0,this.reset()}return s(e,[{key:"init",value:function(){var e=_l(gl().mark((function e(){var t,n,r,i,a,s,o,u,l,h,c,d,f,p,v,m,g=arguments;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=g.length>0&&void 0!==g[0]?g[0]:{},!this._initialized){e.next=4;break}return console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?"),e.abrupt("return");case 4:if(this._initialized=!0,i.defaultSearchParams&&this.resolver.setDefaultSearchParams(i.defaultSearchParams),i.basePath&&(this.resolver.basePath=i.basePath),i.bundleIdentifier&&this.resolver.setBundleIdentifier(i.bundleIdentifier),!i.manifest){e.next=15;break}if("string"!==typeof(a=i.manifest)){e.next=14;break}return e.next=13,this.load(a);case 13:a=e.sent;case 14:this.resolver.addManifest(a);case 15:if(s=null!==(t=null===(n=i.texturePreference)||void 0===n?void 0:n.resolution)&&void 0!==t?t:1,o="number"===typeof s?[s]:s,u=[],null===(r=i.texturePreference)||void 0===r||!r.format){e.next=44;break}h=null===(l=i.texturePreference)||void 0===l?void 0:l.format,u="string"===typeof h?[h]:h,c=Vu(this._detections),e.prev=22,c.s();case 24:if((d=c.n()).done){e.next=34;break}return f=d.value,e.next=28,f.test();case 28:if(e.sent){e.next=32;break}return e.next=31,f.remove(u);case 31:u=e.sent;case 32:e.next=24;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(22),c.e(e.t0);case 39:return e.prev=39,c.f(),e.finish(39);case 42:e.next=65;break;case 44:p=Vu(this._detections),e.prev=45,p.s();case 47:if((v=p.n()).done){e.next=57;break}return m=v.value,e.next=51,m.test();case 51:if(!e.sent){e.next=55;break}return e.next=54,m.add(u);case 54:u=e.sent;case 55:e.next=47;break;case 57:e.next=62;break;case 59:e.prev=59,e.t1=e.catch(45),p.e(e.t1);case 62:return e.prev=62,p.f(),e.finish(62);case 65:this.resolver.prefer({params:{format:u,resolution:o}}),i.preferences&&this.setPreferences(i.preferences);case 67:case"end":return e.stop()}}),e,this,[[22,36,39,42],[45,59,62,65]])})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(e,t,n){this.resolver.add(e,t,n)}},{key:"load",value:function(){var e=_l(gl().mark((function e(t,n){var r,i,a,s,o=this;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return r=mh(t),i=fh(t).map((function(e){return"string"!==typeof e?(o.resolver.add(e.src,e),e.src):(o.resolver.hasKey(e)||o.resolver.add(e,e),e)})),a=this.resolver.resolve(i),e.next=8,this._mapLoadToResolve(a,n);case 8:return s=e.sent,e.abrupt("return",r?s[i[0]]:s);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addBundle",value:function(e,t){this.resolver.addBundle(e,t)}},{key:"loadBundle",value:function(){var e=_l(gl().mark((function e(t,n){var r,i,a,s,o,u,l,h,c=this;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return r=!1,"string"===typeof t&&(r=!0,t=[t]),i=this.resolver.resolveBundle(t),a={},s=Object.keys(i),o=0,u=0,l=function(){null===n||void 0===n||n(++o/u)},h=s.map((function(e){var t=i[e];return u+=Object.keys(t).length,c._mapLoadToResolve(t,l).then((function(t){a[e]=t}))})),e.next=14,Promise.all(h);case 14:return e.abrupt("return",r?a[t[0]]:a);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"backgroundLoad",value:function(){var e=_l(gl().mark((function e(t){var n;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:"string"===typeof t&&(t=[t]),n=this.resolver.resolve(t),this._backgroundLoader.add(Object.values(n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"backgroundLoadBundle",value:function(){var e=_l(gl().mark((function e(t){var n,r=this;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:"string"===typeof t&&(t=[t]),n=this.resolver.resolveBundle(t),Object.values(n).forEach((function(e){r._backgroundLoader.add(Object.values(e))}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}},{key:"get",value:function(e){if("string"===typeof e)return vh.get(e);for(var t={},n=0;n<e.length;n++)t[n]=vh.get(e[n]);return t}},{key:"_mapLoadToResolve",value:function(){var e=_l(gl().mark((function e(t,n){var r,i,a,s;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.values(t),i=Object.keys(t),this._backgroundLoader.active=!1,e.next=5,this.loader.load(r,n);case 5:return a=e.sent,this._backgroundLoader.active=!0,s={},r.forEach((function(e,t){var n=a[e.src],r=[e.src];e.alias&&r.push.apply(r,Xu(e.alias)),s[i[t]]=n,vh.set(r,n)})),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unload",value:function(){var e=_l(gl().mark((function e(t){var n,r;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return n=fh(t).map((function(e){return"string"!==typeof e?e.src:e})),r=this.resolver.resolve(n),e.next=7,this._unloadFromResolved(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unloadBundle",value:function(){var e=_l(gl().mark((function e(t){var n,r,i=this;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return t=fh(t),n=this.resolver.resolveBundle(t),r=Object.keys(n).map((function(e){return i._unloadFromResolved(n[e])})),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_unloadFromResolved",value:function(){var e=_l(gl().mark((function e(t){var n;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object.values(t)).forEach((function(e){vh.remove(e.src)})),e.next=4,this.loader.unload(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"detections",get:function(){return this._detections}},{key:"preferWorkers",get:function(){return Gh.config.preferWorkers},set:function(e){sa("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}},{key:"setPreferences",value:function(e){this.loader.parsers.forEach((function(t){t.config&&Object.keys(t.config).filter((function(t){return t in e})).forEach((function(n){t.config[n]=e[n]}))}))}}]),e}(),Wh=new Xh;ms.handleByList(fs.LoadParser,Wh.loader.parsers).handleByList(fs.ResolveParser,Wh.resolver.parsers).handleByList(fs.CacheParser,Wh.cache.parsers).handleByList(fs.DetectionParser,Wh.detections);var Yh={extension:fs.CacheParser,test:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof Yo}))},getCacheableAssets:function(e,t){var n={};return e.forEach((function(e){t.forEach((function(t,r){n[e+(0===r?"":r+1)]=t}))})),n}};ms.add(Yh);var qh={extension:{type:fs.DetectionParser,priority:1},test:function(){var e=_l(gl().mark((function e(){var t;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(globalThis.createImageBitmap){e.next=2;break}return e.abrupt("return",!1);case 2:return"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e.next=5,Mi.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then((function(e){return e.blob()}));case 5:return t=e.sent,e.abrupt("return",createImageBitmap(t).then((function(){return!0}),(function(){return!1})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(Xu(t),["avif"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"avif"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};ms.add(qh);var Kh={extension:{type:fs.DetectionParser,priority:0},test:function(){var e=_l(gl().mark((function e(){var t;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(globalThis.createImageBitmap){e.next=2;break}return e.abrupt("return",!1);case 2:return"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e.next=5,Mi.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((function(e){return e.blob()}));case 5:return t=e.sent,e.abrupt("return",createImageBitmap(t).then((function(){return!0}),(function(){return!1})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(Xu(t),["webp"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"webp"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};ms.add(Kh);var Zh=["png","jpg","jpeg"],Qh={extension:{type:fs.DetectionParser,priority:-1},test:function(){return Promise.resolve(!0)},add:function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(Xu(t),Zh));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return!Zh.includes(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};ms.add(Qh);var Jh={extension:fs.ResolveParser,test:Gh.test,parse:function(e){var t,n;return{resolution:parseFloat(null!==(t=null===(n=Mi.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:e.split(".").pop(),src:e}}};ms.add(Jh);var $h,ec,tc,nc=function(e,t){var n=t.split("?")[1];return n&&(e+="?".concat(n)),e},rc=function(e){return e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e}(rc||{}),ic=(ui($h={},33776,.5),ui($h,33777,.5),ui($h,33778,1),ui($h,33779,1),ui($h,35916,.5),ui($h,35917,.5),ui($h,35918,1),ui($h,35919,1),ui($h,37488,.5),ui($h,37489,.5),ui($h,37490,1),ui($h,37491,1),ui($h,37492,.5),ui($h,37496,1),ui($h,37493,.5),ui($h,37497,1),ui($h,37494,.5),ui($h,37495,.5),ui($h,35840,.5),ui($h,35842,.5),ui($h,35841,.25),ui($h,35843,.25),ui($h,36196,.5),ui($h,35986,.5),ui($h,35986,1),ui($h,34798,1),ui($h,37808,1),$h);function ac(){tc={s3tc:ec.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ec.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ec.getExtension("WEBGL_compressed_texture_etc"),etc1:ec.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ec.getExtension("WEBGL_compressed_texture_pvrtc")||ec.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ec.getExtension("WEBGL_compressed_texture_atc"),astc:ec.getExtension("WEBGL_compressed_texture_astc")}}var sc={extension:{type:fs.DetectionParser,priority:2},test:function(){var e=_l(gl().mark((function e(){var t,n;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Mi.ADAPTER.createCanvas(),n=t.getContext("webgl")){e.next=5;break}return console.warn("WebGL not available for compressed textures."),e.abrupt("return",!1);case 5:return ec=n,e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=_l(gl().mark((function e(t){var n,r;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tc||ac(),n=[],e.t0=gl().keys(tc);case 3:if((e.t1=e.t0()).done){e.next=11;break}if(r=e.t1.value,tc[r]){e.next=8;break}return e.abrupt("continue",3);case 8:n.push(r),e.next=3;break;case 11:return e.abrupt("return",[].concat(n,Xu(t)));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tc||ac(),e.abrupt("return",t.filter((function(e){return!(e in tc)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};ms.add(sc);var oc,uc,lc,hc,cc,dc=function(e){cs(n,e);var t=ds(n);function n(e){var r,i,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:1,height:1,autoLoad:!0};return o(this,n),"string"===typeof e?(i=e,a=new Uint8Array):(i=null,a=e),(r=t.call(this,a,s)).origin=i,r.buffer=a?new gs(a):null,r._load=null,r.loaded=!1,null!==r.origin&&!1!==s.autoLoad&&r.load(),null===r.origin&&r.buffer&&(r._load=Promise.resolve(os(r)),r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}return s(n,[{key:"onBlobLoaded",value:function(e){}},{key:"load",value:function(){var e=this;return this._load||(this._load=fetch(this.origin).then((function(e){return e.blob()})).then((function(e){return e.arrayBuffer()})).then((function(t){return e.data=new Uint32Array(t),e.buffer=new gs(t),e.loaded=!0,e.onBlobLoaded(t),e.update(),e}))),this._load}}]),n}(Ts),fc=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r)).format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=n._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||n._createLevelBuffers(e instanceof Uint8Array?e:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return s(n,[{key:"upload",value:function(e,t,n){var r=e.gl;if(!e.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;for(var i=0,a=this.levels;i<a;i++){var s=this._levelBuffers[i],o=s.levelID,u=s.levelWidth,l=s.levelHeight,h=s.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,o,this.format,u,l,0,h)}return!0}},{key:"onBlobLoaded",value:function(){this._levelBuffers=n._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}}],[{key:"_formatToExtension",value:function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}},{key:"_createLevelBuffers",value:function(e,t,n,r,i,a,s){for(var o=new Array(n),u=e.byteOffset,l=a,h=s,c=l+r-1&~(r-1),d=h+i-1&~(i-1),f=c*d*ic[t],p=0;p<n;p++)o[p]={levelID:p,levelWidth:n>1?l:c,levelHeight:n>1?h:d,levelBuffer:new Uint8Array(e.buffer,u,f)},u+=f,f=(c=(l=l>>1||1)+r-1&~(r-1))*(d=(h=h>>1||1)+i-1&~(i-1))*ic[t];return o}}]),n}(dc),pc=4,vc=124,mc=32,gc=20,yc=542327876,_c={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},bc={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},xc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},wc=1,kc=2,Ec=4,Tc=64,Ac=512,Sc=131072,Cc=808540228,Pc=4,Rc=(ui(oc={},827611204,rc.COMPRESSED_RGBA_S3TC_DXT1_EXT),ui(oc,861165636,rc.COMPRESSED_RGBA_S3TC_DXT3_EXT),ui(oc,894720068,rc.COMPRESSED_RGBA_S3TC_DXT5_EXT),oc),Ic=(ui(uc={},70,rc.COMPRESSED_RGBA_S3TC_DXT1_EXT),ui(uc,71,rc.COMPRESSED_RGBA_S3TC_DXT1_EXT),ui(uc,73,rc.COMPRESSED_RGBA_S3TC_DXT3_EXT),ui(uc,74,rc.COMPRESSED_RGBA_S3TC_DXT3_EXT),ui(uc,76,rc.COMPRESSED_RGBA_S3TC_DXT5_EXT),ui(uc,77,rc.COMPRESSED_RGBA_S3TC_DXT5_EXT),ui(uc,72,rc.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT),ui(uc,75,rc.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT),ui(uc,78,rc.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT),uc);function Mc(e){var t=new Uint32Array(e);if(t[0]!==yc)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(e,0,vc/Uint32Array.BYTES_PER_ELEMENT),r=n[_c.HEIGHT],i=n[_c.WIDTH],a=n[_c.MIPMAP_COUNT],s=new Uint32Array(e,_c.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,mc/Uint32Array.BYTES_PER_ELEMENT),o=s[wc];if(o&Ec){var u=s[bc.FOURCC];if(u!==Cc){var l=Rc[u],h=new Uint8Array(e,pc+vc);return[new fc(h,{format:l,width:i,height:r,levels:a})]}var c=pc+vc,d=new Uint32Array(t.buffer,c,gc/Uint32Array.BYTES_PER_ELEMENT),f=d[xc.DXGI_FORMAT],p=d[xc.RESOURCE_DIMENSION],v=d[xc.MISC_FLAG],m=d[xc.ARRAY_SIZE],g=Ic[f];if(void 0===g)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(f));if(v===Pc)throw new Error("DDSParser does not support cubemap textures");if(6===p)throw new Error("DDSParser does not supported 3D texture data");var y=new Array,_=pc+vc+gc;if(1===m)y.push(new Uint8Array(e,_));else{for(var b=ic[g],x=0,w=i,k=r,E=0;E<a;E++){x+=Math.max(1,w+3&-4)*Math.max(1,k+3&-4)*b,w>>>=1,k>>>=1}for(var T=_,A=0;A<m;A++)y.push(new Uint8Array(e,T,x)),T+=x}return y.map((function(e){return new fc(e,{format:g,width:i,height:r,levels:a})}))}if(o&Tc)throw new Error("DDSParser does not support uncompressed texture data.");if(o&Ac)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(o&Sc)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(o&kc)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Oc=[171,75,84,88,32,49,49,187,13,10,26,10],Dc=67305985,Nc={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Bc=64,Lc=(ui(lc={},_i.UNSIGNED_BYTE,1),ui(lc,_i.UNSIGNED_SHORT,2),ui(lc,_i.INT,4),ui(lc,_i.UNSIGNED_INT,4),ui(lc,_i.FLOAT,4),ui(lc,_i.HALF_FLOAT,8),lc),Fc=(ui(hc={},gi.RGBA,4),ui(hc,gi.RGB,3),ui(hc,gi.RG,2),ui(hc,gi.RED,1),ui(hc,gi.LUMINANCE,1),ui(hc,gi.LUMINANCE_ALPHA,2),ui(hc,gi.ALPHA,1),hc),Uc=(ui(cc={},_i.UNSIGNED_SHORT_4_4_4_4,2),ui(cc,_i.UNSIGNED_SHORT_5_5_5_1,2),ui(cc,_i.UNSIGNED_SHORT_5_6_5,2),cc);function Gc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new DataView(t);if(!function(e,t){for(var n=0;n<Oc.length;n++)if(t.getUint8(n)!==Oc[n])return console.error("".concat(e," is not a valid *.ktx file!")),!1;return!0}(e,r))return null;var i=r.getUint32(Nc.ENDIANNESS,!0)===Dc,a=r.getUint32(Nc.GL_TYPE,i),s=r.getUint32(Nc.GL_FORMAT,i),o=r.getUint32(Nc.GL_INTERNAL_FORMAT,i),u=r.getUint32(Nc.PIXEL_WIDTH,i),l=r.getUint32(Nc.PIXEL_HEIGHT,i)||1,h=r.getUint32(Nc.PIXEL_DEPTH,i)||1,c=r.getUint32(Nc.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(Nc.NUMBER_OF_FACES,i),f=r.getUint32(Nc.NUMBER_OF_MIPMAP_LEVELS,i),p=r.getUint32(Nc.BYTES_OF_KEY_VALUE_DATA,i);if(0===l||1!==h)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==c)throw new Error("WebGL does not support array textures");var v,m=u+3&-4,g=l+3&-4,y=new Array(c),_=u*l;if(0===a&&(_=m*g),void 0===(v=0!==a?Lc[a]?Lc[a]*Fc[s]:Uc[a]:ic[o]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var b=n?function(e,t,n){var r=new Map,i=0;for(;i<t;){var a=e.getUint32(Bc+i,n),s=Bc+i+4,o=3-(a+3)%4;if(0===a||a>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var u=0;u<a&&0!==e.getUint8(s+u);u++);if(-1===u){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var l=(new TextDecoder).decode(new Uint8Array(e.buffer,s,u)),h=new DataView(e.buffer,s+u+1,a-u-1);r.set(l,h),i+=4+a+o}return r}(r,p,i):null,x=_*v,w=u,k=l,E=m,T=g,A=Bc+p,S=0;S<f;S++){for(var C=r.getUint32(A,i),P=A+4,R=0;R<c;R++){var I=y[R];I||(I=y[R]=new Array(f)),I[S]={levelID:S,levelWidth:f>1||0!==a?w:E,levelHeight:f>1||0!==a?k:T,levelBuffer:new Uint8Array(t,P,x)},P+=x}A=(A+=C+4)%4!==0?A+4-A%4:A,x=(E=(w=w>>1||1)+4-1&-4)*(T=(k=k>>1||1)+4-1&-4)*v}return 0!==a?{uncompressed:y.map((function(e){var t=e[0].levelBuffer,n=!1;return a===_i.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):a===_i.UNSIGNED_INT?(n=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):a===_i.INT&&(n=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new Ts(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:a,format:n?zc(s):s}})),kvData:b}:{compressed:y.map((function(e){return new fc(null,{format:o,width:u,height:l,levels:f,levelBuffers:e})})),kvData:b}}function zc(e){switch(e){case gi.RGBA:return gi.RGBA_INTEGER;case gi.RGB:return gi.RGB_INTEGER;case gi.RG:return gi.RG_INTEGER;case gi.RED:return gi.RED_INTEGER;default:return e}}var jc={extension:{type:fs.LoadParser,priority:yh.High},name:"loadDDS",test:function(e){return dh(e,".dds")},load:function(e,t,n){return _l(gl().mark((function r(){var i,a,s,o;return gl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mi.ADAPTER.fetch(e);case 2:return i=r.sent,r.next=5,i.arrayBuffer();case 5:return a=r.sent,s=Mc(a),o=s.map((function(r){return Nh(new Cs(r,hi({mipmap:ki.OFF,alphaMode:Ei.NO_PREMULTIPLIED_ALPHA,resolution:ss(e)},t.data)),n,e)})),r.abrupt("return",1===o.length?o[0]:o);case 9:case"end":return r.stop()}}),r)})))()},unload:function(e){Array.isArray(e)?e.forEach((function(e){return e.destroy(!0)})):e.destroy(!0)}};ms.add(jc);var Hc={extension:{type:fs.LoadParser,priority:yh.High},name:"loadKTX",test:function(e){return dh(e,".ktx")},load:function(e,t,n){return _l(gl().mark((function r(){var i,a,s,o,u,l,h,c,d;return gl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mi.ADAPTER.fetch(e);case 2:return i=r.sent,r.next=5,i.arrayBuffer();case 5:return a=r.sent,s=Gc(e,a),o=s.compressed,u=s.uncompressed,l=s.kvData,h=null!==o&&void 0!==o?o:u,c=hi({mipmap:ki.OFF,alphaMode:Ei.NO_PREMULTIPLIED_ALPHA,resolution:ss(e)},t.data),d=h.map((function(t){h===u&&Object.assign(c,{type:t.type,format:t.format});var r=new Cs(t,c);return r.ktxKeyValueData=l,Nh(r,n,e)})),r.abrupt("return",1===d.length?d[0]:d);case 11:case"end":return r.stop()}}),r)})))()},unload:function(e){Array.isArray(e)?e.forEach((function(e){return e.destroy(!0)})):e.destroy(!0)}};ms.add(Hc);var Vc={extension:fs.ResolveParser,test:function(e){var t=e.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(t)},parse:function(e){var t,n;if("ktx"===e.split("?")[0].split(".").pop()){var r,i,a=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(a.some((function(t){return e.endsWith(t)})))return{resolution:parseFloat(null!==(r=null===(i=Mi.RETINA_PREFIX.exec(e))||void 0===i?void 0:i[1])&&void 0!==r?r:"1"),format:a.find((function(t){return e.endsWith(t)})),src:e}}return{resolution:parseFloat(null!==(t=null===(n=Mi.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:e.split(".").pop(),src:e}}};ms.add(Vc);var Xc=new Xs,Wc=function(){function e(t){o(this,e),this.renderer=t}return s(e,[{key:"image",value:function(){var e=_l(gl().mark((function e(t,n,r){var i;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Image,e.next=3,this.base64(t,n,r);case 3:return i.src=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"base64",value:function(){var e=_l(gl().mark((function e(t,n,r){var i,a;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=this.canvas(t)).toBlob){e.next=3;break}return e.abrupt("return",new Promise((function(e,t){i.toBlob((function(n){if(n){var r=new FileReader;r.onload=function(){return e(r.result)},r.onerror=t,r.readAsDataURL(n)}else t(new Error("ICanvas.toBlob failed!"))}),n,r)})));case 3:if(void 0===i.toDataURL){e.next=5;break}return e.abrupt("return",i.toDataURL(n,r));case 5:if(void 0===i.convertToBlob){e.next=10;break}return e.next=8,i.convertToBlob({type:n,quality:r});case 8:return a=e.sent,e.abrupt("return",new Promise((function(e,t){var n=new FileReader;n.onload=function(){return e(n.result)},n.onerror=t,n.readAsDataURL(a)})));case 10:throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented");case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"canvas",value:function(t,n){var r=this._rawPixels(t,n),i=r.pixels,a=r.width,s=r.height;r.flipY&&e._flipY(i,a,s),e._unpremultiplyAlpha(i);var o=new ns(a,s,1),u=new ImageData(new Uint8ClampedArray(i.buffer),a,s);return o.context.putImageData(u,0,0),o.canvas}},{key:"pixels",value:function(t,n){var r=this._rawPixels(t,n),i=r.pixels,a=r.width,s=r.height;return r.flipY&&e._flipY(i,a,s),e._unpremultiplyAlpha(i),i}},{key:"_rawPixels",value:function(e,t){var n,r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");var i,a,s=!1,o=!1;if(e&&(e instanceof qo?i=e:(i=r.generateTexture(e,{resolution:r.resolution,multisample:r.multisample}),o=!0)),i){if(n=i.baseTexture.resolution,t=null!==(a=t)&&void 0!==a?a:i.frame,s=!1,!o){r.renderTexture.bind(i);var u=i.framebuffer.glFramebuffers[r.CONTEXT_UID];u.blitFramebuffer&&r.framebuffer.bind(u.blitFramebuffer)}}else n=r.resolution,t||((t=Xc).width=r.width/n,t.height=r.height/n),s=!0,r.renderTexture.bind();var l,h=Math.round(t.width*n),c=Math.round(t.height*n),d=new Uint8Array(4*h*c),f=r.gl;(f.readPixels(Math.round(t.x*n),Math.round(t.y*n),h,c,f.RGBA,f.UNSIGNED_BYTE,d),o)&&(null===(l=i)||void 0===l||l.destroy(!0));return{pixels:d,width:h,height:c,flipY:s}}},{key:"destroy",value:function(){this.renderer=null}}],[{key:"_flipY",value:function(e,t,n){for(var r=t<<2,i=n>>1,a=new Uint8Array(r),s=0;s<i;s++){var o=s*r,u=(n-s-1)*r;a.set(e.subarray(o,o+r)),e.copyWithin(o,u,u+r),e.set(a,u)}}},{key:"_unpremultiplyAlpha",value:function(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));for(var t=e.length,n=0;n<t;n+=4){var r=e[n+3];if(0!==r){var i=255.001/r;e[n]=e[n]*i+.5,e[n+1]=e[n+1]*i+.5,e[n+2]=e[n+2]*i+.5}}}}]),e}(),Yc=Wc;Yc.extension={name:"extract",type:fs.RendererSystem},ms.add(Yc);var qc={build:function(e){var t,n,r,i,a,s,o=e.points;if(e.type===js.CIRC){var u=e.shape;t=u.x,n=u.y,a=s=u.radius,r=i=0}else if(e.type===js.ELIP){var l=e.shape;t=l.x,n=l.y,a=l.width,s=l.height,r=i=0}else{var h=e.shape,c=h.width/2,d=h.height/2;t=h.x+c,n=h.y+d,r=c-(a=s=Math.max(0,Math.min(h.radius,Math.min(c,d)))),i=d-s}if(a>=0&&s>=0&&r>=0&&i>=0){var f=Math.ceil(2.3*Math.sqrt(a+s)),p=8*f+(r?4:0)+(i?4:0);if(o.length=p,0!==p){if(0===f)return o.length=8,o[0]=o[6]=t+r,o[1]=o[3]=n+i,o[2]=o[4]=t-r,void(o[5]=o[7]=n-i);var v=0,m=4*f+(r?2:0)+2,g=m,y=p,_=r+a,b=i,x=t+_,w=t-_,k=n+b;if(o[v++]=x,o[v++]=k,o[--m]=k,o[--m]=w,i){var E=n-b;o[g++]=w,o[g++]=E,o[--y]=E,o[--y]=x}for(var T=1;T<f;T++){var A=Math.PI/2*(T/f),S=r+Math.cos(A)*a,C=i+Math.sin(A)*s,P=t+S,R=t-S,I=n+C,M=n-C;o[v++]=P,o[v++]=I,o[--m]=I,o[--m]=R,o[g++]=R,o[g++]=M,o[--y]=M,o[--y]=P}var O=i+s,D=t+r,N=t-r,B=n+O,L=n-O;o[v++]=D,o[v++]=B,o[--y]=L,o[--y]=D,r&&(o[v++]=N,o[v++]=B,o[--y]=L,o[--y]=N)}}else o.length=0},triangulate:function(e,t){var n=e.points,r=t.points,i=t.indices;if(0!==n.length){var a,s,o=r.length/2,u=o;if(e.type!==js.RREC){var l=e.shape;a=l.x,s=l.y}else{var h=e.shape;a=h.x+h.width/2,s=h.y+h.height/2}var c=e.matrix;r.push(e.matrix?c.a*a+c.c*s+c.tx:a,e.matrix?c.b*a+c.d*s+c.ty:s),o++,r.push(n[0],n[1]);for(var d=2;d<n.length;d+=2)r.push(n[d],n[d+1]),i.push(o++,u,o);i.push(u+1,u,o)}}};function Kc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length;if(!(n<6)){for(var r=0,i=0,a=e[n-2],s=e[n-1];i<n;i+=2){var o=e[i],u=e[i+1];r+=(o-a)*(u+s),a=o,s=u}if(!t&&r>0||t&&r<=0)for(var l=n/2,h=l+l%2;h<n;h+=2){var c=n-h-2,d=n-h-1,f=h,p=h+1,v=[e[f],e[c]];e[c]=v[0],e[f]=v[1];var m=[e[p],e[d]];e[d]=m[0],e[p]=m[1]}}}var Zc={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,a=t.indices;if(n.length>=6){Kc(n,!1);for(var s=[],o=0;o<r.length;o++){var u=r[o];Kc(u.points,!0),s.push(n.length/2),n=n.concat(u.points)}var l=Ji(n,s,2);if(!l)return;for(var h=i.length/2,c=0;c<l.length;c+=3)a.push(l[c]+h),a.push(l[c+1]+h),a.push(l[c+2]+h);for(var d=0;d<n.length;d++)i.push(n[d])}}},Qc={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,a=t.height,s=e.points;s.length=0,i>=0&&a>=0&&s.push(n,r,n+i,r,n+i,r+a,n,r+a)},triangulate:function(e,t){var n=e.points,r=t.points;if(0!==n.length){var i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}}},Jc={build:function(e){qc.build(e)},triangulate:function(e,t){qc.triangulate(e,t)}},$c=function(e){return e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e}($c||{}),ed=function(e){return e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e}(ed||{}),td={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!this.adaptive||!e||isNaN(e))return t;var n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},nd=function(){function e(){o(this,e)}return s(e,null,[{key:"curveTo",value:function(e,t,n,r,i,a){var s=a[a.length-2],o=a[a.length-1]-t,u=s-e,l=r-t,h=n-e,c=Math.abs(o*h-u*l);if(c<1e-8||0===i)return a[a.length-2]===e&&a[a.length-1]===t||a.push(e,t),null;var d=o*o+u*u,f=l*l+h*h,p=o*l+u*h,v=i*Math.sqrt(d)/c,m=i*Math.sqrt(f)/c,g=v*p/d,y=m*p/f,_=v*h+m*u,b=v*l+m*o,x=u*(m+g),w=o*(m+g),k=h*(v+y),E=l*(v+y);return{cx:_+e,cy:b+t,radius:i,startAngle:Math.atan2(w-b,x-_),endAngle:Math.atan2(E-b,k-_),anticlockwise:u*l>h*o}}},{key:"arc",value:function(e,t,n,r,i,a,s,o,u){for(var l=s-a,h=td._segmentsCount(Math.abs(l)*i,40*Math.ceil(Math.abs(l)/Us)),c=l/(2*h),d=2*c,f=Math.cos(c),p=Math.sin(c),v=h-1,m=v%1/v,g=0;g<=v;++g){var y=c+a+d*(g+m*g),_=Math.cos(y),b=-Math.sin(y);u.push((f*_+p*b)*i+n,(f*-b+p*_)*i+r)}}}]),e}(),rd=function(){function e(){o(this,e)}return s(e,null,[{key:"curveLength",value:function(e,t,n,r,i,a,s,o){for(var u=0,l=0,h=0,c=0,d=0,f=0,p=0,v=0,m=0,g=0,y=0,_=e,b=t,x=1;x<=10;++x)g=_-(v=(p=(f=(d=1-(l=x/10))*d)*d)*e+3*f*l*n+3*d*(h=l*l)*i+(c=h*l)*s),y=b-(m=p*t+3*f*l*r+3*d*h*a+c*o),_=v,b=m,u+=Math.sqrt(g*g+y*y);return u}},{key:"curveTo",value:function(t,n,r,i,a,s,o){var u=o[o.length-2],l=o[o.length-1];o.length-=2;var h=td._segmentsCount(e.curveLength(u,l,t,n,r,i,a,s)),c=0,d=0,f=0,p=0,v=0;o.push(u,l);for(var m=1,g=0;m<=h;++m)f=(d=(c=1-(g=m/h))*c)*c,v=(p=g*g)*g,o.push(f*u+3*d*g*t+3*c*p*r+v*a,f*l+3*d*g*n+3*c*p*i+v*s)}}]),e}();function id(e,t,n,r,i,a,s,o){var u,l;s?(u=r,l=-n):(u=-r,l=n);var h=e-n*i+u,c=t-r*i+l,d=e+n*a+u,f=t+r*a+l;return o.push(h,c,d,f),2}function ad(e,t,n,r,i,a,s,o){var u=n-e,l=r-t,h=Math.atan2(u,l),c=Math.atan2(i-e,a-t);o&&h<c?h+=2*Math.PI:!o&&h>c&&(c+=2*Math.PI);var d=h,f=c-h,p=Math.abs(f),v=Math.sqrt(u*u+l*l),m=1+(15*p*Math.sqrt(v)/Math.PI>>0),g=f/m;if(d+=g,o){s.push(e,t,n,r);for(var y=1,_=d;y<m;y++,_+=g)s.push(e,t,e+Math.sin(_)*v,t+Math.cos(_)*v);s.push(e,t,i,a)}else{s.push(n,r,e,t);for(var b=1,x=d;b<m;b++,x+=g)s.push(e+Math.sin(x)*v,t+Math.cos(x)*v,e,t);s.push(i,a,e,t)}return 2*m}function sd(e,t){e.lineStyle.native?function(e,t){var n=0,r=e.shape,i=e.points||r.points,a=r.type!==js.POLY||r.closeStroke;if(0!==i.length){var s=t.points,o=t.indices,u=i.length/2,l=s.length/2,h=l;for(s.push(i[0],i[1]),n=1;n<u;n++)s.push(i[2*n],i[2*n+1]),o.push(h,h+1),h++;a&&o.push(h,l)}}(e,t):function(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(0!==r.length){var a=e.lineStyle,s=new Hs(r[0],r[1]),o=new Hs(r[r.length-2],r[r.length-1]),u=n.type!==js.POLY||n.closeStroke,l=Math.abs(s.x-o.x)<i&&Math.abs(s.y-o.y)<i;if(u){r=r.slice(),l&&(r.pop(),r.pop(),o.set(r[r.length-2],r[r.length-1]));var h=.5*(s.x+o.x),c=.5*(o.y+s.y);r.unshift(h,c),r.push(h,c)}var d=t.points,f=r.length/2,p=r.length,v=d.length/2,m=a.width/2,g=m*m,y=a.miterLimit*a.miterLimit,_=r[0],b=r[1],x=r[2],w=r[3],k=0,E=0,T=-(b-w),A=_-x,S=0,C=0,P=Math.sqrt(T*T+A*A);T/=P,A/=P,T*=m,A*=m;var R=a.alignment,I=2*(1-R),M=2*R;u||(a.cap===ed.ROUND?p+=ad(_-T*(I-M)*.5,b-A*(I-M)*.5,_-T*I,b-A*I,_+T*M,b+A*M,d,!0)+2:a.cap===ed.SQUARE&&(p+=id(_,b,T,A,I,M,!0,d))),d.push(_-T*I,b-A*I,_+T*M,b+A*M);for(var O=1;O<f-1;++O){_=r[2*(O-1)],b=r[2*(O-1)+1],x=r[2*O],w=r[2*O+1],k=r[2*(O+1)],E=r[2*(O+1)+1],T=-(b-w),A=_-x,T/=P=Math.sqrt(T*T+A*A),A/=P,T*=m,A*=m,S=-(w-E),C=x-k,S/=P=Math.sqrt(S*S+C*C),C/=P,S*=m,C*=m;var D=x-_,N=b-w,B=x-k,L=E-w,F=D*B+N*L,U=N*B-L*D,G=U<0;if(Math.abs(U)<.001*Math.abs(F))d.push(x-T*I,w-A*I,x+T*M,w+A*M),F>=0&&(a.join===$c.ROUND?p+=ad(x,w,x-T*I,w-A*I,x-S*I,w-C*I,d,!1)+4:p+=2,d.push(x-S*M,w-C*M,x+S*I,w+C*I));else{var z=(-T+_)*(-A+w)-(-T+x)*(-A+b),j=(-S+k)*(-C+w)-(-S+x)*(-C+E),H=(D*j-B*z)/U,V=(L*z-N*j)/U,X=(H-x)*(H-x)+(V-w)*(V-w),W=x+(H-x)*I,Y=w+(V-w)*I,q=x-(H-x)*M,K=w-(V-w)*M,Z=G?I:M,Q=X<=Math.min(D*D+N*N,B*B+L*L)+Z*Z*g,J=a.join;if(J===$c.MITER&&X/g>y&&(J=$c.BEVEL),Q)switch(J){case $c.MITER:d.push(W,Y,q,K);break;case $c.BEVEL:G?d.push(W,Y,x+T*M,w+A*M,W,Y,x+S*M,w+C*M):d.push(x-T*I,w-A*I,q,K,x-S*I,w-C*I,q,K),p+=2;break;case $c.ROUND:G?(d.push(W,Y,x+T*M,w+A*M),p+=ad(x,w,x+T*M,w+A*M,x+S*M,w+C*M,d,!0)+4,d.push(W,Y,x+S*M,w+C*M)):(d.push(x-T*I,w-A*I,q,K),p+=ad(x,w,x-T*I,w-A*I,x-S*I,w-C*I,d,!1)+4,d.push(x-S*I,w-C*I,q,K))}else{switch(d.push(x-T*I,w-A*I,x+T*M,w+A*M),J){case $c.MITER:G?d.push(q,K,q,K):d.push(W,Y,W,Y),p+=2;break;case $c.ROUND:p+=G?ad(x,w,x+T*M,w+A*M,x+S*M,w+C*M,d,!0)+2:ad(x,w,x-T*I,w-A*I,x-S*I,w-C*I,d,!1)+2}d.push(x-S*I,w-C*I,x+S*M,w+C*M),p+=2}}}_=r[2*(f-2)],b=r[2*(f-2)+1],x=r[2*(f-1)],T=-(b-(w=r[2*(f-1)+1])),A=_-x,T/=P=Math.sqrt(T*T+A*A),A/=P,T*=m,A*=m,d.push(x-T*I,w-A*I,x+T*M,w+A*M),u||(a.cap===ed.ROUND?p+=ad(x-T*(I-M)*.5,w-A*(I-M)*.5,x-T*I,w-A*I,x+T*M,w+A*M,d,!1)+2:a.cap===ed.SQUARE&&(p+=id(x,w,T,A,I,M,!1,d)));for(var $=t.indices,ee=td.epsilon*td.epsilon,te=v;te<p+v-2;++te)_=d[2*te],b=d[2*te+1],x=d[2*(te+1)],w=d[2*(te+1)+1],k=d[2*(te+2)],E=d[2*(te+2)+1],Math.abs(_*(w-E)+x*(E-b)+k*(b-w))<ee||$.push(te,te+1,te+2)}}(e,t)}var od,ud=function(){function e(){o(this,e)}return s(e,null,[{key:"curveLength",value:function(e,t,n,r,i,a){var s=e-2*n+i,o=t-2*r+a,u=2*n-2*e,l=2*r-2*t,h=4*(s*s+o*o),c=4*(s*u+o*l),d=u*u+l*l,f=2*Math.sqrt(h+c+d),p=Math.sqrt(h),v=2*h*p,m=2*Math.sqrt(d),g=c/p;return(v*f+p*c*(f-m)+(4*d*h-c*c)*Math.log((2*p+g+f)/(g+m)))/(4*v)}},{key:"curveTo",value:function(t,n,r,i,a){for(var s=a[a.length-2],o=a[a.length-1],u=td._segmentsCount(e.curveLength(s,o,t,n,r,i)),l=0,h=0,c=1;c<=u;++c){var d=c/u;l=s+(t-s)*d,h=o+(n-o)*d,a.push(l+(t+(r-t)*d-l)*d,h+(n+(i-n)*d-h)*d)}}}]),e}(),ld=(ui(od={},js.POLY,Zc),ui(od,js.CIRC,qc),ui(od,js.ELIP,qc),ui(od,js.RECT,Qc),ui(od,js.RREC,Jc),od),hd=[],cd=[],dd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;o(this,e),this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=t.type}return s(e,[{key:"clone",value:function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)}},{key:"destroy",value:function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}]),e}(),fd=function(){function e(){o(this,e),this.reset()}return s(e,[{key:"begin",value:function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}},{key:"end",value:function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}},{key:"reset",value:function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}]),e}(),pd=new Hs,vd=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.call(this)).closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new El,e.boundsDirty=-1,e}return s(n,[{key:"bounds",get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}},{key:"invalidate",value:function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),cd.push(this.drawCalls[e]);this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var n=this.batches[t];n.reset(),hd.push(n)}this.batches.length=0}},{key:"clear",value:function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}},{key:"drawShape",value:function(e){var t=new dd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null);return this.graphicsData.push(t),this.dirty++,this}},{key:"drawHole",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.graphicsData.length)return null;var n=new dd(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}},{key:"destroy",value:function(){ls(us(n.prototype),"destroy",this).call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}},{key:"containsPoint",value:function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var r=t[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(e,pd):pd.copyFrom(e),r.shape.contains(pd.x,pd.y)))){var i=!1;if(r.holes)for(var a=0;a<r.holes.length;a++){if(r.holes[a].shape.contains(pd.x,pd.y)){i=!0;break}}if(!i)return!0}}return!1}},{key:"updateBatches",value:function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,t=this.graphicsData,n=null,r=null;this.batches.length>0&&(r=(n=this.batches[this.batches.length-1]).style);for(var i=this.shapeIndex;i<t.length;i++){this.shapeIndex++;var a=t[i],s=a.fillStyle,o=a.lineStyle;ld[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(s.visible||o.visible)&&this.processHoles(a.holes);for(var u=0;u<2;u++){var l=0===u?s:o;if(l.visible){var h=l.texture.baseTexture,c=this.indices.length,d=this.points.length/2;h.wrapMode=wi.REPEAT,0===u?this.processFill(a):this.processLine(a);var f=this.points.length/2-d;0!==f&&(n&&!this._compareStyles(r,l)&&(n.end(c,d),n=null),n||((n=hd.pop()||new fd).begin(l,c,d),this.batches.push(n),r=l),this.addUvs(this.points,e,l.texture,d,f,l.matrix))}}}var p=this.indices.length,v=this.points.length/2;if(n&&n.end(p,v),0!==this.batches.length){var m=v>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&m===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=m?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0}},{key:"_compareStyles",value:function(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native===!!t.native))}},{key:"validateBatching",value:function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0}},{key:"packBatches",value:function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var r=e[t],i=0;i<r.size;i++){var a=r.start+i;this.indicesUint16[a]=this.indicesUint16[a]-r.attribStart}}},{key:"isBatchable",value:function(){if(this.points.length>131070)return!1;for(var e=this.batches,t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<2*n.BATCHABLE_SIZE}},{key:"buildDrawCalls",value:function(){for(var e=++Cs._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),cd.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=cd.pop();i||((i=new Ps).texArray=new Ro),i.texArray.count=0,i.start=0,i.size=0,i.type=mi.TRIANGLES;var a=0,s=null,o=0,u=!1,l=mi.TRIANGLES,h=0;this.drawCalls.push(i);for(var c=0;c<this.batches.length;c++){var d=this.batches[c],f=d.style,p=f.texture.baseTexture;u!==!!f.native&&(l=(u=!!f.native)?mi.LINES:mi.TRIANGLES,s=null,a=8,e++),s!==p&&(s=p,p._batchEnabled!==e&&(8===a&&(e++,a=0,i.size>0&&((i=cd.pop())||((i=new Ps).texArray=new Ro),this.drawCalls.push(i)),i.start=h,i.size=0,i.texArray.count=0,i.type=l),p.touched=1,p._batchEnabled=e,p._batchLocation=a,p.wrapMode=wi.REPEAT,i.texArray.elements[i.texArray.count++]=p,a++)),i.size+=d.size,h+=d.size,o=p._batchLocation,this.addColors(n,f.color,f.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,o,d.attribSize,d.attribStart)}Cs._globalBatch=e,this.packAttributes()}},{key:"packAttributes",value:function(){for(var e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),a=new Float32Array(i),s=new Uint32Array(i),o=0,u=0;u<e.length/2;u++)a[o++]=e[2*u],a[o++]=e[2*u+1],a[o++]=t[2*u],a[o++]=t[2*u+1],s[o++]=n[u],a[o++]=r[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}},{key:"processFill",value:function(e){e.holes.length?Zc.triangulate(e,this):ld[e.type].triangulate(e,this)}},{key:"processLine",value:function(e){sd(e,this);for(var t=0;t<e.holes.length;t++)sd(e.holes[t],this)}},{key:"processHoles",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];ld[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}},{key:"calculateBounds",value:function(){var e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}},{key:"transformPoints",value:function(e,t){for(var n=0;n<e.length/2;n++){var r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}}},{key:"addColors",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=Ua.shared.setValue(t).toLittleEndianNumber(),s=Ua.shared.setValue(a).toPremultiplied(n);e.length=Math.max(e.length,i+r);for(var o=0;o<r;o++)e[i+o]=s}},{key:"addTextureIds",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e.length=Math.max(e.length,r+n);for(var i=0;i<n;i++)e[r+i]=t}},{key:"addUvs",value:function(e,t,n,r,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=0,o=t.length,u=n.frame;s<i;){var l=e[2*(r+s)],h=e[2*(r+s)+1];if(a){var c=a.a*l+a.c*h+a.tx;h=a.b*l+a.d*h+a.ty,l=c}s++,t.push(l/u.width,h/u.height)}var d=n.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(t,n,o,i)}},{key:"adjustUvs",value:function(e,t,n,r){for(var i=t.baseTexture,a=1e-6,s=n+2*r,o=t.frame,u=o.width/i.width,l=o.height/i.height,h=o.x/o.width,c=o.y/o.height,d=Math.floor(e[n]+a),f=Math.floor(e[n+1]+a),p=n+2;p<s;p+=2)d=Math.min(d,Math.floor(e[p]+a)),f=Math.min(f,Math.floor(e[p+1]+a));h-=d,c-=f;for(var v=n;v<s;v+=2)e[v]=(e[v]+h)*u,e[v+1]=(e[v+1]+c)*l}}]),n}(Fs),md=vd;md.BATCHABLE_SIZE=100;var gd=function(){function e(){o(this,e),this.color=16777215,this.alpha=1,this.texture=Yo.WHITE,this.matrix=null,this.visible=!1,this.reset()}return s(e,[{key:"clone",value:function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}},{key:"reset",value:function(){this.color=16777215,this.alpha=1,this.texture=Yo.WHITE,this.matrix=null,this.visible=!1}},{key:"destroy",value:function(){this.texture=null,this.matrix=null}}]),e}(),yd=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).width=0,e.alignment=.5,e.native=!1,e.cap=ed.BUTT,e.join=$c.MITER,e.miterLimit=10,e}return s(n,[{key:"clone",value:function(){var e=new n;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}},{key:"reset",value:function(){ls(us(n.prototype),"reset",this).call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}]),n}(gd),_d={},bd=function(e){cs(n,e);var t=ds(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return o(this,n),(e=t.call(this)).shader=null,e.pluginName="batch",e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e._fillStyle=new gd,e._lineStyle=new yd,e._matrix=null,e._holeMode=!1,e.state=bs.for2d(),e._geometry=r||new md,e._geometry.refCount++,e._transformID=-1,e._tintColor=new Ua(16777215),e.blendMode=vi.NORMAL,e}return s(n,[{key:"geometry",get:function(){return this._geometry}},{key:"clone",value:function(){return this.finishPoly(),new n(this._geometry)}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){this._tintColor.setValue(e)}},{key:"fill",get:function(){return this._fillStyle}},{key:"line",get:function(){return this._lineStyle}},{key:"lineStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"number"===typeof e&&(e={width:e,color:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,alpha:arguments.length>2?arguments[2]:void 0,alignment:arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,native:arguments.length>4&&void 0!==arguments[4]&&arguments[4]}),this.lineTextureStyle(e)}},{key:"lineTextureStyle",value:function(e){var t,n={width:0,texture:Yo.WHITE,color:null!==(t=e)&&void 0!==t&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:ed.BUTT,join:$c.MITER,miterLimit:10};e=Object.assign(n,e),this.normalizeColor(e),this.currentPath&&this.startPoly();var r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}},{key:"startPoly",value:function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new qs,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new qs,this.currentPath.closeStroke=!1}},{key:"finishPoly",value:function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}},{key:"moveTo",value:function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}},{key:"lineTo",value:function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===e&&i===t||n.push(e,t),this}},{key:"_initCurve",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}},{key:"quadraticCurveTo",value:function(e,t,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),ud.curveTo(e,t,n,r,i),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this._initCurve(),rd.curveTo(e,t,n,r,i,a,this.currentPath.points),this}},{key:"arcTo",value:function(e,t,n,r,i){this._initCurve(e,t);var a=this.currentPath.points,s=nd.curveTo(e,t,n,r,i,a);if(s){var o=s.cx,u=s.cy,l=s.radius,h=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(o,u,l,h,c,d)}return this}},{key:"arc",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r===i)return this;if(!a&&i<=r?i+=Us:a&&r<=i&&(r+=Us),0===i-r)return this;var s=e+Math.cos(r)*n,o=t+Math.sin(r)*n,u=this._geometry.closePointEps,l=this.currentPath?this.currentPath.points:null;if(l){var h=Math.abs(l[l.length-2]-s),c=Math.abs(l[l.length-1]-o);h<u&&c<u||l.push(s,o)}else this.moveTo(s,o),l=this.currentPath.points;return nd.arc(s,o,e,t,n,r,i,a,l),this}},{key:"beginFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.beginTextureFill({texture:Yo.WHITE,color:e,alpha:t})}},{key:"normalizeColor",value:function(e){var t,n,r=Ua.shared.setValue(null!==(t=e.color)&&void 0!==t?t:0);e.color=r.toNumber(),null!==(n=e.alpha)&&void 0!==n||(e.alpha=r.alpha)}},{key:"beginTextureFill",value:function(e){var t={texture:Yo.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();var n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}},{key:"endFill",value:function(){return this.finishPoly(),this._fillStyle.reset(),this}},{key:"drawRect",value:function(e,t,n,r){return this.drawShape(new Xs(e,t,n,r))}},{key:"drawRoundedRect",value:function(e,t,n,r,i){return this.drawShape(new Ks(e,t,n,r,i))}},{key:"drawCircle",value:function(e,t,n){return this.drawShape(new Ws(e,t,n))}},{key:"drawEllipse",value:function(e,t,n,r){return this.drawShape(new Ys(e,t,n,r))}},{key:"drawPolygon",value:function(){for(var e,t=!0,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r[0];a.points?(t=a.closeStroke,e=a.points):e=Array.isArray(r[0])?r[0]:r;var s=new qs(e);return s.closeStroke=t,this.drawShape(s),this}},{key:"drawShape",value:function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}},{key:"clear",value:function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}},{key:"isFastRect",value:function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===js.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}},{key:"_render",value:function(e){this.finishPoly();var t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}},{key:"_populateBatches",value:function(){var e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var r=0;r<n;r++){var i=e.batches[r],a=i.style.color,s=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),o=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),u={vertexData:s,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:o,_batchRGB:Ua.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=u}}},{key:"_renderBatched",value:function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}}},{key:"_renderDirect",value:function(e){var t=this._resolveDirectShader(e),n=this._geometry,r=this.worldAlpha,i=t.uniforms,a=n.drawCalls;i.translationMatrix=this.transform.worldTransform,Ua.shared.setValue(this._tintColor).premultiply(r).toArray(i.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var s=0,o=a.length;s<o;s++)this._renderDrawCallDirect(e,n.drawCalls[s])}},{key:"_renderDrawCallDirect",value:function(e,t){for(var n=t.texArray,r=t.type,i=t.size,a=t.start,s=n.count,o=0;o<s;o++)e.texture.bind(n.elements[o],o);e.geometry.draw(r,i,a)}},{key:"_resolveDirectShader",value:function(e){var t=this.shader,n=this.pluginName;if(!t){if(!_d[n]){for(var r=e.plugins[n].maxTextures,i=new Int32Array(r),a=0;a<r;a++)i[a]=a;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Zs,default:So.from({uSamplers:i},!0)},o=e.plugins[n]._shader.program;_d[n]=new Co(o,s)}t=_d[n]}return t}},{key:"_calculateBounds",value:function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,n=t.minX,r=t.minY,i=t.maxX,a=t.maxY;this._bounds.addFrame(this.transform,n,r,i,a)}}},{key:"containsPoint",value:function(e){return this.worldTransform.applyInverse(e,n._TEMP_POINT),this._geometry.containsPoint(n._TEMP_POINT)}},{key:"calculateTints",value:function(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(var e=0;e<this.batches.length;e++){var t=this.batches[e];t._tintRGB=Ua.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}},{key:"calculateVertices",value:function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,a=t.d,s=t.tx,o=t.ty,u=this._geometry.points,l=this.vertexData,h=0,c=0;c<u.length;c+=2){var d=u[c],f=u[c+1];l[h++]=n*d+i*f+s,l[h++]=a*f+r*d+o}}}},{key:"closePath",value:function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}},{key:"setMatrix",value:function(e){return this._matrix=e,this}},{key:"beginHole",value:function(){return this.finishPoly(),this._holeMode=!0,this}},{key:"endHole",value:function(){return this.finishPoly(),this._holeMode=!1,this}},{key:"destroy",value:function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,ls(us(n.prototype),"destroy",this).call(this,e)}}]),n}(Rl),xd=bd;xd.curves=td,xd._TEMP_POINT=new Hs;var wd=function(){function e(t,n){o(this,e),this.uvBuffer=t,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return s(e,[{key:"update",value:function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}}]),e}(),kd=new Hs,Ed=new qs,Td=function(e){cs(n,e);var t=ds(n);function n(e,r,i){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mi.TRIANGLES;return o(this,n),(a=t.call(this)).geometry=e,a.shader=r,a.state=i||bs.for2d(),a.drawMode=s,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=Mi.ROUND_PIXELS,a.batchUvs=null,a}return s(n,[{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}},{key:"uvBuffer",get:function(){return this.geometry.buffers[1]}},{key:"verticesBuffer",get:function(){return this.geometry.buffers[0]}},{key:"material",get:function(){return this.shader},set:function(e){this.shader=e}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}},{key:"tint",get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e}},{key:"tintValue",get:function(){return this.shader.tintValue}},{key:"texture",get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e}},{key:"_render",value:function(e){var t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===mi.TRIANGLES&&t.length<2*n.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)}},{key:"_renderDefault",value:function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}},{key:"_renderToBatch",value:function(e){var t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)}},{key:"calculateVertices",value:function(){var e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var r=this.transform.worldTransform,i=r.a,a=r.b,s=r.c,o=r.d,u=r.tx,l=r.ty,h=this.vertexData,c=0;c<h.length/2;c++){var d=t[2*c],f=t[2*c+1];h[2*c]=i*d+s*f+u,h[2*c+1]=a*d+o*f+l}if(this._roundPixels)for(var p=Mi.RESOLUTION,v=0;v<h.length;++v)h[v]=Math.round(h[v]*p)/p;this.vertexDirty=n}}},{key:"calculateUvs",value:function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new wd(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}},{key:"_calculateBounds",value:function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}},{key:"containsPoint",value:function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,kd);for(var t=this.geometry.getBuffer("aVertexPosition").data,n=Ed.points,r=this.geometry.getIndex().data,i=r.length,a=4===this.drawMode?3:1,s=0;s+2<i;s+=a){var o=2*r[s],u=2*r[s+1],l=2*r[s+2];if(n[0]=t[o],n[1]=t[o+1],n[2]=t[u],n[3]=t[u+1],n[4]=t[l],n[5]=t[l+1],Ed.contains(kd.x,kd.y))return!0}return!1}},{key:"destroy",value:function(e){ls(us(n.prototype),"destroy",this).call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}}]),n}(Rl),Ad=Td;Ad.BATCHABLE_SIZE=100;var Sd=function(e){cs(n,e);var t=ds(n);function n(e,r,i){var a;o(this,n),a=t.call(this);var s=new Is(e),u=new Is(r,!0),l=new Is(i,!0,!0);return a.addAttribute("aVertexPosition",s,2,!1,_i.FLOAT).addAttribute("aTextureCoord",u,2,!1,_i.FLOAT).addIndex(l),a._updateId=-1,a}return s(n,[{key:"vertexDirtyId",get:function(){return this.buffers[0]._updateID}}]),n}(Ls),Cd=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;o(this,n);var a={uSampler:e,alpha:1,uTextureMatrix:Zs.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(a,r.uniforms),(i=t.call(this,r.program||To.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),a))._colorDirty=!1,i.uvMatrix=new uu(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i._tintColor=new Ua(r.tint),i._tintRGB=i._tintColor.toLittleEndianNumber(),i._colorDirty=!0,i.alpha=r.alpha,i}return s(n,[{key:"texture",get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!==!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}},{key:"alpha",get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}},{key:"tintValue",get:function(){return this._tintColor.toNumber()}},{key:"update",value:function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture.alphaMode;Ua.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}]),n}(Co),Pd=function(){function e(t,n,r){o(this,e),this.geometry=new Ls,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var a=t[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||_i.FLOAT,offset:a.offset},n[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return s(e,[{key:"initBuffers",value:function(){var e=this.geometry,t=0;this.indexBuffer=new Is(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=6*e;if((t=t||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got ".concat(t.length," and expected ").concat(n));for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var r=this.dynamicProperties[n];r.offset=t,t+=r.size,this.dynamicStride+=r.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Is(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var o=this.staticProperties[s];o.offset=a,a+=o.size,this.staticStride+=o.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new Is(this.staticData,!0,!1);for(var l=0;l<this.dynamicProperties.length;++l){var h=this.dynamicProperties[l];e.addAttribute(h.attributeName,this.dynamicBuffer,0,h.type===_i.UNSIGNED_BYTE,h.type,4*this.dynamicStride,4*h.offset)}for(var c=0;c<this.staticProperties.length;++c){var d=this.staticProperties[c];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===_i.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}}},{key:"uploadDynamic",value:function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===_i.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++}},{key:"uploadStatic",value:function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===_i.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++}},{key:"destroy",value:function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}]),e}(),Rd=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).shader=null,r.properties=null,r.tempMatrix=new Zs,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:_i.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Co.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=bs.for2d(),r}return s(n,[{key:"render",value:function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,a=t.length;if(0!==a){a>n&&!e.autoResize&&(a=n);var s=e._buffers;s||(s=e._buffers=this.generateBuffers(e));var o=t[0]._texture.baseTexture,u=o.alphaMode>0;this.state.blendMode=za(e.blendMode,u),i.state.set(this.state);var l=i.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=Ua.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=o,this.renderer.shader.bind(this.shader);for(var c=!1,d=0,f=0;d<a;d+=r,f+=1){var p=a-d;p>r&&(p=r),f>=s.length&&s.push(this._generateOneMoreBuffer(e));var v=s[f];v.uploadDynamic(t,d,p);var m=e._bufferUpdateIDs[f]||0;(c=c||v._updateID<m)&&(v._updateID=e._updateID,v.uploadStatic(t,d,p)),i.geometry.bind(v.geometry),l.drawElements(l.TRIANGLES,6*p,l.UNSIGNED_SHORT,0)}}}},{key:"generateBuffers",value:function(e){for(var t=[],n=e._maxSize,r=e._batchSize,i=e._properties,a=0;a<n;a+=r)t.push(new Pd(this.properties,i,r));return t}},{key:"_generateOneMoreBuffer",value:function(e){var t=e._batchSize,n=e._properties;return new Pd(this.properties,n,t)}},{key:"uploadVertices",value:function(e,t,n,r,i,a){for(var s=0,o=0,u=0,l=0,h=0;h<n;++h){var c=e[t+h],d=c._texture,f=c.scale.x,p=c.scale.y,v=d.trim,m=d.orig;v?(s=(o=v.x-c.anchor.x*m.width)+v.width,u=(l=v.y-c.anchor.y*m.height)+v.height):(s=m.width*(1-c.anchor.x),o=m.width*-c.anchor.x,u=m.height*(1-c.anchor.y),l=m.height*-c.anchor.y),r[a]=o*f,r[a+1]=l*p,r[a+i]=s*f,r[a+i+1]=l*p,r[a+2*i]=s*f,r[a+2*i+1]=u*p,r[a+3*i]=o*f,r[a+3*i+1]=u*p,a+=4*i}}},{key:"uploadPosition",value:function(e,t,n,r,i,a){for(var s=0;s<n;s++){var o=e[t+s].position;r[a]=o.x,r[a+1]=o.y,r[a+i]=o.x,r[a+i+1]=o.y,r[a+2*i]=o.x,r[a+2*i+1]=o.y,r[a+3*i]=o.x,r[a+3*i+1]=o.y,a+=4*i}}},{key:"uploadRotation",value:function(e,t,n,r,i,a){for(var s=0;s<n;s++){var o=e[t+s].rotation;r[a]=o,r[a+i]=o,r[a+2*i]=o,r[a+3*i]=o,a+=4*i}}},{key:"uploadUvs",value:function(e,t,n,r,i,a){for(var s=0;s<n;++s){var o=e[t+s]._texture._uvs;o?(r[a]=o.x0,r[a+1]=o.y0,r[a+i]=o.x1,r[a+i+1]=o.y1,r[a+2*i]=o.x2,r[a+2*i+1]=o.y2,r[a+3*i]=o.x3,r[a+3*i+1]=o.y3,a+=4*i):(r[a]=0,r[a+1]=0,r[a+i]=0,r[a+i+1]=0,r[a+2*i]=0,r[a+2*i+1]=0,r[a+3*i]=0,r[a+3*i+1]=0,a+=4*i)}}},{key:"uploadTint",value:function(e,t,n,r,i,a){for(var s=0;s<n;++s){var o=e[t+s],u=Ua.shared.setValue(o._tintRGB).toPremultiplied(o.alpha,o.texture.baseTexture.alphaMode>0);r[a]=u,r[a+i]=u,r[a+2*i]=u,r[a+3*i]=u,a+=4*i}}},{key:"destroy",value:function(){ls(us(n.prototype),"destroy",this).call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}]),n}(Io);Rd.extension={name:"particle",type:fs.RendererPlugin},ms.add(Rd);var Id=function(e){return e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e}(Id||{}),Md={willReadFrequently:!0},Od=function(){function e(t,n,r,i,a,s,u,l,h){o(this,e),this.text=t,this.style=n,this.width=r,this.height=i,this.lines=a,this.lineWidths=s,this.lineHeight=u,this.maxLineWidth=l,this.fontProperties=h}return s(e,null,[{key:"experimentalLetterSpacingSupported",get:function(){var t=e._experimentalLetterSpacingSupported;if(void 0!==t){var n=Mi.ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}},{key:"measureText",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e._canvas;r=void 0===r||null===r?n.wordWrap:r;var a=n.toFontString(),s=e.measureFont(a);0===s.fontSize&&(s.fontSize=n.fontSize,s.ascent=n.fontSize);var o=i.getContext("2d",Md);o.font=a;for(var u=(r?e.wordWrap(t,n,i):t).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),h=0,c=0;c<u.length;c++){var d=e._measureText(u[c],n.letterSpacing,o);l[c]=d,h=Math.max(h,d)}var f=h+n.strokeThickness;n.dropShadow&&(f+=n.dropShadowDistance);var p=n.lineHeight||s.fontSize+n.strokeThickness,v=Math.max(p,s.fontSize+2*n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(v+=n.dropShadowDistance),new e(t,n,f,v,u,l,p+n.leading,h,s)}},{key:"_measureText",value:function(t,n,r){var i=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(r.letterSpacing="".concat(n,"px"),r.textLetterSpacing="".concat(n,"px"),i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));var a=r.measureText(t).width;return a>0&&(i?a-=n:a+=(e.graphemeSegmenter(t).length-1)*n),a}},{key:"wordWrap",value:function(t,n){for(var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._canvas).getContext("2d",Md),i=0,a="",s="",o=Object.create(null),u=n.letterSpacing,l=n.whiteSpace,h=e.collapseSpaces(l),c=e.collapseNewlines(l),d=!h,f=n.wordWrapWidth+u,p=e.tokenize(t),v=0;v<p.length;v++){var m=p[v];if(e.isNewline(m)){if(!c){s+=e.addLine(a),d=!h,a="",i=0;continue}m=" "}if(h){var g=e.isBreakingSpace(m),y=e.isBreakingSpace(a[a.length-1]);if(g&&y)continue}var _=e.getFromCache(m,u,o,r);if(_>f)if(""!==a&&(s+=e.addLine(a),a="",i=0),e.canBreakWords(m,n.breakWords))for(var b=e.wordWrapSplit(m),x=0;x<b.length;x++){for(var w=b[x],k=w,E=1;b[x+E];){var T=b[x+E];if(e.canBreakChars(k,T,m,x,n.breakWords))break;w+=T,k=T,E++}x+=E-1;var A=e.getFromCache(w,u,o,r);A+i>f&&(s+=e.addLine(a),d=!1,a="",i=0),a+=w,i+=A}else{a.length>0&&(s+=e.addLine(a),a="",i=0);var S=v===p.length-1;s+=e.addLine(m,!S),d=!1,a="",i=0}else _+i>f&&(d=!1,s+=e.addLine(a),a="",i=0),(a.length>0||!e.isBreakingSpace(m)||d)&&(a+=m,i+=_)}return s+=e.addLine(a,!1)}},{key:"addLine",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=e.trimRight(t),t=n?"".concat(t,"\n"):t}},{key:"getFromCache",value:function(t,n,r,i){var a=r[t];return"number"!==typeof a&&(a=e._measureText(t,n,i)+n,r[t]=a),a}},{key:"collapseSpaces",value:function(e){return"normal"===e||"pre-line"===e}},{key:"collapseNewlines",value:function(e){return"normal"===e}},{key:"trimRight",value:function(t){if("string"!==typeof t)return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}},{key:"isNewline",value:function(t){return"string"===typeof t&&e._newlines.includes(t.charCodeAt(0))}},{key:"isBreakingSpace",value:function(t,n){return"string"===typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}},{key:"tokenize",value:function(t){var n=[],r="";if("string"!==typeof t)return n;for(var i=0;i<t.length;i++){var a=t[i],s=t[i+1];e.isBreakingSpace(a,s)||e.isNewline(a)?(""!==r&&(n.push(r),r=""),n.push(a)):r+=a}return""!==r&&n.push(r),n}},{key:"canBreakWords",value:function(e,t){return t}},{key:"canBreakChars",value:function(e,t,n,r,i){return!0}},{key:"wordWrapSplit",value:function(t){return e.graphemeSegmenter(t)}},{key:"measureFont",value:function(t){if(e._fonts[t])return e._fonts[t];var n={ascent:0,descent:0,fontSize:0},r=e._canvas,i=e._context;i.font=t;var a=e.METRICS_STRING+e.BASELINE_SYMBOL,s=Math.ceil(i.measureText(a).width),o=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),u=Math.ceil(e.HEIGHT_MULTIPLIER*o);if(o=o*e.BASELINE_MULTIPLIER|0,0===s||0===u)return e._fonts[t]=n,n;r.width=s,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,s,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,o);var l=i.getImageData(0,0,s,u).data,h=l.length,c=4*s,d=0,f=0,p=!1;for(d=0;d<o;++d){for(var v=0;v<c;v+=4)if(255!==l[f+v]){p=!0;break}if(p)break;f+=c}for(n.ascent=o-d,f=h-c,p=!1,d=u;d>o;--d){for(var m=0;m<c;m+=4)if(255!==l[f+m]){p=!0;break}if(p)break;f-=c}return n.descent=d-o,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n}},{key:"clearMetrics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?delete e._fonts[t]:e._fonts={}}},{key:"_canvas",get:function(){if(!e.__canvas){var t;try{var n=new OffscreenCanvas(0,0),r=n.getContext("2d",Md);if(null!==r&&void 0!==r&&r.measureText)return e.__canvas=n,n;t=Mi.ADAPTER.createCanvas()}catch(i){t=Mi.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas}},{key:"_context",get:function(){return e.__context||(e.__context=e._canvas.getContext("2d",Md)),e.__context}}]),e}(),Dd=Od;Dd.METRICS_STRING="|\xc9q\xc5",Dd.BASELINE_SYMBOL="M",Dd.BASELINE_MULTIPLIER=1.4,Dd.HEIGHT_MULTIPLIER=2,Dd.graphemeSegmenter=function(){var e;if("function"===typeof(null===(e=Intl)||void 0===e?void 0:e.Segmenter)){var t=new Intl.Segmenter;return function(e){return Xu(t.segment(e)).map((function(e){return e.segment}))}}return function(e){return Xu(e)}}(),Dd.experimentalLetterSpacing=!1,Dd._fonts={},Dd._newlines=[10,13],Dd._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Nd=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Bd=function(){function e(t){o(this,e),this.styleID=0,this.reset(),Ud(this,t,t)}return s(e,[{key:"clone",value:function(){var t={};return Ud(t,this,e.defaultStyle),new e(t)}},{key:"reset",value:function(){Ud(this,e.defaultStyle,e.defaultStyle)}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){var t=Fd(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){var t=Fd(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){var t=Fd(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}},{key:"toFontString",value:function(){var e="number"===typeof this.fontSize?"".concat(this.fontSize,"px"):this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;n>=0;n--){var r=t[n].trim();/([\"\'])[^\'\"]+\1/.test(r)||Nd.includes(r)||(r='"'.concat(r,'"')),t[n]=r}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(t.join(","))}}]),e}(),Ld=Bd;function Fd(e){var t=Ua.shared;return Array.isArray(e)?e.map((function(e){return t.setValue(e).toHex()})):t.setValue(e).toHex()}function Ud(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}Ld.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Id.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};var Gd={texture:!0,children:!1,baseTexture:!0},zd=function(e){cs(n,e);var t=ds(n);function n(e,r,i){var a,s;o(this,n);var u=!1;i||(i=Mi.ADAPTER.createCanvas(),u=!0),i.width=3,i.height=3;var l=Yo.from(i);return l.orig=new Xs,l.trim=new Xs,(s=t.call(this,l))._ownCanvas=u,s.canvas=i,s.context=i.getContext("2d",{willReadFrequently:!0}),s._resolution=null!==(a=n.defaultResolution)&&void 0!==a?a:Mi.RESOLUTION,s._autoResolution=n.defaultAutoResolution,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=e,s.style=r,s.localStyleID=-1,s}return s(n,[{key:"updateText",value:function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var n,r,i=this.context,a=Dd.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=a.width,o=a.height,u=a.lines,l=a.lineHeight,h=a.lineWidths,c=a.maxLineWidth,d=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*t.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit;for(var f=t.dropShadow?2:1,p=0;p<f;++p){var v=t.dropShadow&&0===p,m=v?Math.ceil(Math.max(1,o)+2*t.padding):0,g=m*this._resolution;if(v){i.fillStyle="black",i.strokeStyle="black";var y=t.dropShadowColor,_=t.dropShadowBlur*this._resolution,b=t.dropShadowDistance*this._resolution;i.shadowColor=Ua.shared.setValue(y).setAlpha(t.dropShadowAlpha).toRgbaString(),i.shadowBlur=_,i.shadowOffsetX=Math.cos(t.dropShadowAngle)*b,i.shadowOffsetY=Math.sin(t.dropShadowAngle)*b+g}else i.fillStyle=this._generateFillStyle(t,u,a),i.strokeStyle=t.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var x=(l-d.fontSize)/2;l-d.fontSize<0&&(x=0);for(var w=0;w<u.length;w++)n=t.strokeThickness/2,r=t.strokeThickness/2+w*l+d.ascent+x,"right"===t.align?n+=c-h[w]:"center"===t.align&&(n+=(c-h[w])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(u[w],n+t.padding,r+t.padding-m,!0),t.fill&&this.drawLetterSpacing(u[w],n+t.padding,r+t.padding-m)}this.updateTexture()}}},{key:"drawLetterSpacing",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing,a=!1;if(Dd.experimentalLetterSpacingSupported&&(Dd.experimentalLetterSpacing?(this.context.letterSpacing="".concat(i,"px"),this.context.textLetterSpacing="".concat(i,"px"),a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===i||a)r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);else for(var s=t,o=Dd.graphemeSegmenter(e),u=this.context.measureText(e).width,l=0,h=0;h<o.length;++h){var c=o[h];r?this.context.strokeText(c,s,n):this.context.fillText(c,s,n);for(var d="",f=h+1;f<o.length;++f)d+=o[f];s+=u-(l=this.context.measureText(d).width)+i,u=l}}},{key:"updateTexture",value:function(){var e=this.canvas;if(this._style.trim){var t=as(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,a=n.baseTexture;n.trim.width=n._frame.width=e.width/this._resolution,n.trim.height=n._frame.height=e.height/this._resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),n.updateUvs(),this.dirty=!1}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),ls(us(n.prototype),"_render",this).call(this,e)}},{key:"updateTransform",value:function(){this.updateText(!0),ls(us(n.prototype),"updateTransform",this).call(this)}},{key:"getBounds",value:function(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),ls(us(n.prototype),"getBounds",this).call(this,e,t)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),ls(us(n.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_generateFillStyle",value:function(e,t,n){var r,i=e.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var a=e.dropShadow?e.dropShadowDistance:0,s=e.padding||0,o=this.canvas.width/this._resolution-a-2*s,u=this.canvas.height/this._resolution-a-2*s,l=i.slice(),h=e.fillGradientStops.slice();if(!h.length)for(var c=l.length+1,d=1;d<c;++d)h.push(d/c);if(l.unshift(i[0]),h.unshift(0),l.push(i[i.length-1]),h.push(1),e.fillGradientType===Id.LINEAR_VERTICAL){r=this.context.createLinearGradient(o/2,s,o/2,u+s);for(var f=n.fontProperties.fontSize+e.strokeThickness,p=0;p<t.length;p++){var v=n.lineHeight*(p-1)+f,m=n.lineHeight*p,g=m;p>0&&v>m&&(g=(m+v)/2);var y=m+f,_=n.lineHeight*(p+1),b=y;p+1<t.length&&_<y&&(b=(y+_)/2);for(var x=(b-g)/u,w=0;w<l.length;w++){var k=0;k="number"===typeof h[w]?h[w]:w/l.length;var E=Math.min(1,Math.max(0,g/u+k*x));E=Number(E.toFixed(5)),r.addColorStop(E,l[w])}}}else{r=this.context.createLinearGradient(s,u/2,o+s,u/2);for(var T=l.length+1,A=1,S=0;S<l.length;S++){var C=void 0;C="number"===typeof h[S]?h[S]:A/T,r.addColorStop(C,l[S]),A++}}return r}},{key:"destroy",value:function(e){"boolean"===typeof e&&(e={children:e}),e=Object.assign({},Gd,e),ls(us(n.prototype),"destroy",this).call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=Ya(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=Ya(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof Ld?e:new Ld(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}}],[{key:"experimentalLetterSpacing",get:function(){return Dd.experimentalLetterSpacing},set:function(e){sa("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Dd.experimentalLetterSpacing=e}}]),n}(Ol),jd=zd;jd.defaultAutoResolution=!0;var Hd=function(){function e(t){o(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return s(e,[{key:"beginFrame",value:function(){this.itemsLeft=this.maxItemsPerFrame}},{key:"allowedToUpload",value:function(){return this.itemsLeft-- >0}}]),e}();function Vd(e,t){var n,r=!1;if(null!==e&&void 0!==e&&null!==(n=e._textures)&&void 0!==n&&n.length)for(var i=0;i<e._textures.length;i++)if(e._textures[i]instanceof Yo){var a=e._textures[i].baseTexture;t.includes(a)||(t.push(a),r=!0)}return r}function Xd(e,t){if(e.baseTexture instanceof Cs){var n=e.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function Wd(e,t){if(e._texture&&e._texture instanceof Yo){var n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function Yd(e,t){return t instanceof jd&&(t.updateText(!0),!0)}function qd(e,t){if(t instanceof Ld){var n=t.toFontString();return Dd.measureFont(n),!0}return!1}function Kd(e,t){if(e instanceof jd){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);var n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function Zd(e,t){return e instanceof Ld&&(t.includes(e)||t.push(e),!0)}var Qd=function(){function e(t){var n=this;o(this,e),this.limiter=new Hd(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(Kd),this.registerFindHook(Zd),this.registerFindHook(Vd),this.registerFindHook(Xd),this.registerFindHook(Wd),this.registerUploadHook(Yd),this.registerUploadHook(qd)}return s(e,[{key:"upload",value:function(e){var t=this;return new Promise((function(n){e&&t.add(e),t.queue.length?(t.completes.push(n),t.ticking||(t.ticking=!0,nl.system.addOnce(t.tick,t,$u.UTILITY))):n()}))}},{key:"tick",value:function(){setTimeout(this.delayedTick,0)}},{key:"prepareItems",value:function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)nl.system.addOnce(this.tick,this,$u.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(var a=0,s=i.length;a<s;a++)i[a]()}}},{key:"registerFindHook",value:function(e){return e&&this.addHooks.push(e),this}},{key:"registerUploadHook",value:function(e){return e&&this.uploadHooks.push(e),this}},{key:"add",value:function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Rl)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}},{key:"destroy",value:function(){this.ticking&&nl.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}}]),e}(),Jd=Qd;function $d(e,t){return t instanceof Cs&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function ef(e,t){if(!(t instanceof xd))return!1;var n=t.geometry;t.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var a=r[i].style.texture;a&&$d(e,a.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function tf(e,t){return e instanceof xd&&(t.push(e),!0)}Jd.uploadsPerFrame=4,Object.defineProperties(Mi,{UPLOADS_PER_FRAME:{get:function(){return Jd.uploadsPerFrame},set:function(e){sa("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Jd.uploadsPerFrame=e}}});var nf=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).uploadHookHelper=r.renderer,r.registerFindHook(tf),r.registerUploadHook($d),r.registerUploadHook(ef),r}return s(n)}(Jd);nf.extension={name:"prepare",type:fs.RendererSystem},ms.add(nf);new Hs;var rf="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",af=new Zs,sf=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),r=t.call(this,e),e.runners.contextChange.add(os(r)),r.quad=new Qo,r.state=bs.for2d(),r}return s(n,[{key:"contextChange",value:function(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Co.from(rf,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?Co.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):Co.from(rf,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)}},{key:"render",value:function(e){var t=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y);var i=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;(r=n.uvs)[0]=r[6]=-i,r[1]=r[3]=-a,r[2]=r[4]=1-i,r[5]=r[7]=1-a,n.invalidate();var s=e._texture,o=s.baseTexture,u=o.alphaMode>0,l=e.tileTransform.localTransform,h=e.uvMatrix,c=o.isPowerOfTwo&&s.frame.width===o.width&&s.frame.height===o.height;c&&(o._glTextures[t.CONTEXT_UID]?c=o.wrapMode!==wi.CLAMP:o.wrapMode===wi.CLAMP&&(o.wrapMode=wi.REPEAT));var d=c?this.simpleShader:this.shader,f=s.width,p=s.height,v=e._width,m=e._height;af.set(l.a*f/v,l.b*f/m,l.c*p/v,l.d*p/m,l.tx/v,l.ty/m),af.invert(),c?af.prepend(h.mapCoord):(d.uniforms.uMapCoord=h.mapCoord.toArray(!0),d.uniforms.uClampFrame=h.uClampFrame,d.uniforms.uClampOffset=h.uClampOffset),d.uniforms.uTransform=af.toArray(!0),d.uniforms.uColor=Ua.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(d.uniforms.uColor),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=s,t.shader.bind(d),t.geometry.bind(n),this.state.blendMode=za(e.blendMode,u),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}]),n}(Io);sf.extension={name:"tilingSprite",type:fs.RendererPlugin},ms.add(sf);var of=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o(this,e),this.linkedSheets=[],this._texture=t instanceof Yo?t:null,this.baseTexture=t instanceof Cs?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=n;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return s(e,[{key:"_updateResolution",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.data.meta.scale,n=ss(e,null);return null===n&&(n=parseFloat(null!==t&&void 0!==t?t:"1")),1!==n&&this.baseTexture.setResolution(n),n}},{key:"parse",value:function(){var t=this;return new Promise((function(n){t._callback=n,t._batchIndex=0,t._frameKeys.length<=e.BATCH_SIZE?(t._processFrames(0),t._processAnimations(),t._parseComplete()):t._nextBatch()}))}},{key:"_processFrames",value:function(t){for(var n=t,r=e.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],a=this._frames[i],s=a.frame;if(s){var o=null,u=null,l=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,h=new Xs(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);o=a.rotated?new Xs(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new Xs(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(u=new Xs(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new Yo(this.baseTexture,o,h,u,a.rotated?2:0,a.anchor,a.borders),Yo.addToCache(this.textures[i],i)}n++}}},{key:"_processAnimations",value:function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var n=0;n<e[t].length;n++){var r=e[t][n];this.animations[t].push(this.textures[r])}}}},{key:"_parseComplete",value:function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}},{key:"_nextBatch",value:function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)}},{key:"destroy",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var n in this.textures)this.textures[n].destroy();(this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t)&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy());this._texture=null,this.baseTexture=null,this.linkedSheets=[]}}]),e}(),uf=of;uf.BATCH_SIZE=1e3;var lf=["jpg","png","jpeg","avif","webp"];function hf(e,t,n){var r={};if(e.forEach((function(e){r[e]=t})),Object.keys(t.textures).forEach((function(e){r[e]=t.textures[e]})),!n){var i=ia.dirname(e[0]);t.linkedSheets.forEach((function(e,n){var a=hf(["".concat(i,"/").concat(t.data.meta.related_multi_packs[n])],e,!0);Object.assign(r,a)}))}return r}var cf={extension:fs.Asset,cache:{test:function(e){return e instanceof uf},getCacheableAssets:function(e,t){return hf(e,t,!1)}},resolver:{test:function(e){var t=e.split("?")[0].split("."),n=t.pop(),r=t.pop();return"json"===n&&lf.includes(r)},parse:function(e){var t,n,r=e.split(".");return{resolution:parseFloat(null!==(t=null===(n=Mi.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:r[r.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:fs.LoadParser,priority:yh.Normal},testParse:function(e,t){return _l(gl().mark((function n(){return gl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",".json"===ia.extname(t.src).toLowerCase()&&!!e.frames);case 1:case"end":return n.stop()}}),n)})))()},parse:function(e,t,n){return _l(gl().mark((function r(){var i,a,s,o,u,l,h,c,d,f,p,v,m,g;return gl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(a=ia.dirname(t.src))&&a.lastIndexOf("/")!==a.length-1&&(a+="/"),s=a+e.meta.image,s=nc(s,t.src),r.next=6,n.load([s]);case 6:return o=r.sent,u=o[s],l=new uf(u.baseTexture,e,t.src),r.next=11,l.parse();case 11:if(h=null===e||void 0===e||null===(i=e.meta)||void 0===i?void 0:i.related_multi_packs,!Array.isArray(h)){r.next=41;break}c=[],d=Vu(h),r.prev=15,d.s();case 17:if((f=d.n()).done){r.next=28;break}if("string"===typeof(v=f.value)){r.next=21;break}return r.abrupt("continue",26);case 21:if(m=a+v,null===(p=t.data)||void 0===p||!p.ignoreMultiPack){r.next=24;break}return r.abrupt("continue",26);case 24:m=nc(m,t.src),c.push(n.load({src:m,data:{ignoreMultiPack:!0}}));case 26:r.next=17;break;case 28:r.next=33;break;case 30:r.prev=30,r.t0=r.catch(15),d.e(r.t0);case 33:return r.prev=33,d.f(),r.finish(33);case 36:return r.next=38,Promise.all(c);case 38:g=r.sent,l.linkedSheets=g,g.forEach((function(e){e.linkedSheets=[l].concat(l.linkedSheets.filter((function(t){return t!==e})))}));case 41:return r.abrupt("return",l);case 42:case"end":return r.stop()}}),r,null,[[15,30,33,36]])})))()},unload:function(e){e.destroy(!0)}}};ms.add(cf);var df=s((function e(){o(this,e),this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]})),ff=function(){function e(){o(this,e)}return s(e,null,[{key:"test",value:function(e){return"string"===typeof e&&e.startsWith("info face=")}},{key:"parse",value:function(e){var t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in t){var i=t[r].match(/^[a-z]+/gm)[0],a=t[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var o in a){var u=a[o].split("="),l=u[0],h=u[1].replace(/"/gm,""),c=parseFloat(h),d=isNaN(c)?h:c;s[l]=d}n[i].push(s)}var f=new df;return n.info.forEach((function(e){return f.info.push({face:e.face,size:parseInt(e.size,10)})})),n.common.forEach((function(e){return f.common.push({lineHeight:parseInt(e.lineHeight,10)})})),n.page.forEach((function(e){return f.page.push({id:parseInt(e.id,10),file:e.file})})),n.char.forEach((function(e){return f.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),n.kerning.forEach((function(e){return f.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),n.distanceField.forEach((function(e){return f.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})})),f}}]),e}(),pf=function(){function e(){o(this,e)}return s(e,null,[{key:"test",value:function(e){var t=e;return"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")}},{key:"parse",value:function(e){for(var t=new df,n=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),o=e.getElementsByTagName("distanceField"),u=0;u<n.length;u++)t.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(var l=0;l<r.length;l++)t.common.push({lineHeight:parseInt(r[l].getAttribute("lineHeight"),10)});for(var h=0;h<i.length;h++)t.page.push({id:parseInt(i[h].getAttribute("id"),10)||0,file:i[h].getAttribute("file")});for(var c=0;c<a.length;c++){var d=a[c];t.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var f=0;f<s.length;f++)t.kerning.push({first:parseInt(s[f].getAttribute("first"),10),second:parseInt(s[f].getAttribute("second"),10),amount:parseInt(s[f].getAttribute("amount"),10)});for(var p=0;p<o.length;p++)t.distanceField.push({fieldType:o[p].getAttribute("fieldType"),distanceRange:parseInt(o[p].getAttribute("distanceRange"),10)});return t}}]),e}(),vf=function(){function e(){o(this,e)}return s(e,null,[{key:"test",value:function(e){return!("string"!==typeof e||!e.includes("<font>"))&&pf.test(Mi.ADAPTER.parseXML(e))}},{key:"parse",value:function(e){return pf.parse(Mi.ADAPTER.parseXML(e))}}]),e}(),mf=[ff,pf,vf];function gf(e,t,n,r,i,a,s){var o=n.text,u=n.fontProperties;t.translate(r,i),t.scale(a,a);var l=s.strokeThickness/2,h=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function(e,t,n,r,i,a){var s,o=n.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var u=n.dropShadow?n.dropShadowDistance:0,l=n.padding||0,h=e.width/r-u-2*l,c=e.height/r-u-2*l,d=o.slice(),f=n.fillGradientStops.slice();if(!f.length)for(var p=d.length+1,v=1;v<p;++v)f.push(v/p);if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),n.fillGradientType===Id.LINEAR_VERTICAL){s=t.createLinearGradient(h/2,l,h/2,c+l);for(var m=0,g=(a.fontProperties.fontSize+n.strokeThickness)/c,y=0;y<i.length;y++)for(var _=a.lineHeight*y,b=0;b<d.length;b++){var x=_/c+("number"===typeof f[b]?f[b]:b/d.length)*g,w=Math.max(m,x);w=Math.min(w,1),s.addColorStop(w,d[b]),m=w}}else{s=t.createLinearGradient(l,c/2,h+l,c/2);for(var k=d.length+1,E=1,T=0;T<d.length;T++){var A=void 0;A="number"===typeof f[T]?f[T]:E/k,s.addColorStop(A,d[T]),E++}}return s}(e,t,s,a,[o],n),t.strokeStyle=s.stroke,s.dropShadow){var c=s.dropShadowColor,d=s.dropShadowBlur*a,f=s.dropShadowDistance*a;t.shadowColor=Ua.shared.setValue(c).setAlpha(s.dropShadowAlpha).toRgbaString(),t.shadowBlur=d,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*f,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*f}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(o,l,h+n.lineHeight-u.descent),s.fill&&t.fillText(o,l,h+n.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function yf(e){return Array.from?Array.from(e):e.split("")}function _f(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var bf=["chars","padding","resolution","textureWidth","textureHeight"],xf=function(){function e(t,n,r){var i,a;o(this,e);var s=la(t.info,1)[0],u=la(t.common,1)[0],l=la(t.page,1)[0],h=la(t.distanceField,1)[0],c=ss(l.file),d={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=u.lineHeight/c,this.chars={},this.pageTextures=d;for(var f=0;f<t.page.length;f++){var p=t.page[f],v=p.id,m=p.file;d[v]=n instanceof Array?n[f]:n[m],null!==h&&void 0!==h&&h.fieldType&&"none"!==h.fieldType&&(d[v].baseTexture.alphaMode=Ei.NO_PREMULTIPLIED_ALPHA,d[v].baseTexture.mipmap=ki.OFF)}for(var g=0;g<t.char.length;g++){var y=t.char[g],_=y.id,b=y.page,x=t.char[g],w=x.x,k=x.y,E=x.width,T=x.height,A=x.xoffset,S=x.yoffset,C=x.xadvance;k/=c,E/=c,T/=c,A/=c,S/=c,C/=c;var P=new Xs((w/=c)+d[b].frame.x/c,k+d[b].frame.y/c,E,T);this.chars[_]={xOffset:A,yOffset:S,xAdvance:C,kerning:{},texture:new Yo(d[b].baseTexture,P),page:b}}for(var R=0;R<t.kerning.length;R++){var I=t.kerning[R],M=I.first,O=I.second,D=I.amount;M/=c,O/=c,D/=c,this.chars[O]&&(this.chars[O].kerning[M]=D)}this.distanceFieldRange=null===h||void 0===h?void 0:h.distanceRange,this.distanceFieldType=null!==(i=null===h||void 0===h||null===(a=h.fieldType)||void 0===a?void 0:a.toLowerCase())&&void 0!==i?i:"none"}return s(e,[{key:"destroy",value:function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}}],[{key:"install",value:function(t,n,r){var i;if(t instanceof df)i=t;else{var a=function(e){for(var t=0;t<mf.length;t++)if(mf[t].test(e))return mf[t];return null}(t);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(t)}n instanceof Yo&&(n=[n]);var s=new e(i,n,r);return e.available[s.font]=s,s}},{key:"uninstall",value:function(t){var n=e.available[t];if(!n)throw new Error("No font found named '".concat(t,"'"));n.destroy(),delete e.available[t]}},{key:"from",value:function(t,n,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,r),a=i.chars,s=i.padding,o=i.resolution,u=i.textureWidth,l=i.textureHeight,h=bu(i,bf),c=function(e){"string"===typeof e&&(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(i.length,"."));var a=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<a)throw new Error("[BitmapFont]: Invalid character range.");for(var o=a,u=s;o<=u;o++)t.push(String.fromCharCode(o))}else t.push.apply(t,Xu(yf(i)))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(a),d=n instanceof Ld?n:new Ld(n),f=u,p=new df;p.info[0]={face:d.fontFamily,size:d.fontSize},p.common[0]={lineHeight:d.fontSize};for(var v,m,g,y=0,_=0,b=0,x=[],w=[],k=0;k<c.length;k++){v||((v=Mi.ADAPTER.createCanvas()).width=u,v.height=l,m=v.getContext("2d"),g=new Cs(v,hi({resolution:o},h)),x.push(g),w.push(new Yo(g)),p.page.push({id:w.length-1,file:""}));var E=c[k],T=Dd.measureText(E,d,!1,v),A=T.width,S=Math.ceil(T.height),C=Math.ceil(("italic"===d.fontStyle?2:1)*A);if(_>=l-S*o){if(0===_)throw new Error("[BitmapFont] textureHeight ".concat(l,"px is too small (fontFamily: '").concat(d.fontFamily,"', fontSize: ").concat(d.fontSize,"px, char: '").concat(E,"')"));--k,v=null,m=null,g=null,_=0,y=0,b=0}else if(b=Math.max(S+T.fontProperties.descent,b),C*o+y>=f){if(0===y)throw new Error("[BitmapFont] textureWidth ".concat(u,"px is too small (fontFamily: '").concat(d.fontFamily,"', fontSize: ").concat(d.fontSize,"px, char: '").concat(E,"')"));--k,_+=b*o,_=Math.ceil(_),y=0,b=0}else{gf(v,m,T,y,_,o,d);var P=_f(T.text);p.char.push({id:P,page:w.length-1,x:y/o,y:_/o,width:C,height:S,xoffset:0,yoffset:0,xadvance:A-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),y+=(C+2*s)*o,y=Math.ceil(y)}}for(var R=0,I=c.length;R<I;R++)for(var M=c[R],O=0;O<I;O++){var D=c[O],N=m.measureText(M).width,B=m.measureText(D).width,L=m.measureText(M+D).width-(N+B);L&&p.kerning.push({first:_f(M),second:_f(D),amount:L})}var F=new e(p,w,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=F,F}}]),e}(),wf=xf;wf.ALPHA=[["a","z"],["A","Z"]," "],wf.NUMERIC=[["0","9"]],wf.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],wf.ASCII=[[" ","~"]],wf.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:xf.ALPHANUMERIC},wf.available={};var kf=[],Ef=[],Tf=[],Af=function(e){cs(n,e);var t=ds(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,n),r=t.call(this);var a=Object.assign({},n.styleDefaults,i),s=a.align,u=a.tint,l=a.maxWidth,h=a.letterSpacing,c=a.fontName,d=a.fontSize;if(!wf.available[c])throw new Error('Missing BitmapFont "'.concat(c,'"'));return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=s,r._tintColor=new Ua(u),r._font=void 0,r._fontName=c,r._fontSize=d,r.text=e,r._maxWidth=l,r._maxLineHeight=0,r._letterSpacing=h,r._anchor=new ao((function(){r.dirty=!0}),os(r),0,0),r._roundPixels=Mi.ROUND_PIXELS,r.dirty=!0,r._resolution=Mi.RESOLUTION,r._autoResolution=!0,r._textureCache={},r}return s(n,[{key:"updateText",value:function(){for(var e=wf.available[this._fontName],t=this.fontSize,n=t/e.size,r=new Hs,i=[],a=[],s=[],o=yf(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),u=this._maxWidth*e.size/t,l="none"===e.distanceFieldType?kf:Ef,h=null,c=0,d=0,f=0,p=-1,v=0,m=0,g=0,y=0,_=0;_<o.length;_++){var b=o[_],x=_f(b);if(/(?:\s)/.test(b)&&(p=_,v=c,y++),"\r"!==b&&"\n"!==b){var w=e.chars[x];if(w){h&&w.kerning[h]&&(r.x+=w.kerning[h]);var k=Tf.pop()||{texture:Yo.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Hs};k.texture=w.texture,k.line=f,k.charCode=x,k.position.x=Math.round(r.x+w.xOffset+this._letterSpacing/2),k.position.y=Math.round(r.y+w.yOffset),k.prevSpaces=y,i.push(k),c=k.position.x+Math.max(w.xAdvance-w.xOffset,w.texture.orig.width),r.x+=w.xAdvance+this._letterSpacing,g=Math.max(g,w.yOffset+w.texture.height),h=x,-1!==p&&u>0&&r.x>u&&(Wa(i,1+p-++m,1+_-p),_=p,p=-1,a.push(v),s.push(i.length>0?i[i.length-1].prevSpaces:0),d=Math.max(d,v),f++,r.x=0,r.y+=e.lineHeight,h=null,y=0)}}else a.push(c),s.push(-1),d=Math.max(d,c),++f,++m,r.x=0,r.y+=e.lineHeight,h=null,y=0}var E=o[o.length-1];"\r"!==E&&"\n"!==E&&(/(?:\s)/.test(E)&&(c=v),a.push(c),d=Math.max(d,c),s.push(-1));for(var T=[],A=0;A<=f;A++){var S=0;"right"===this._align?S=d-a[A]:"center"===this._align?S=(d-a[A])/2:"justify"===this._align&&(S=s[A]<0?0:(d-a[A])/s[A]),T.push(S)}var C=i.length,P={},R=[],I=this._activePagesMeshData;l.push.apply(l,Xu(I));for(var M=0;M<C;M++){var O=i[M].texture,D=O.baseTexture.uid;if(!P[D]){var N=l.pop();if(!N){var B=new Sd,L=void 0,F=void 0;"none"===e.distanceFieldType?(L=new Cd(Yo.EMPTY),F=vi.NORMAL):(L=new Cd(Yo.EMPTY,{program:To.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),F=vi.NORMAL_NPM);var U=new Ad(B,L);U.blendMode=F,N={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:U,vertices:null,uvs:null,indices:null}}N.index=0,N.indexCount=0,N.vertexCount=0,N.uvsCount=0,N.total=0;var G=this._textureCache;G[D]=G[D]||new Yo(O.baseTexture),N.mesh.texture=G[D],N.mesh.tint=this._tintColor.value,R.push(N),P[D]=N}P[D].total++}for(var z=0;z<I.length;z++)R.includes(I[z])||this.removeChild(I[z].mesh);for(var j=0;j<R.length;j++)R[j].mesh.parent!==this&&this.addChild(R[j].mesh);for(var H in this._activePagesMeshData=R,P){var V,X=P[H],W=X.total;if(!((null===(V=X.indices)||void 0===V?void 0:V.length)>6*W)||X.vertices.length<2*Ad.BATCHABLE_SIZE)X.vertices=new Float32Array(8*W),X.uvs=new Float32Array(8*W),X.indices=new Uint16Array(6*W);else for(var Y=X.total,q=X.vertices,K=4*Y*2;K<q.length;K++)q[K]=0;X.mesh.size=6*W}for(var Z=0;Z<C;Z++){var Q=i[Z],J=Q.position.x+T[Q.line]*("justify"===this._align?Q.prevSpaces:1);this._roundPixels&&(J=Math.round(J));var $=J*n,ee=Q.position.y*n,te=Q.texture,ne=P[te.baseTexture.uid],re=te.frame,ie=te._uvs,ae=ne.index++;ne.indices[6*ae+0]=0+4*ae,ne.indices[6*ae+1]=1+4*ae,ne.indices[6*ae+2]=2+4*ae,ne.indices[6*ae+3]=0+4*ae,ne.indices[6*ae+4]=2+4*ae,ne.indices[6*ae+5]=3+4*ae,ne.vertices[8*ae+0]=$,ne.vertices[8*ae+1]=ee,ne.vertices[8*ae+2]=$+re.width*n,ne.vertices[8*ae+3]=ee,ne.vertices[8*ae+4]=$+re.width*n,ne.vertices[8*ae+5]=ee+re.height*n,ne.vertices[8*ae+6]=$,ne.vertices[8*ae+7]=ee+re.height*n,ne.uvs[8*ae+0]=ie.x0,ne.uvs[8*ae+1]=ie.y0,ne.uvs[8*ae+2]=ie.x1,ne.uvs[8*ae+3]=ie.y1,ne.uvs[8*ae+4]=ie.x2,ne.uvs[8*ae+5]=ie.y2,ne.uvs[8*ae+6]=ie.x3,ne.uvs[8*ae+7]=ie.y3}for(var se in this._textWidth=d*n,this._textHeight=(r.y+e.lineHeight)*n,P){var oe=P[se];if(0!==this.anchor.x||0!==this.anchor.y)for(var ue=0,le=this._textWidth*this.anchor.x,he=this._textHeight*this.anchor.y,ce=0;ce<oe.total;ce++)oe.vertices[ue++]-=le,oe.vertices[ue++]-=he,oe.vertices[ue++]-=le,oe.vertices[ue++]-=he,oe.vertices[ue++]-=le,oe.vertices[ue++]-=he,oe.vertices[ue++]-=le,oe.vertices[ue++]-=he;this._maxLineHeight=g*n;var de=oe.mesh.geometry.getBuffer("aVertexPosition"),fe=oe.mesh.geometry.getBuffer("aTextureCoord"),pe=oe.mesh.geometry.getIndex();de.data=oe.vertices,fe.data=oe.uvs,pe.data=oe.indices,de.update(),fe.update(),pe.update()}for(var ve=0;ve<i.length;ve++)Tf.push(i[ve]);this._font=e,this.dirty=!1}},{key:"updateTransform",value:function(){this.validate(),this.containerUpdateTransform()}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var t=wf.available[this._fontName],r=t.distanceFieldRange,i=t.distanceFieldType,a=t.size;if("none"!==i){var s,o=this.worldTransform,u=o.a,l=o.b,h=o.c,c=o.d,d=Math.sqrt(u*u+l*l),f=Math.sqrt(h*h+c*c),p=(Math.abs(d)+Math.abs(f))/2,v=this.fontSize/a,m=e._view.resolution,g=Vu(this._activePagesMeshData);try{for(g.s();!(s=g.n()).done;){s.value.mesh.shader.uniforms.uFWidth=p*r*v*m}}catch(y){g.e(y)}finally{g.f()}}ls(us(n.prototype),"_render",this).call(this,e)}},{key:"getLocalBounds",value:function(){return this.validate(),ls(us(n.prototype),"getLocalBounds",this).call(this)}},{key:"validate",value:function(){var e=wf.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){if(this.tint!==e){this._tintColor.setValue(e);for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)}},{key:"fontName",get:function(){return this._fontName},set:function(e){if(!wf.available[e])throw new Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}},{key:"fontSize",get:function(){var e;return null!==(e=this._fontSize)&&void 0!==e?e:wf.available[this._fontName].size},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}},{key:"anchor",get:function(){return this._anchor},set:function(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}},{key:"text",get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}},{key:"destroy",value:function(e){var t=this._textureCache,r="none"===wf.available[this._fontName].distanceFieldType?kf:Ef;r.push.apply(r,Xu(this._activePagesMeshData));var i,a=Vu(this._activePagesMeshData);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.removeChild(s.mesh)}}catch(u){a.e(u)}finally{a.f()}for(var o in this._activePagesMeshData=[],r.filter((function(e){return t[e.mesh.texture.baseTexture.uid]})).forEach((function(e){e.mesh.texture=Yo.EMPTY})),t){t[o].destroy(),delete t[o]}this._font=null,this._tintColor=null,this._textureCache=null,ls(us(n.prototype),"destroy",this).call(this,e)}}]),n}(Rl);Af.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};var Sf=[".xml",".fnt"],Cf={extension:{type:fs.LoadParser,priority:yh.Normal},name:"loadBitmapFont",test:function(e){return Sf.includes(ia.extname(e).toLowerCase())},testParse:function(e){return _l(gl().mark((function t(){return gl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ff.test(e)||vf.test(e));case 1:case"end":return t.stop()}}),t)})))()},parse:function(e,t,n){return _l(gl().mark((function r(){var i,a,s,o,u,l,h,c,d;return gl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(i=ff.test(e)?ff.parse(e):vf.parse(e),a=t.src,s=i.page,o=[],u=0;u<s.length;++u)l=s[u].file,h=ia.join(ia.dirname(a),l),h=nc(h,a),o.push(h);return r.next=7,n.load(o);case 7:return c=r.sent,d=o.map((function(e){return c[e]})),r.abrupt("return",wf.install(i,d,!0));case 10:case"end":return r.stop()}}),r)})))()},load:function(e,t){return _l(gl().mark((function t(){var n;return gl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mi.ADAPTER.fetch(e);case 2:return n=t.sent,t.abrupt("return",n.text());case 4:case"end":return t.stop()}}),t)})))()},unload:function(e){e.destroy()}};ms.add(Cf);var Pf=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments))._fonts=[],e._overrides=[],e._stylesheet="",e.fontsDirty=!1,e}return s(n,[{key:"cleanFonts",value:function(){this._fonts.length>0&&(this._fonts.forEach((function(e){URL.revokeObjectURL(e.src),e.refs--,0===e.refs&&(e.fontFace&&document.fonts.delete(e.fontFace),delete n.availableFonts[e.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}},{key:"loadFont",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.availableFonts;if(i[e]){var a=i[e];return this._fonts.push(a),a.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Mi.ADAPTER.fetch(e).then((function(e){return e.blob()})).then(function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=URL.createObjectURL(t),i=new FileReader;i.onload=function(){return e([r,i.result])},i.onerror=n,i.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var n=_l(gl().mark((function n(a){var s,o,u,l,h;return gl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=la(a,2),o=s[0],u=s[1],l=Object.assign({family:ia.basename(e,ia.extname(e)),weight:"normal",style:"normal",src:o,dataSrc:u,refs:1,originalUrl:e,fontFace:null},r),i[e]=l,t._fonts.push(l),t.styleID++,h=new FontFace(l.family,"url(".concat(l.src,")"),{weight:l.weight,style:l.style}),l.fontFace=h,n.next=9,h.load();case 9:return document.fonts.add(h),n.next=12,document.fonts.ready;case 12:t.styleID++,t.fontsDirty=!0;case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"addOverride",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,a=n.filter((function(t){return!e._overrides.includes(t)}));a.length>0&&((i=this._overrides).push.apply(i,Xu(a)),this.styleID++)}},{key:"removeOverride",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter((function(t){return e._overrides.includes(t)}));i.length>0&&(this._overrides=this._overrides.filter((function(e){return!i.includes(e)})),this.styleID++)}},{key:"toCSS",value:function(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace)].concat(Xu(this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[]),Xu(this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[]),Xu(this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[]),Xu(this.dropShadow?[this.dropShadowToCSS()]:[]),Xu(this._overrides)).join(";")}},{key:"toGlobalCSS",value:function(){return this._fonts.reduce((function(e,t){return"".concat(e,'\n            @font-face {\n                font-family: "').concat(t.family,"\";\n                src: url('").concat(t.dataSrc,"');\n                font-weight: ").concat(t.weight,";\n                font-style: ").concat(t.style,"; \n            }")}),this._stylesheet)}},{key:"stylesheet",get:function(){return this._stylesheet},set:function(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}},{key:"normalizeColor",value:function(e){var t,n;return Array.isArray(e)&&(t=e,sa("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),e=Ua.shared.setValue(t).toNumber()),"number"===typeof e?(n=e,sa("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ua.shared.setValue(n).toHex()):e}},{key:"dropShadowToCSS",value:function(){var e=this.normalizeColor(this.dropShadowColor),t=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),r=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));var i="".concat(n,"px ").concat(r,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(i," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(i," ").concat(e)}},{key:"reset",value:function(){Object.assign(this,n.defaultOptions)}},{key:"onBeforeDraw",value:function(){var e=this.fontsDirty;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise((function(e){return setTimeout(e,100)})):Promise.resolve()}},{key:"isSafari",get:function(){var e=Mi.ADAPTER.getNavigator().userAgent;return/^((?!chrome|android).)*safari/i.test(e)}},{key:"fillGradientStops",get:function(){return ls(us(n.prototype),"fillGradientStops",this)},set:function(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}},{key:"fillGradientType",get:function(){return ls(us(n.prototype),"fillGradientType",this)},set:function(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}},{key:"miterLimit",get:function(){return ls(us(n.prototype),"miterLimit",this)},set:function(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}},{key:"trim",get:function(){return ls(us(n.prototype),"trim",this)},set:function(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}},{key:"textBaseline",get:function(){return ls(us(n.prototype),"textBaseline",this)},set:function(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}},{key:"leading",get:function(){return ls(us(n.prototype),"leading",this)},set:function(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}},{key:"lineJoin",get:function(){return ls(us(n.prototype),"lineJoin",this)},set:function(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}}],[{key:"from",value:function(e){return new n(Object.keys(n.defaultOptions).reduce((function(t,n){return hi(hi({},t),{},ui({},n,e[n]))}),{}))}}]),n}(Ld),Rf=Pf;Rf.availableFonts={},Rf.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};var If=function(e){cs(n,e);var t=ds(n);function n(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,n),(r=t.call(this,Yo.EMPTY))._text=null,r._style=null,r._autoResolution=!0,r._loading=!1,r.localStyleID=-1,r.dirty=!1,r.ownsStyle=!1;var s=new Image,u=Yo.from(s,{scaleMode:Mi.SCALE_MODE,resourceOptions:{autoLoad:!1}});u.orig=new Xs,u.trim=new Xs,r.texture=u;var l="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xhtml",c=document.createElementNS(l,"svg"),d=document.createElementNS(l,"foreignObject"),f=document.createElementNS(h,"div"),p=document.createElementNS(h,"style");return d.setAttribute("width","10000"),d.setAttribute("height","10000"),d.style.overflow="hidden",c.appendChild(d),r.maxWidth=n.defaultMaxWidth,r.maxHeight=n.defaultMaxHeight,r._domElement=f,r._styleElement=p,r._svgRoot=c,r._foreignObject=d,r._foreignObject.appendChild(p),r._foreignObject.appendChild(f),r._image=s,r._loadImage=new Image,r._autoResolution=n.defaultAutoResolution,r._resolution=null!==(e=n.defaultResolution)&&void 0!==e?e:Mi.RESOLUTION,r.text=i,r.style=a,r}return s(n,[{key:"measureText",value:function(e){var t=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e),n=t.text,r=t.style,i=t.resolution;Object.assign(this._domElement,{innerHTML:n,style:r.toCSS(i)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);var a=this._domElement.getBoundingClientRect();this._svgRoot.remove();var s,o,u=Math.min(this.maxWidth,Math.ceil(a.width)),l=Math.min(this.maxHeight,Math.ceil(a.height));(this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",l.toString()),n!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style)&&(Object.assign(this._domElement,{style:null===(s=this._style)||void 0===s?void 0:s.toCSS(i)}),this._styleElement.textContent=null===(o=this._style)||void 0===o?void 0:o.toGlobalCSS());return{width:u+2*r.padding,height:l+2*r.padding}}},{key:"updateText",value:function(){var e=_l(gl().mark((function e(){var t,n,r,i,a,s,o,u=this,l=arguments;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(l.length>0&&void 0!==l[0])||l[0],n=this.style,r=this._image,i=this._loadImage,this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!t){e.next=5;break}return e.abrupt("return");case 5:if(a=this.measureText(),s=a.width,o=a.height,r.width=i.width=Math.ceil(Math.max(1,s)),r.height=i.height=Math.ceil(Math.max(1,o)),this._loading){e.next=12;break}return this._loading=!0,e.next=12,new Promise((function(e){i.onload=_l(gl().mark((function t(){return gl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.onBeforeDraw();case 2:u._loading=!1,r.src=i.src,i.onload=null,i.src="",u.updateTexture(),e();case 8:case"end":return t.stop()}}),t)})));var t=(new XMLSerializer).serializeToString(u._svgRoot);i.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(t))}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"source",get:function(){return this._image}},{key:"updateTexture",value:function(){var e=this.style,t=this.texture,n=this._image,r=this.resolution,i=e.padding,a=t.baseTexture;t.trim.width=t._frame.width=n.width/r,t.trim.height=t._frame.height=n.height/r,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-2*i,t.orig.height=t._frame.height-2*i,this._onTextureUpdate(),a.setRealSize(n.width,n.height,r),this.dirty=!1}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),ls(us(n.prototype),"_render",this).call(this,e)}},{key:"_renderCanvas",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),ls(us(n.prototype),"_renderCanvas",this).call(this,e)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),ls(us(n.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_onStyleChange",value:function(){this.dirty=!0}},{key:"destroy",value:function(e){var t,r,i,a;"boolean"===typeof e&&(e={children:e}),e=Object.assign({},n.defaultDestroyOptions,e),ls(us(n.prototype),"destroy",this).call(this,e);var s,o=null;this.ownsStyle&&(null===(s=this._style)||void 0===s||s.cleanFonts());this._style=o,null===(t=this._svgRoot)||void 0===t||t.remove(),this._svgRoot=o,null===(r=this._domElement)||void 0===r||r.remove(),this._domElement=o,null===(i=this._foreignObject)||void 0===i||i.remove(),this._foreignObject=o,null===(a=this._styleElement)||void 0===a||a.remove(),this._styleElement=o,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=o,this._image.src="",this._image=o}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution},set:function(e){this.updateText(!0);var t=Ya(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution},set:function(e){this.updateText(!0);var t=Ya(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){this._style!==e&&((e=e||{})instanceof Rf?(this.ownsStyle=!1,this._style=e):e instanceof Ld?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Rf.from(e)):(this.ownsStyle=!0,this._style=new Rf(e)),this.localStyleID=-1,this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(e){e=String(""===e||null===e||void 0===e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}},{key:"sanitiseText",value:function(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}}]),n}(Ol),Mf=If;Mf.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Mf.defaultMaxWidth=2024,Mf.defaultMaxHeight=2024,Mf.defaultAutoResolution=!0;var Of,Df=function(e){return e.height<800&&e.width/e.height>=2},Nf=10,Bf=function(e){return Df(e)?e.height/6:e.height/9},Lf=17,Ff=["drink","cafe","burger","star","music"],Uf=["blueGlow","lightGlow","lightpinkGlow","pinkGlow"],Gf=n.p+"static/media/burger.8c246a9b07f5c613878a.png",zf=n.p+"static/media/cafe.452c202e58486387dd89.png",jf=n.p+"static/media/drink.5cc5bc8966fe509ad70f.png",Hf=n.p+"static/media/music.4414f81ad936f67e6e0b.png",Vf=n.p+"static/media/star.cf7a87638f33051d8287.png",Xf=n.p+"static/media/light-glow.f997da09ce93c2d46552.png",Wf=n.p+"static/media/pink-glow.b7a98b1a411da16f8c68.png",Yf=n.p+"static/media/border-neon.5b66b569e1a3c373bbcb.png",qf=n.p+"static/media/play.6ebf2143924794b413d9.png",Kf=n.p+"static/media/check.6bb585e8c6dcc9d60ed9.png",Zf=n.p+"static/media/night.f1b25eaa15659e9dc6d9.jpg",Qf=n.p+"static/media/checkbox.f74662225f7150b0437f.png",Jf=n.p+"static/media/checkbox-checked.8bdf894315d30871960c.png";function $f(){return Of}var ep=0,tp=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),(r=t.call(this)).id=ep++,r.init(e),r}return s(n,[{key:"set",value:function(e,t){if(void 0===this[e])throw new Error("Property with name ".concat(e," does not exist."));switch(e){case"speed":this.speed=t;break;case"volume":this.volume=t;break;case"paused":this.paused=t;break;case"loop":this.loop=t;break;case"muted":this.muted=t}return this}},{key:"progress",get:function(){return this._source.currentTime/this._duration}},{key:"paused",get:function(){return this._paused},set:function(e){this._paused=e,this.refreshPaused()}},{key:"_onPlay",value:function(){this._playing=!0}},{key:"_onPause",value:function(){this._playing=!1}},{key:"init",value:function(e){this._playing=!1,this._duration=e.source.duration;var t=this._source=e.source.cloneNode(!1);t.src=e.parent.url,t.onplay=this._onPlay.bind(this),t.onpause=this._onPause.bind(this),e.context.on("refresh",this.refresh,this),e.context.on("refreshPaused",this.refreshPaused,this),this._media=e}},{key:"_internalStop",value:function(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())}},{key:"stop",value:function(){this._internalStop(),this._source&&this.emit("stop")}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e,this.refresh()}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.refresh()}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=e,this.refresh()}},{key:"muted",get:function(){return this._muted},set:function(e){this._muted=e,this.refresh()}},{key:"filters",get:function(){return console.warn("HTML Audio does not support filters"),null},set:function(e){console.warn("HTML Audio does not support filters")}},{key:"refresh",value:function(){var e=this._media.context,t=this._media.parent;this._source.loop=this._loop||t.loop;var n=e.volume*(e.muted?0:1),r=t.volume*(t.muted?0:1),i=this._volume*(this._muted?0:1);this._source.volume=i*n*r,this._source.playbackRate=this._speed*e.speed*t.speed}},{key:"refreshPaused",value:function(){var e=this._media.context,t=this._media.parent,n=this._paused||t.paused||e.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",n))}},{key:"play",value:function(e){var t=this,r=e.start,i=e.end,a=e.speed,s=e.loop,o=e.volume,u=e.muted;i&&console.assert(i>r,"End time is before start time"),this._speed=a,this._volume=o,this._loop=!!s,this._muted=u,this.refresh(),this.loop&&null!==i&&(console.warn('Looping not support when specifying an "end" time'),this.loop=!1),this._start=r,this._end=i||this._duration,this._start=Math.max(0,this._start-n.PADDING),this._end=Math.min(this._end+n.PADDING,this._duration),this._source.onloadedmetadata=function(){t._source&&(t._source.currentTime=r,t._source.onloadedmetadata=null,t.emit("progress",r,t._duration),nl.shared.add(t._onUpdate,t))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")}},{key:"_onUpdate",value:function(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()}},{key:"_onComplete",value:function(){nl.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)}},{key:"destroy",value:function(){nl.shared.remove(this._onUpdate,this),this.removeAllListeners();var e=this._source;e&&(e.onended=null,e.onplay=null,e.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)}},{key:"toString",value:function(){return"[HTMLAudioInstance id=".concat(this.id,"]")}}]),n}(Qi),np=tp;np.PADDING=.1;var rp=function(e){cs(n,e);var t=ds(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"init",value:function(e){this.parent=e,this._source=e.options.source||new Audio,e.url&&(this._source.src=e.url)}},{key:"create",value:function(){return new np(this)}},{key:"isPlayable",get:function(){return!!this._source&&4===this._source.readyState}},{key:"duration",get:function(){return this._source.duration}},{key:"context",get:function(){return this.parent.context}},{key:"filters",get:function(){return null},set:function(e){console.warn("HTML Audio does not support filters")}},{key:"destroy",value:function(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)}},{key:"source",get:function(){return this._source}},{key:"load",value:function(e){var t=this._source,n=this.parent;if(4!==t.readyState)if(n.url){t.src=n.url;var r=function(){s(),n.isLoaded=!0;var t=n.autoPlayStart();e&&e(null,n,t)},i=function(){s(),e&&e(new Error("Sound loading has been aborted"))},a=function(){s();var n="Failed to load audio element (code: ".concat(t.error.code,")");e?e(new Error(n)):console.error(n)},s=function(){t.removeEventListener("canplaythrough",r),t.removeEventListener("load",r),t.removeEventListener("abort",i),t.removeEventListener("error",a)};t.addEventListener("canplaythrough",r,!1),t.addEventListener("load",r,!1),t.addEventListener("abort",i,!1),t.addEventListener("error",a,!1),t.load()}else e(new Error("sound.url or sound.source must be set"));else{n.isLoaded=!0;var o=n.autoPlayStart();e&&setTimeout((function(){e(null,n,o)}),0)}}}]),n}(Qi),ip=function(){function e(t,n){o(this,e),this.parent=t,Object.assign(this,n),this.duration=this.end-this.start,console.assert(this.duration>0,"End time must be after start time")}return s(e,[{key:"play",value:function(e){return this.parent.play({complete:e,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})}},{key:"destroy",value:function(){this.parent=null}}]),e}(),ap=["ogg","oga","opus","m4a","mp3","mpeg","wav","aiff","wma","mid","caf"],sp={};!function(e){var t=hi({m4a:"audio/mp4",oga:"audio/ogg",opus:'audio/ogg; codecs="opus"',caf:'audio/x-caf; codecs="opus"'},e||{}),n=document.createElement("audio"),r={},i=/^no$/;ap.forEach((function(e){var a=n.canPlayType("audio/".concat(e)).replace(i,""),s=t[e]?n.canPlayType(t[e]).replace(i,""):"";r[e]=!!a||!!s})),Object.assign(sp,r)}();var op=function(){function e(){o(this,e)}return s(e,null,[{key:"setParamValue",value:function(e,t){if(e.setValueAtTime){var n=$f().context;e.setValueAtTime(t,n.audioContext.currentTime)}else e.value=t;return t}}]),e}(),up=0,lp=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),(r=t.call(this)).id=up++,r._media=null,r._paused=!1,r._muted=!1,r._elapsed=0,r.init(e),r}return s(n,[{key:"set",value:function(e,t){if(void 0===this[e])throw new Error("Property with name ".concat(e," does not exist."));switch(e){case"speed":this.speed=t;break;case"volume":this.volume=t;break;case"muted":this.muted=t;break;case"loop":this.loop=t;break;case"paused":this.paused=t}return this}},{key:"stop",value:function(){this._source&&(this._internalStop(),this.emit("stop"))}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e,this.refresh(),this._update(!0)}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.refresh()}},{key:"muted",get:function(){return this._muted},set:function(e){this._muted=e,this.refresh()}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=e,this.refresh()}},{key:"filters",get:function(){return this._filters},set:function(e){var t;this._filters&&(null===(t=this._filters)||void 0===t||t.filter((function(e){return e})).forEach((function(e){return e.disconnect()})),this._filters=null,this._source.connect(this._gain));this._filters=null!==e&&void 0!==e&&e.length?e.slice(0):null,this.refresh()}},{key:"refresh",value:function(){if(this._source){var e=this._media.context,t=this._media.parent;this._source.loop=this._loop||t.loop;var n=e.volume*(e.muted?0:1),r=t.volume*(t.muted?0:1),i=this._volume*(this._muted?0:1);op.setParamValue(this._gain.gain,i*r*n),op.setParamValue(this._source.playbackRate,this._speed*t.speed*e.speed),this.applyFilters()}}},{key:"applyFilters",value:function(){var e;if(null!==(e=this._filters)&&void 0!==e&&e.length){this._source.disconnect();var t=this._source;this._filters.forEach((function(e){t.connect(e.destination),t=e})),t.connect(this._gain)}}},{key:"refreshPaused",value:function(){var e=this._media.context,t=this._media.parent,n=this._paused||t.paused||e.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",n))}},{key:"play",value:function(e){var t=e.start,n=e.end,r=e.speed,i=e.loop,a=e.volume,s=e.muted,o=e.filters;n&&console.assert(n>t,"End time is before start time"),this._paused=!1;var u=this._media.nodes.cloneBufferSource(),l=u.source,h=u.gain;this._source=l,this._gain=h,this._speed=r,this._volume=a,this._loop=!!i,this._muted=s,this._filters=o,this.refresh();var c=this._source.buffer.duration;this._duration=c,this._end=n,this._lastUpdate=this._now(),this._elapsed=t,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=n,this._source.loopStart=t,this._source.start(0,t)):n?this._source.start(0,t,n-t):this._source.start(0,t),this.emit("start"),this._update(!0),this.enableTicker(!0)}},{key:"enableTicker",value:function(e){nl.shared.remove(this._updateListener,this),e&&nl.shared.add(this._updateListener,this)}},{key:"progress",get:function(){return this._progress}},{key:"paused",get:function(){return this._paused},set:function(e){this._paused=e,this.refreshPaused()}},{key:"destroy",value:function(){var e;this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),null===(e=this._filters)||void 0===e||e.forEach((function(e){return e.disconnect()})),this._filters=null,this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1}},{key:"toString",value:function(){return"[WebAudioInstance id=".concat(this.id,"]")}},{key:"_now",value:function(){return this._media.context.audioContext.currentTime}},{key:"_updateListener",value:function(){this._update()}},{key:"_update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._source){var t=this._now(),n=t-this._lastUpdate;if(n>0||e){var r=this._source.playbackRate.value;this._elapsed+=n*r,this._lastUpdate=t;var i,a=this._duration;if(this._source.loopStart){var s=this._source.loopEnd-this._source.loopStart;i=(this._source.loopStart+this._elapsed%s)/a}else i=this._elapsed%a/a;this._progress=i,this.emit("progress",this._progress,a)}}}},{key:"init",value:function(e){this._media=e,e.context.events.on("refresh",this.refresh,this),e.context.events.on("refreshPaused",this.refreshPaused,this)}},{key:"_internalStop",value:function(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect();try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}this._source=null}}},{key:"_onComplete",value:function(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.disconnect();try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}}this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)}}]),n}(Qi),hp=function(){function e(t,n){o(this,e),this._output=n,this._input=t}return s(e,[{key:"destination",get:function(){return this._input}},{key:"filters",get:function(){return this._filters},set:function(e){var t=this;if(this._filters&&(this._filters.forEach((function(e){e&&e.disconnect()})),this._filters=null,this._input.connect(this._output)),e&&e.length){this._filters=e.slice(0),this._input.disconnect();var n=null;e.forEach((function(e){null===n?t._input.connect(e.destination):n.connect(e.destination),n=e})),n.connect(this._output)}}},{key:"destroy",value:function(){this.filters=null,this._input=null,this._output=null}}]),e}(),cp=function(e){cs(n,e);var t=ds(n);function n(e){var r;o(this,n);var i=e.audioContext,a=i.createBufferSource(),s=i.createGain(),u=i.createAnalyser();return a.connect(u),u.connect(s),s.connect(e.destination),(r=t.call(this,u,s)).context=e,r.bufferSource=a,r.gain=s,r.analyser=u,r}return s(n,[{key:"script",get:function(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(n.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script}},{key:"destroy",value:function(){ls(us(n.prototype),"destroy",this).call(this),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null}},{key:"cloneBufferSource",value:function(){var e=this.bufferSource,t=this.context.audioContext.createBufferSource();t.buffer=e.buffer,op.setParamValue(t.playbackRate,e.playbackRate.value),t.loop=e.loop;var n=this.context.audioContext.createGain();return t.connect(n),n.connect(this.destination),{source:t,gain:n}}},{key:"bufferSize",get:function(){return this.script.bufferSize}}]),n}(hp),dp=cp;dp.BUFFER_SIZE=0;var fp=function(){function e(){o(this,e)}return s(e,[{key:"init",value:function(e){this.parent=e,this._nodes=new dp(this.context),this._source=this._nodes.bufferSource,this.source=e.options.source}},{key:"destroy",value:function(){this.parent=null,this._nodes.destroy(),this._nodes=null;try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}this._source=null,this.source=null}},{key:"create",value:function(){return new lp(this)}},{key:"context",get:function(){return this.parent.context}},{key:"isPlayable",get:function(){return!!this._source&&!!this._source.buffer}},{key:"filters",get:function(){return this._nodes.filters},set:function(e){this._nodes.filters=e}},{key:"duration",get:function(){return console.assert(this.isPlayable,"Sound not yet playable, no duration"),this._source.buffer.duration}},{key:"buffer",get:function(){return this._source.buffer},set:function(e){this._source.buffer=e}},{key:"nodes",get:function(){return this._nodes}},{key:"load",value:function(e){this.source?this._decode(this.source,e):this.parent.url?this._loadUrl(e):e?e(new Error("sound.url or sound.source must be set")):console.error("sound.url or sound.source must be set")}},{key:"_loadUrl",value:function(){var e=_l(gl().mark((function e(t){var n,r;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parent.url,e.next=3,Mi.ADAPTER.fetch(n);case 3:return r=e.sent,e.t0=this,e.next=7,r.arrayBuffer();case 7:e.t1=e.sent,e.t2=t,e.t0._decode.call(e.t0,e.t1,e.t2);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_decode",value:function(e,t){var n=this,r=function(e,r){if(e)t&&t(e);else{n.parent.isLoaded=!0,n.buffer=r;var i=n.parent.autoPlayStart();t&&t(null,n.parent,i)}};e instanceof AudioBuffer?r(null,e):this.parent.context.decode(e,r)}}]),e}(),pp=function(){function e(t,n){o(this,e),this.media=t,this.options=n,this._instances=[],this._sprites={},this.media.init(this);var r=n.complete;this._autoPlayOptions=r?{complete:r}:null,this.isLoaded=!1,this._preloadQueue=null,this.isPlaying=!1,this.autoPlay=n.autoPlay,this.singleInstance=n.singleInstance,this.preload=n.preload||this.autoPlay,this.url=Array.isArray(n.url)?this.preferUrl(n.url):n.url,this.speed=n.speed,this.volume=n.volume,this.loop=n.loop,n.sprites&&this.addSprites(n.sprites),this.preload&&this._preload(n.loaded)}return s(e,[{key:"preferUrl",value:function(e){var t=e.map((function(e){return{url:e,ext:ia.extname(e).slice(1)}})).sort((function(e,t){return ap.indexOf(e.ext)-ap.indexOf(t.ext)}));return la(t,1)[0].url}},{key:"context",get:function(){return $f().context}},{key:"pause",value:function(){return this.isPlaying=!1,this.paused=!0,this}},{key:"resume",value:function(){return this.isPlaying=this._instances.length>0,this.paused=!1,this}},{key:"paused",get:function(){return this._paused},set:function(e){this._paused=e,this.refreshPaused()}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e,this.refresh()}},{key:"filters",get:function(){return this.media.filters},set:function(e){this.media.filters=e}},{key:"addSprites",value:function(e,t){if("object"===typeof e){var n={};for(var r in e)n[r]=this.addSprites(r,e[r]);return n}console.assert(!this._sprites[e],"Alias ".concat(e," is already taken"));var i=new ip(this,t);return this._sprites[e]=i,i}},{key:"destroy",value:function(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null}},{key:"removeSprites",value:function(e){if(e){var t=this._sprites[e];void 0!==t&&(t.destroy(),delete this._sprites[e])}else for(var n in this._sprites)this.removeSprites(n);return this}},{key:"isPlayable",get:function(){return this.isLoaded&&this.media&&this.media.isPlayable}},{key:"stop",value:function(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(var e=this._instances.length-1;e>=0;e--)this._instances[e].stop();return this}},{key:"play",value:function(e,t){var n,r=this;"string"===typeof e?n={sprite:e,loop:this.loop,complete:t}:"function"===typeof e?(n={}).complete=e:n=e;if((n=hi({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},n||{})).sprite){var i=n.sprite;console.assert(!!this._sprites[i],"Alias ".concat(i," is not available"));var a=this._sprites[i];n.start=a.start+(n.start||0),n.end=a.end,n.speed=a.speed||1,n.loop=a.loop||n.loop,delete n.sprite}if(n.offset&&(n.start=n.offset),!this.isLoaded)return this._preloadQueue?new Promise((function(e){r._preloadQueue.push((function(){e(r.play(n))}))})):(this._preloadQueue=[],this.autoPlay=!0,this._autoPlayOptions=n,new Promise((function(e,t){r._preload((function(i,a,s){r._preloadQueue.forEach((function(e){return e()})),r._preloadQueue=null,i?t(i):(n.loaded&&n.loaded(i,a,s),e(s))}))})));(this.singleInstance||n.singleInstance)&&this._removeInstances();var s=this._createInstance();return this._instances.push(s),this.isPlaying=!0,s.once("end",(function(){n.complete&&n.complete(r),r._onComplete(s)})),s.once("stop",(function(){r._onComplete(s)})),s.play(n),s}},{key:"refresh",value:function(){for(var e=this._instances.length,t=0;t<e;t++)this._instances[t].refresh()}},{key:"refreshPaused",value:function(){for(var e=this._instances.length,t=0;t<e;t++)this._instances[t].refreshPaused()}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.refresh()}},{key:"muted",get:function(){return this._muted},set:function(e){this._muted=e,this.refresh()}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=e,this.refresh()}},{key:"_preload",value:function(e){this.media.load(e)}},{key:"instances",get:function(){return this._instances}},{key:"sprites",get:function(){return this._sprites}},{key:"duration",get:function(){return this.media.duration}},{key:"autoPlayStart",value:function(){var e;return this.autoPlay&&(e=this.play(this._autoPlayOptions)),e}},{key:"_removeInstances",value:function(){for(var e=this._instances.length-1;e>=0;e--)this._poolInstance(this._instances[e]);this._instances.length=0}},{key:"_onComplete",value:function(e){if(this._instances){var t=this._instances.indexOf(e);t>-1&&this._instances.splice(t,1),this.isPlaying=this._instances.length>0}this._poolInstance(e)}},{key:"_createInstance",value:function(){if(e._pool.length>0){var t=e._pool.pop();return t.init(this.media),t}return this.media.create()}},{key:"_poolInstance",value:function(t){t.destroy(),e._pool.indexOf(t)<0&&e._pool.push(t)}}],[{key:"from",value:function(t){var n={};return"string"===typeof t?n.url=t:t instanceof ArrayBuffer||t instanceof AudioBuffer||t instanceof HTMLAudioElement?n.source=t:Array.isArray(t)?n.url=t:n=t,n=hi({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},n),Object.freeze(n),new e($f().useLegacy?new rp:new fp,n)}}]),e}(),vp=pp;vp._pool=[];var mp=function(e){cs(n,e);var t=ds(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).speed=1,e.muted=!1,e.volume=1,e.paused=!1,e}return s(n,[{key:"refresh",value:function(){this.emit("refresh")}},{key:"refreshPaused",value:function(){this.emit("refreshPaused")}},{key:"filters",get:function(){return console.warn("HTML Audio does not support filters"),null},set:function(e){console.warn("HTML Audio does not support filters")}},{key:"audioContext",get:function(){return console.warn("HTML Audio does not support audioContext"),null}},{key:"toggleMute",value:function(){return this.muted=!this.muted,this.refresh(),this.muted}},{key:"togglePause",value:function(){return this.paused=!this.paused,this.refreshPaused(),this.paused}},{key:"destroy",value:function(){this.removeAllListeners()}}]),n}(Qi),gp=function(e){cs(n,e);var t=ds(n);function n(){var e;o(this,n);var r=window,i=new n.AudioContext,a=i.createDynamicsCompressor(),s=i.createAnalyser();return s.connect(a),a.connect(i.destination),(e=t.call(this,s,a))._ctx=i,e._offlineCtx=new n.OfflineAudioContext(1,2,r.OfflineAudioContext?Math.max(8e3,Math.min(96e3,i.sampleRate)):44100),e.compressor=a,e.analyser=s,e.events=new Qi,e.volume=1,e.speed=1,e.muted=!1,e.paused=!1,e._locked="suspended"===i.state&&("ontouchstart"in globalThis||"onclick"in globalThis),e._locked&&(e._unlock(),e._unlock=e._unlock.bind(os(e)),document.addEventListener("mousedown",e._unlock,!0),document.addEventListener("touchstart",e._unlock,!0),document.addEventListener("touchend",e._unlock,!0)),e.onFocus=e.onFocus.bind(os(e)),e.onBlur=e.onBlur.bind(os(e)),globalThis.addEventListener("focus",e.onFocus),globalThis.addEventListener("blur",e.onBlur),e}return s(n,[{key:"onFocus",value:function(){var e=this._ctx.state;"suspended"!==e&&"interrupted"!==e&&this._locked||this._ctx.resume()}},{key:"onBlur",value:function(){this._locked||this._ctx.suspend()}},{key:"_unlock",value:function(){this._locked&&(this.playEmptySound(),"running"===this._ctx.state&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._locked=!1))}},{key:"playEmptySound",value:function(){var e=this._ctx.createBufferSource();e.buffer=this._ctx.createBuffer(1,1,22050),e.connect(this._ctx.destination),e.start(0,0,0),"suspended"===e.context.state&&e.context.resume()}},{key:"destroy",value:function(){ls(us(n.prototype),"destroy",this).call(this);var e=this._ctx;"undefined"!==typeof e.close&&e.close(),globalThis.removeEventListener("focus",this.onFocus),globalThis.removeEventListener("blur",this.onBlur),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null}},{key:"audioContext",get:function(){return this._ctx}},{key:"offlineContext",get:function(){return this._offlineCtx}},{key:"paused",get:function(){return this._paused},set:function(e){e&&"running"===this._ctx.state?this._ctx.suspend():e||"suspended"!==this._ctx.state||this._ctx.resume(),this._paused=e}},{key:"refresh",value:function(){this.events.emit("refresh")}},{key:"refreshPaused",value:function(){this.events.emit("refreshPaused")}},{key:"toggleMute",value:function(){return this.muted=!this.muted,this.refresh(),this.muted}},{key:"togglePause",value:function(){return this.paused=!this.paused,this.refreshPaused(),this._paused}},{key:"decode",value:function(e,t){var n=function(e){t(new Error((null===e||void 0===e?void 0:e.message)||"Unable to decode file"))},r=this._offlineCtx.decodeAudioData(e,(function(e){t(null,e)}),n);r&&r.catch(n)}}],[{key:"AudioContext",get:function(){var e=window;return e.AudioContext||e.webkitAudioContext||null}},{key:"OfflineAudioContext",get:function(){var e=window;return e.OfflineAudioContext||e.webkitOfflineAudioContext||null}}]),n}(hp),yp=function(){function e(){o(this,e),this.init()}return s(e,[{key:"init",value:function(){return this.supported&&(this._webAudioContext=new gp),this._htmlAudioContext=new mp,this._sounds={},this.useLegacy=!this.supported,this}},{key:"context",get:function(){return this._context}},{key:"filtersAll",get:function(){return this.useLegacy?[]:this._context.filters},set:function(e){this.useLegacy||(this._context.filters=e)}},{key:"supported",get:function(){return null!==gp.AudioContext}},{key:"add",value:function(e,t){if("object"===typeof e){var n={};for(var r in e){var i=this._getOptions(e[r],t);n[r]=this.add(r,i)}return n}if(console.assert(!this._sounds[e],"Sound with alias ".concat(e," already exists.")),t instanceof vp)return this._sounds[e]=t,t;var a=this._getOptions(t),s=vp.from(a);return this._sounds[e]=s,s}},{key:"_getOptions",value:function(e,t){return hi(hi({},"string"===typeof e||Array.isArray(e)?{url:e}:e instanceof ArrayBuffer||e instanceof AudioBuffer||e instanceof HTMLAudioElement?{source:e}:e),t||{})}},{key:"useLegacy",get:function(){return this._useLegacy},set:function(e){this._useLegacy=e,this._context=!e&&this.supported?this._webAudioContext:this._htmlAudioContext}},{key:"remove",value:function(e){return this.exists(e,!0),this._sounds[e].destroy(),delete this._sounds[e],this}},{key:"volumeAll",get:function(){return this._context.volume},set:function(e){this._context.volume=e,this._context.refresh()}},{key:"speedAll",get:function(){return this._context.speed},set:function(e){this._context.speed=e,this._context.refresh()}},{key:"togglePauseAll",value:function(){return this._context.togglePause()}},{key:"pauseAll",value:function(){return this._context.paused=!0,this._context.refreshPaused(),this}},{key:"resumeAll",value:function(){return this._context.paused=!1,this._context.refreshPaused(),this}},{key:"toggleMuteAll",value:function(){return this._context.toggleMute()}},{key:"muteAll",value:function(){return this._context.muted=!0,this._context.refresh(),this}},{key:"unmuteAll",value:function(){return this._context.muted=!1,this._context.refresh(),this}},{key:"removeAll",value:function(){for(var e in this._sounds)this._sounds[e].destroy(),delete this._sounds[e];return this}},{key:"stopAll",value:function(){for(var e in this._sounds)this._sounds[e].stop();return this}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!!this._sounds[e];return t&&console.assert(n,"No sound matching alias '".concat(e,"'.")),n}},{key:"isPlaying",value:function(){for(var e in this._sounds)if(this._sounds[e].isPlaying)return!0;return!1}},{key:"find",value:function(e){return this.exists(e,!0),this._sounds[e]}},{key:"play",value:function(e,t){return this.find(e).play(t)}},{key:"stop",value:function(e){return this.find(e).stop()}},{key:"pause",value:function(e){return this.find(e).pause()}},{key:"resume",value:function(e){return this.find(e).resume()}},{key:"volume",value:function(e,t){var n=this.find(e);return void 0!==t&&(n.volume=t),n.volume}},{key:"speed",value:function(e,t){var n=this.find(e);return void 0!==t&&(n.speed=t),n.speed}},{key:"duration",value:function(e){return this.find(e).duration}},{key:"close",value:function(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this}}]),e}(),_p=function(){function e(t,n){o(this,e),this.init(t,n)}return s(e,[{key:"init",value:function(e,t){this.destination=e,this.source=t||e}},{key:"connect",value:function(e){var t;null===(t=this.source)||void 0===t||t.connect(e)}},{key:"disconnect",value:function(){var e;null===(e=this.source)||void 0===e||e.disconnect()}},{key:"destroy",value:function(){this.disconnect(),this.destination=null,this.source=null}}]),e}(),bp=function(e){cs(n,e);var t=ds(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;o(this,n);var p=[],v=[{f:n.F32,type:"lowshelf",gain:r},{f:n.F64,type:"peaking",gain:i},{f:n.F125,type:"peaking",gain:a},{f:n.F250,type:"peaking",gain:s},{f:n.F500,type:"peaking",gain:u},{f:n.F1K,type:"peaking",gain:l},{f:n.F2K,type:"peaking",gain:h},{f:n.F4K,type:"peaking",gain:c},{f:n.F8K,type:"peaking",gain:d},{f:n.F16K,type:"highshelf",gain:f}];$f().useLegacy||(p=v.map((function(e){var t=$f().context.audioContext.createBiquadFilter();return t.type=e.type,op.setParamValue(t.Q,1),t.frequency.value=e.f,op.setParamValue(t.gain,e.gain),t}))),(e=t.call(this,p[0],p[p.length-1])).bands=p,e.bandsMap={};for(var m=0;m<e.bands.length;m++){var g=e.bands[m];m>0&&e.bands[m-1].connect(g),e.bandsMap[g.frequency.value]=g}return e}return s(n,[{key:"setGain",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.bandsMap[e])throw new Error("No band found for frequency ".concat(e));op.setParamValue(this.bandsMap[e].gain,t)}},{key:"getGain",value:function(e){if(!this.bandsMap[e])throw new Error("No band found for frequency ".concat(e));return this.bandsMap[e].gain.value}},{key:"f32",get:function(){return this.getGain(n.F32)},set:function(e){this.setGain(n.F32,e)}},{key:"f64",get:function(){return this.getGain(n.F64)},set:function(e){this.setGain(n.F64,e)}},{key:"f125",get:function(){return this.getGain(n.F125)},set:function(e){this.setGain(n.F125,e)}},{key:"f250",get:function(){return this.getGain(n.F250)},set:function(e){this.setGain(n.F250,e)}},{key:"f500",get:function(){return this.getGain(n.F500)},set:function(e){this.setGain(n.F500,e)}},{key:"f1k",get:function(){return this.getGain(n.F1K)},set:function(e){this.setGain(n.F1K,e)}},{key:"f2k",get:function(){return this.getGain(n.F2K)},set:function(e){this.setGain(n.F2K,e)}},{key:"f4k",get:function(){return this.getGain(n.F4K)},set:function(e){this.setGain(n.F4K,e)}},{key:"f8k",get:function(){return this.getGain(n.F8K)},set:function(e){this.setGain(n.F8K,e)}},{key:"f16k",get:function(){return this.getGain(n.F16K)},set:function(e){this.setGain(n.F16K,e)}},{key:"reset",value:function(){this.bands.forEach((function(e){op.setParamValue(e.gain,0)}))}},{key:"destroy",value:function(){this.bands.forEach((function(e){e.disconnect()})),this.bands=null,this.bandsMap=null}}]),n}(_p),xp=bp;xp.F32=32,xp.F64=64,xp.F125=125,xp.F250=250,xp.F500=500,xp.F1K=1e3,xp.F2K=2e3,xp.F4K=4e3,xp.F8K=8e3,xp.F16K=16e3;var wp=function(e){var t,n,r=e.src;return null!==(t=null===e||void 0===e||null===(n=e.alias)||void 0===n?void 0:n[0])&&void 0!==t?t:ia.basename(r,ia.extname(r))},kp={extension:fs.Asset,detection:{test:function(){var e=_l(gl().mark((function e(){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(Xu(t),Xu(ap.filter((function(e){return sp[e]})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return t.includes(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},loader:{extension:{type:[fs.LoadParser],priority:yh.High},test:function(e){var t=ia.extname(e).slice(1);return!!sp[t]},load:function(e,t){return _l(gl().mark((function n(){var r;return gl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,r){return vp.from(hi(hi({},t.data),{},{url:e,preload:!0,loaded:function(e,i){var a,s;e?r(e):n(i),null===(a=t.data)||void 0===a||null===(s=a.loaded)||void 0===s||s.call(a,e,i)}}))}));case 2:return r=n.sent,$f().add(wp(t),r),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},unload:function(e,t){return _l(gl().mark((function e(){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$f().remove(wp(t));case 1:case"end":return e.stop()}}),e)})))()}}};ms.add(kp);var Ep=function(e){return Of=e,e}(new yp),Tp=function(){var e=_l(gl().mark((function e(){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ep.add("music",{url:"/slotGame/assets/sounds/SummerTown.mp3",volume:.2,loop:!0}),Ep.play("music"),Ep.add("neon",{url:"/slotGame/assets/sounds/neontube.wav"}),Ep.add("winSound",{url:"/slotGame/assets/sounds/win.mp3",volume:.2});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ap=function(){var e=_l(gl().mark((function e(){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wh.add("burger",Gf),Wh.add("cafe",zf),Wh.add("drink",jf),Wh.add("music",Hf),Wh.add("star",Vf),Ff.forEach(function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh.load(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Wh.add("blueGlow","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK0AAACtCAYAAADCr/9DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAGN9JREFUeJztnUtyHEeShr+IzKwCKBp6JHabNbTTYjakdnOFvoLOI+o8uoKu0DuRNmazkNksyDHrhtgNg/CoysiYhbtHeiaKFPXoJqMQP6wsq4pgIR9fef7h4RERcs40NdWk+KF3oKnpl6pB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21SdGrRN1alB21Sd+g+9A7UqBMJv/YycaSsP/go1aN9T9yDNwDe/AdyvyevPbBC/n0JbZvSwFkCtAX2hz7/S1y/fE96nDspvdfvMvfc12X9Sg/iwGrQrFVg9qB5SA/Tc4fXaPb84APATB9+5e/5anz8l34PYAdzgXapBqyqwPl9FVAP1FYH/QgC9IPDE/d4ZgcufibZnCt6lA/CCzBMy52T+CnxOLgD7CPxcnjd4RQ8+exACIQQCGQH2BYGnBCDyKZE3RCCyJfKajjM6ntBxRQf0XDOwpwd9nDDce0DPXh/X+vpKP+eMjtd0bPXvvNG/C5Gnuj/PZf/Kvj5wPdhIe9AGPCXwksA5YRFR50gaOSWQidwSuCVwUiCSAHB3AKotmQ2ZnUbKWzIn+ghM3JCBiTMyl+RFBH6t0fdlsw2mBwntPSvwgsAzByvEg6DaY6fvDwT2hLLt9fNGB26vYI1kBjJ7t4WJjYJrjzXAMBV4X5CLbXjAluFB2YO3WgG7Hdvt/4qOvd7qoeeGgX+yUcQ29Gzp2ZI5AU640W3mhJFT0Nfo60O/N3+GfO4/2XCjf+9ELceVsw9mV5pleDiR9l509VbgeyJPCFzREYl8RuRWQRl0m4lAzy2RTwj8pO/3GnUTgU4/ewB9ndnrDiTFM5EZNYJ+QuInMidMSHyegIk9CZg4IfEjExMTj0lckPmS6Z5leGBR90F0LpTo+o1G1pcE3hC4IHKmjaxTIrf0nNCR6ICOno69NpJGbXj1dNwR6YkMRPZEIoFIZCLQI8ACJMQejMBAJjMBmVMm9kzcMdEzkUnASEfS9xIjiUTiEYlbEqeMbJn4iYkLJt7oZz0l85zSWfEQwD36SHsP2O+IfK7R0R4ndBpZJQPQ03Gr246OnT6DnqgRFiITHbF8FhqNWXQRBIUoMDGpK0Yjqj0mhTaR2Oh2JHHCyKj/BiMnCrD/v6/I/IWJl2RrpB07uEcNbQjq/UDswBviwgr8iciNwjjQkdkw0jEy8EhhjXRMDAprj8Fq4AZCAXciFGA7JNICpRmHgpsduLFAOJbHpPBekzRRlgjs1DaMnJL428oyfKrgAjwnHzO4RwvtW4H9gsgl3b3oKo/N4nXvnk90ZHoyHR2RRCzboLCab44u0k4KTyYTFNiOicRUtoFEYFSABdzRQSyP3eK1Rd0zEj8wPSRwjxLad0TYjms6HtGxUQj32mLvGMgK7cRAr1sDNSjgWaOsgNppRI1EUCzvt+SD/ssECioEUom4QWHNJAfwnlG30kjbkfT5wJ7AyI7EtfreC9JDAffoGmLvjLD/p8BaFN0xAAMdA4mByLYAmxgU1gE0q2D2IBOZVhE2IvjxFmijIjpH3J6omYGoOCcmIiNJv1A9e0Z6InvNRkhkz5ob3hF4BFwDX5D5HvgSeKrgPieEI/S4RwWta3QdtgSRno3CumNgVGB3bOgYgC2RXt8XW5DoCXRMxEWUDQqPxdGEb3z5CjFBJulzeye4bIJYhI7ARKKnKxah00jbAYEdHRsio2tEbpCeuUsyX8A9cDWXe0zgHg2097IEa2Ch50yB7dUKJDZIpN0AGwIbJo2+U/G7HZmoUM2wgOCbFVGzB/C27IEgKv/PUKbkZoPGXTEQknKDXv+mQNtpPlj8tKTXdsAZsCNzCffA/QbIx5UOOwpoS8fBGtgnmme9LcBugQ2jQmqwCrADiS1zQ6wjqy1Y+thQfgzYrOgd8rOGiYcXZnCzop/pCepvJ5fxTfSIpxXLIP57R9IGIXTsiGyASwKnBJ6Q7oHL8YB7FA2x4mNfIF2y2+Jhe210DepfT4ANiS2DwprZEBlICrHZgU47FCTCWgNrBtcA9R3hh6AtO+lgmdx7gTkFFgrIiZ5E0o6HjpHEjo4dE3sCO2DHnh0dd0i8vWXDnh17rkn8mZEftAPjDRPPyMfSMKs+0i587LPSEApcukbXbAkGdgrspFE3MDCxIWi2IGqEHUuUDRoNA1baEvWv5AWK74Z2sdMYxPJ5FrMN3qj5g6AJNfsda+jZdgD2oEU3lo3IPELqdp/o3/hc9/ZI/G3V0B6wBYHXRK7o+KN6Q8sSZBdhDdhOfa20xeX2O5XoKmhag8tg9TEzl/d0h969u8AcZf27ARbw2qsZakNa9qUjlC4JqXOQ3C/AI6S2IZL5O5nHyGiJTwnHYhOqhhaYq7VAagmeEEtP16DAju72j/OzBqzkX8UvRrUDaForr2D1oBqk7xthAe0Zm//35F7NuAZNg825X3PEAclEzD1uslc7TZSZzbgl8yctdfxeo+4L4DmlwKZWVVuaWGwByNitcwJfaMveumZzSV/JI2rEDQqxAWuPUCq6ugWwBk5wwM4w/bKywPX/s3hu79nfW6bYlj13fv/Nk9sxjtohIiWVVokWOSeUgZj59xkC/6FUd6T9RqPsK218bYn8UbMFOGB3LsrG4mGXwPoCmkm7Eg5F118K6btknyWu2TonllE3ut/216sjlwIcSaYldkj546i5DClvzFyR+Z7IHfBmzib8bsfxb1aV0L618XVabIEUcY+ux8syBdbo8ikkiNromoH1kc8aXf8qzVHXGmeU17Y/Ecvz9vp/5Os0+9mkXcSJEanFDXTcMqlNCJxjI4erbpRVCS1wuPEl9bA9WaPqhg2wBbYEbYiFAvDaEviu2Tm6/ithXcvD66OugWuNM9k/8B4XpDZXetUk+o76mzdMXDHxGjgn+UbZv+3YfkdVB+0iJ2sR9sxFWbEFsweUNNZsA7KmtaQW1tfGRkIBZe40+BCSL4xE3axuerYs8hvS8ZG1By/T6bFOTAxafg6JQSPun0gMTLxGxsG9oNqesmobYqXxBZFXGimlYmAJrFVrJa3gCpqHtU6DpYed6wY+FLCm7L5AgHre2Xf746AA6493zorstCv6ksBnhDLRyG+Z1ukDqipoFxmDlxoxzpChLjamy0dZq9bqFFafHbCLv84QwIcH1uT3x+/n7HKX2YVOj9fXAY/q8TORazp+1PP2rHx2dZmE6uxByRh8SmCr9kAGIkbXsJojbXYQZy1EMYdoaS1WUHxMMqswzZCplZF/mbQ6LNKVOgVW52HPCHQ8IgFR51WQofMVetv6oAWxBm+gzFFwyzzmqyuFLr2W+dmog7n4RVyij7J8lMCaDFzbz6nsv/WPTVozkZDSSiurlGL3QLcoZ3zCxDlBR/RWp6rswUFrcIpNnDEPQkQvXC7Rx4q3O3yF1rtGG3yMWtsE+zGva9HW7MKg4I50PNLfOdXz9ppQJtOrKs5WBG0IBNeZIFMWXSJp+Tv1bKOCO3fHWvledD4wlO0ago9Z6/30xxH0LmIDLqNmRixDIl/mObV3qecPzCJUNeFHffZgbQ0ykccrPxsXEXb2sgEb+LK0BTVpbozlAm7QI7FsgqT5lt7WGmT/IHFSt0WoD9qXzLnZPYEbAoM2xMTBzhFH7MHs5eyWaqV9voi7Bs0FjPNt3Zpkc/lkVxpoc7SV4x+QCfNOkbo2y9lWZhDqijM2ubG3BhZtP8FyrvMt0myBH3Hg6wjqOvr78t7W1074h+9AucYKipbz6b6o5EurquKyLfKzrwj8J3CFDOjb6AX7Cd+71ZX5CKyRsh5xYKolyprWNbz2nv/BfZnjCugN8/SkF9o+UNXia+uyB97PPlZoxb3ZNJv3I80cXX2//WwNatXaIljeORRglwMxLW9ic+t+ov/nHPhOP6eS81FFpAXudzlea8SweWE7B61FnHm07OExXcckf5zZHf/9LzLInWk+n19RVZdufZfQ8rNP9PVA4Lb4NxsWIw8/ZREsrUANaa63ae3L/fGFxZc0aqNTzs+oDTBA89tVqi57sF76aIPMsiJ9QXK7s+hiUxVFZOpN6Uk6Xi2LyP34sliyJZ3emTb6e9bJUFkGoS5oTZfMZYnW/7MvnjUubpVzn/0yxVVtnHHyKTBfFWZR1iJtVFhxX26QdGGFqs8eWE/OiTvho7MFXseQLfg5/dzxWF5aJn2Cvv7jrw9aL1tJJh05mL9Eh76oPWId/AImPu1VmeqGtulBqkHbVJ3qhnarLd4OW6tLFOppCf/u8lN7mEbQkqL5/Vt9/qS+c1Vf9sBO8m0BNbPFJnFbDtGbJ3hbvndMnnd9fGvZZEp7LOVXHaRr1QctyOLIe2TM/w64A2x6oMiETGMxr7Eo08VbBAplW7v89KHBfW3nCZtlQNFE1rEblhCU5wMyp21lqssePF1FiZ2eeHRAjV0gW0kmK7B2CY9ZMqfMvChJdufBBhklPV+2Ru8lsv7u+rx+5KoLWpAZAC/JuoYsyCQV83JHvW7nuV7zIiJR/le93tfPKu6P4/4xTwVcO097tVM3lR47NUH79cGTLJdu1Chi4FqU9ZMW24U91ohrx+m/sBNZ5/XyD7gj84k7n9/ytvP7UaouT/st8CnwJZn/ReZeDe6CzAvJ2TJH9v5UHN8y9V6vr509+twIjTotkj9+ufNM+qWW2cxOyPxE5oLMq/J51aiKSJt9e/9zMv8DPNaIunO3vxlY//y+TTDVaBG8NfDv+R9/HtaRdkdepLs+n4+/lumRqoC26Jk72WdkTvUCDe5CTau1Y6cVvIcueq2yL10+8MX1d529bh/p9lTPn+lZHbCa6oIWJIPgG2O3q8gSSUykctG64m/TAtzl/Np1XLR1issaW0GtgdkCv95uJLFBVjbf6/m60fNXYeYAavO0MPvaLZknTPwHE7e6Gkx2a8dmErLSoZ/Dyy6yVYXJOzUVKvq7xbyskwDbkUjYiuYjsgDqyB0jPQlIer4mLtTjfgc8+4DH8ytUTaTNGVka/pn6MLMI5l83esEsyk76ihJ9ZXkjH51MNXjbta1ZHof38PM5GHRF837RQJ04I5eexWdyXmvxs1ARtMDcwl1bBJi41ltgx7ySN4x0euF8FsFHq0N99R+rAj7KThpj5bgNVrvLwMgtiXEFbWS6Zw3quc8AtUFr+hZ4rSkbH2VGF21hpNfbpC0gJ9ncZbQ9lKT/2DQ3tlgAa8ed9G5ix9frF3VgZMvISGKj4Fqq6zWZbz/gMf0G1QetWQSw4pmJazJbnfXaR1kZ05BKtA0lIs0X3TdqPkZw/RfLd5bMdww5psRIYI8sBD0S2RP0azyQuHRf7i+ZeKrnscLlmaqCdpGvfaG3uM/IPCIRmNiXW6Gt4j3SsddGyagJsWXHwyGb8LGAu9637LIEcqsfsaVIw4EvrDXK9toAg4nP9NhclK3Jz0Jl0BZZl+NrMj+6BtmGRChedk9kz6TbqFHI30a9z1vmPD88uGtg57uA7LMdQ1eyJRJZJWOyL+dhUGvwozbAflRrAFV13XpVB22Jts+0IWENsr8xsSOxdxFn7+BNxS7sdQaAZSfEGtwPaRUOARsLrGZrltFVrIEs+CwLUu31/ZEdiUckeqbSAHsm57G2KAsVQlv0NZmXGjXOSTwmcaoXcdCVurOu1D2yQ2axvUXqnPbF/82Ns7QAd90R8e/Qob87N7xkPycFNOhxSIHmHbYaedRtYs/Anl05LxNbJj5l4iW51igLlUJ7z9v+FbjQaHui0TYw0mvUSeXi7unYlUbK7P/m7l4PLsy1uP9KeD2g3p6sPaz3rrlYnl2xQRZpez2+wMgJiRuF1mcMKo2yUGOPmNfXZL4BnjLxBvhvpHfMVgLriYxENkRklpkdMoticA9RdlO0yRKeUok6Ly9K+Xd5/duzm75c0qrP5mxBXlgCAzYokNL7t9O7htxROv2SeluAAisrkUsvWIUZA68qIy2soq3lba2i6ZTEzkXb5KJQYAf6yHqBLTWWNR12KOp6r+vf+6XRd51iW3+W96/2k7U71oD1UdWOpWPPVm2BAWu24EBettYoCxByrnbf5/lUn2NLjkZe03FFxx/pmejpGdix5ZYNG06IbJnYYkuR2iLPWVdzzK5WwS/EcWhthl8zE6PPufqtwet77bwlMA/rrUB2Pnbihp47jbrzl1GibOI7Jp+XbdB+QLnFndfTWs7rDQy6xHzmhKTrldsCz/PK5AOBgYkeWXSjxyYotq1fWATuW4R3WYZ1RL5vDeYRF76OwKC1BmSnEdYDK9Pw3RZgT9jzd0YerzIkX9ebMfCq1h6Y7jXKXulFP3PpoCtGTbHv6bhj0kdXWtqzXQjsGUtkm/O5PsOQVz8GXVRLEd7x3vonOjh9/lU6Q+YcLOwI3JEUUA/sHbtFhL0l8bmD9UWJ6tUDC0cQaeEtNuF7Ik/oOKXjho6N2gTY0GnkndgSdVVyibQyRZtfQ7fDli6V9RvWazesB/AcirY+yq47C+bineUwmeDgFXDvSrbAHjvdnrDjJ3Zs2XNN4s+M/IB011qK63ldlVzv0lFACyub8JTAd0S2RL4gcqlriwm4Az0Dt2zoGQq0ZhfMKgiw82qPBq1fw2E9w/jP2QPvZ71vjdrgMmCj1hJ0WvAT1A5E9iVLADtNbe24YuQP7DRzIj72FZk3s489FmDhiKCFA+BaxPXg3jHwmJ49A50CmxRei7y2Jllm0MXzZMVHWznHr+UwL6j37mLyZffwPPxnnYO1WuA5qyGprY47kjbCLEuwYc+1yzf/k8QfSLwi8xfXiXAktsB0VNCCgvtc4VmDu6fnBr9K+cCoD2muCcCTLjtvNsEW0Asu6gZFrAOsbfA+0KJI2jCgdYPLwyrF3FY/cYd10Vpvl3VZX5N4pBMfHTmwcITQwlvAlbUaOi7pOKFDpq7oS1QdXdTtHLSRjuxWgexcxF2v6/A2i7D2sJ1mX20sV2JyhS+pwOrrJ8wOjOwZSJolSNySOCNxefwR1nSU0MIBcL3HTdi6Yz0bhTLT02nUNZBluc5On1uEjiWPewjcQ9HWGlseWG8L/CBEX+wzMLJj5BNXuTX3dI1ckbQaYeIJSZcMPWpg4YihhXdEXAPOMguSy+3YuwjbKcx7ek7oSG6haJs5zIDF2YTpALQ2NVECbISwzAQzjx6WcspUGlObhacdF8CeunqCdaPryIGF2msPfkY5k4Ot22I1Cq8dVDfya5yQuWVio5FPMrW9DtGRshuLuJb+srqGOdou1y0rO4F1/84T5CVk5pdRswYWYffqbbcK6EjikW4DI3cK6kAqY+Ng4i8PI8KajjrSmhZZhRcEnhE4J2guVyLvnM+VZeYHLT8RdOXRa8QdkLJyMQ9SoTsvNCeyIeq4dyYyA5P2b00MyEQaHfMAxL5E2sQ1Uti+jq4XZL5EqrZekI+le/Z99SCghVUHBPBWeK/p+IzIP4icEdk5/2oA+6U7Zc0yWaPLou1aNj9s0i3Y3Fo2m6FAa0PhYeKSeU4H3xV7Tl7AKsd0VHnYn9ODgRYcuD7qfoUsqndO4I7ID0T+4Hyvf0heIZTVvG09XnOcttzR1v3RO92OpbknsI4O2oGs6av1DIfzuK6tRtanSLXWA/Gvh/SgoDUdjLqyWLQ01C4IJfJ+glV5yULIBvAdgS2ybOfebU09QcEUCZi5bO/IumbEDOcpUshuk+tdIJNqSC3sVGCVfX8wdmCtBwktsFwm3mcYLOoCxTacEXSVyMgpstLhCVJXtSWU9cxs2dO1Nsyzb28VWGn8ySR61qg6Q8a7mWf9KzJL5MoKwMOE1XTU2YN3yS66psVyyTDI/FYSeSXKBRd9pazmBqmzukLGGlwzLzB9aL6WjswpcKGff4WMIACJwDfkMrfWuW4/JfMGgfYZmBXw+/5Q9WAj7Vr3/C6w8LxAARhwFkJ0ps8vD0Br02peOtjs1i+fOw/r9p4VGqwH1KBd6aBtgBlgWEJsen0A1rXOHXQeUmABqvzt8rzBulSD9i0K6+7YNcCmr9zvvHwHuH4eWD+H1ltAhQbr29SgfU/dgxiWVuKXyN3yFx/XIH0vNWh/gw6C/J5qgP56NWibqlP1AxubHp4atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3VqUHbVJ0atE3V6f8BemX+3o4Vfa0AAAAASUVORK5CYII="),Wh.add("lightGlow",Xf),Wh.add("lightpinkGlow","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAAB3CAYAAAA5Od+KAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAGm9JREFUeJztnU2TG9mNrh/gnEyyVCXJkqXwZhZe9K7vrucH+Kf7D3jp3UTMXczGobZkqapUzMwD4C5wkqTU8ng87foQL8GoSFaRRWbmm8DBxwukRARnOU3Rx96Bs9yfnME9YTmDe8JyBveE5QzuCcsZ3BOWM7gnLGdwT1jO4J6wnME9YTmDe8JyBveE5QzuCcsZ3BOWM7gnLGdwT1jO4J6wnME9YTmDe8JyBveE5QzuCcsZ3BOW+tg7cC8iCCD73wD+sP8d/sjK5z1sg5Pj+MpJ8JYFBYQ/ILzr1mhCaP0H4HdH4P6lA1kJKsGm//4W78AHgT/oMdyDfL/groD+SNkD+VuUBXlniDREDRFPUF8d/euHvg0lvBBRibeFYCD4K74H/M8Y3zHQ3x+4gvIThR3CRwqv0XeGlAl97cjfHNFLVAx5Dlz7QWPlEonbg/l9rsQ1EIXwW/w3SrxXwjb420LwHuclxpbgT9j3BvL3A+4K6keUl5R3O7RMqDZUL9EXhtxcoBgihl4+g8+OcAzuFond0dqqxDMlbj9DFJxCXN3hnzrYXnHb4G+3OB8xXuLfE8hPH9yvQP35hvJmQT829OUz9OYClZki2wRSRvQC2DV0D+zmaL1dZeogK7Gt+B0QM44SsSNixK7u8I+f8ZcV/3nA31xh3xPITxtcofAjhS313Q59e0f5dEGRBdWRcnmB3FXKhSO7hjIkoDIi1AO4m2989LQ+UYKGx0ygBAu+rfidEhcNu70jfMZiwF/cYe8usLdbnB2NP2ME9mDn45+Upwnuqq1/pfCC8uGGqg3VLUVHimxQqRTpgEpFqejGkeuCbobU4hGY40vTvBclRiHm/nxaiOeGTyvYDWfBo+LRsJhwnzHfYV7xV1c0PmH8FnuqWvz0wBWUH6lsqT/fUOpE+c2WcjNSdKCsoG4HdFLKpqJTQTcFnQ1lQKgJ6NK3Un8JbrTU1KFvaQQLMRZ8Mnxj+NTwjWO7I5B9wa5m7G87rG2wN1dY1+L21AB+WuCuZrgwvP9MKTNFtxQdqPqCIjNlO6DTlkpBRSgEsghlqMiiqBR0cGQpCIFIQSrAcPQ9CzQgjECIwYhFiTB8cHxpxBAYQkRgGL7Z0XYLHiPmnzBfaL7DbMReP8Mwlqdmpp9Ohkoo/EClUD/cUIeRKs9SW59Vyi6osqFQUalUDOUCXaBIQZugqmgtSKvpMQ8AirRAvj7SQQicWIBW8KERzYjmuAz4YpQBTO5QKs6IiOI4enmFfG6IbFGd0Q83yKsr4IeeG3siAD8NzV2BfUblhspIva1UGSiqVApFtlRRCgVlQ1mgjCXBHUa0KToI2gqCJMgUpHlq8De+M6oSWIJK4NWIJfDq+DLjA9hsuWVKDQ7HYkfDMHdaLNhlozHTuKLxmcZ/0J4CwI+vud8CtjDoc4rsqHJB2SiFkTorZRkpo1AECmOaZhtQgcIGwdCqiAmKIjIg5Rtfa4BZphqr4s0JNrhMhIGJ4AQqMy6g8wU6zNimO2eTI3qLxHPk9hNyOQI3QGowT0GDHxfcdJ4K5Stgr6iyo8gFdR66xo6UVqkChYEiQrFKGQa0QamKmFLqgBgJbFUETTDakfZWISqAE80Jc6KCmxF1xJpThoq1hSKCEagsaNuitLQEs6PjBcId6BVyewNfAPxjrueP6WQ9HrirV1wYPtxQXx0DK1R5SUUoG6gMFClU0XxupNec/41KoRgZDokieDpWJOACIHoA1zwTGMUJ8XSk+noa1igCjqGAi6DWUNmgLKgUJAZkMyGxARkRdohewQrwhxt4lQCDPJ4X/Xjg/kQB6vuPlKGvsd0UF3lJldy3slxSx6CypRBUGahUShXURqqB1tq1d4MaqICWDqxJau+xaTYAzzJf6Zpr4BW85dYaqBS8zEgbUGloBMIA4sh8iQy3AAhb4COhL4jb67QK7z8Tr18S/ETA/0/gCoXfU37eUIaZIs8oUvZrbEUofAlsanPtztVIISi1UtpqppWCIjZQiiPWNbcKogBHmluccCAigcVwU6IsmGwIPJfkChaOiGARuX6LIbFFxh3Ml9ABDrkguAMZCFGifMZ/viHeTGSG+xHW34cH97DOlvqJUn5LVaUo6TzNA3UD9QtgC5UNFaXKSEUpVih1TFCte9EmlFpQVcQLqoIgiEdu9/sQhOZ6GB6EGi5OWMbNZtazXo6aoBgqWzRmBAeZILZwDPC0gVEJvetJkd8S8YHgBc6P+GOsvw8PbjfHHz5QX20ptzPl2RVlF+kVi6YmfgvYOlKtprnegzxQilBKQT1DJ3VQrYiDegf4a3A9CA1Cwb31reO6oCa4BVoWVEY0pjTtFWAGNl8CHBtisxCj4rtCPBP89ob4zRb/cEO8evU45vlhwRWUH9B3G3Rs6M0VpVzuExSVkcqYzhNbisgBWMY0y6L7vxWrlFryOQOKULygXigI4ooiiBb4BbgGnrrkXsg8lOEoKgteU2uFhogiTIjUzss5BvgZITsiNL1jAXZzrr83t7h+xt/t0LcT6bs/oPY+LLg/UViob28o19ueK54pskmNnbWHO5oEGKkHjZVKtcJAbksp1DKkx+xK9YIyUhyKVoRAUbTUzqc6TmQIUQbC0o91FdwbRcF8RhFcPYE1UDOkDIi1dMwCaDNQIBaCAiGZnxYlUJwJ1wGPLf72DueK4CecB9TehwO3a+3PBR0v0pRKpWwlQ5i5oMvYkxMDRYa981RtBbxSbUMttWt3zfe5UlVRhnTERPMzhyPt3e/FSooLYii4R1aBcjVFCdQLXhwJQUSQYmDd47YgovYPckKECCGY8GXEB8M3fb2+C4qO+KcBnyf8zeeH1d6HAzfX2vLmA3odqDzP8GJ63jW0Z57WOJbaveJ0lgpj19gV2EL1mnEvQvX+WskEpaqgrigF0W+A62maQ9Mse/GMbS1QDLOkyWXxAShkfFyUYM68tGyyDiwLXgecGY8NPkuaabnGZYPKNfqmobyiPKT2Pgy46SHLO3Ktrc8OWjuV9EYXUmula3TNK7xYoXTzXErpDlahpoHObSk9y1UoWlFXCoJ6TU3M3wA/6I0bwYBrwwlcHfOGFk2qTthXFB2gpE0OqUQ4UbrGt0ppCx7kz2A4JcuSq/Z+3GHzDn2bq/+DaO9Daa7wkVK2SY3hIpkT0ybB5AIdc81U65knG6m1ZrizOk/7NbZ2YDf72HcFPEHN3xVNr5lAXBEJJIRQJ3QkvBGuuBuuRhJzljTjIshxSWUNnQy8OMGYF0XTrsWB18CY0ejUn0kpMuGXFwgNfT+h7NIIPMRJfxhwM65V/YTePEdLpUigm4rOgRxr7TAku8LIrJP0cKcerbEMFIYEVlcTPVK9w6yV4kJRoac2kHrUW+FOxrqKe+AamDfEG6aC6NzfR7fh2tfWyHTlPBClayrgdUABXRplr72BbSq6c/ROKHaB6QeU18kF4wEAvn9w05GSdxtkc5lX9MWITEOa5CZZjx1G1HoRQAql1nSQTNP5QrtXrFTkC1NcGale9hpc0ARYEtjMNx9lqNTTrFJxNZzWL4JAPRAdyXAHkEiv2hU0jXwUwdG+zmaqssSCy4DVQJcZXYQSBZOKbhfkdqboJfbOkLfTw5jmh9BcYYcW0BcV+XyZJlkukhojFWmS9VhZqztHWktBS0lt9sw+ZRx7rLEd4PUhtTthkpmm6OW//R51MxoNl6S0arT+Hs0wZw9wEJR0vCioDj1zFagpJdLX8qpIg9IUQ9ChIiPoFOjuDpUt8uIWed9QdiSh/p7l/sH9A8I18vpD8orVETZJZpsNXcYEbBCUTZbtqGjd9KqOUDzX0sKY3nRZwRsoXjvQlaq1JzqGfD0KNUqazK/BDXAKLrnWCmQO2vN1XDKDReBlwCPdK3fDGXAML4qxQVvGwqVuMAxdNH+wPM7dgDLl8b/+iPA7hB9OAdx36a1+bGgxRC6ScrqyFKV0akw/GXXIQruB9rV21Vb11JJSuldMxsirHqdzValx0N69YyVrtBsZnyZhBkeRSBMpQm97dALpnnRF3Snecn3VgmnGwjoPlDKlppaCtCW/qxZkSWsj1ySnS0aUuzwPLxcOPU33KPcLriD8CO8M2TxPXhOOyAbZdJbi4Ams9OK6gUoGLloyFFEnTbFWRDRPoCvFC1UTvmRFDpSo3USXBDjKId/cwyHWPLIYRjusxyLJzAjrIU4hNPIiKIpGRdwoNOx4/6RfjFWRlj86OBIV2YDEiMSUxy/Ps5fp7Xp+7rG78L41N3OyJUOLy+ewcw6EcUeWMUOUWg7UGAQp2st2A6K1J/4jM08qXWsL6pLO0/rYa+yQ5jmke9Gy/4zoWSmT0rNQeSZ6pjkdLV9wLbhafpdXlJaVJq2IO4KlNVprxta5W8uc7Ms691i5onKHXD6D6+s8Xoy1zfS7BRcaoiDPa/bu6Nq/E8krlkAGoCca9tQY61uVXt3pGrumFL32OFY66yK9073G9nW3l/Z7vnkFt/XMc0tgI7r37D0/XDBt+Z1eez+SJHW267+qdDKA5oVI11rI45n78Q1LP15HPpPNaYtxaC29R7l/ze1VlWtHSjpTx45Ntn5oshRlOABrBa1rPbZvS+254uQkZ4JiDXcqEpms1CipsWsGi8xwqafTlIn9hnTnKbL0n6uwVCQsP0cr4kt+n1sWIazl/mhPdLROCihKsi1bXqBSkJiPjnWTVuzae1tp22vuvcmjjE3YAGsnQKWT1yIT88dENgXWQrsmTyaf5+9Z6ZG8eEL2XrGqfuloMVAZGXTDyMiwB7y7XHqkkSF750uI/J616A+H8qFHZ3h0aX3/ieRJV0B6x8O3epUeQu5Xc3sY9OoD3Fz+nat0+MZerJyn9SQf1su82hNGXHvmaU1SaAK9mvC9ZmfhYRBFw3GdAcdJB0m9O3Rx9Dmq0Pq2q8D+Yto/jvfzWNbjmfiFyCXy6iM8RDj0oJorW2QLTMOvPKi+hklv8oova7VHX7g36SqKxsgoPVXhB238xf9FfPn532wk+ydkGvK4ZXv/6+yxPLhZ3gGb5Vd6iD0NGOk/Rw9hUo4/OQ6JiHBcZubwXgXKv3/z/0S+/Hz01+3vZiF2v+YD/pdyv+D+keAvxAcgbrOp+RfvWciurGNJqumefrp/9Dh0rYiqE+79ff0nvKcKPblRbrgbxkyLiYWZ5oa55es4ro7H0WfQP1f98F2s1d3jx/F+Hkvrx/WVxI6I2zwf/IU4mqpzL/IoDtWU3xzRiEZ2ACB5ouqRFjqHUptnDSWf0+ux/bXouWLooDpOwzFMjcZCY2H2hZn8aWrZ70Pr7/f8f4kOdL+Y3PL7upbnfnT25HHWv/b9R4gqeVxrm+g3lt4HkfsOhYKarITnSnxWgolg7K9m22Tg2ZRl/XnpXOIoeZK1Jx6sdWpMpgWTtaj5PFoPZzQzT6I0Wle6QlC715sJjHDDtNFwWhgWlvniaF0nV82WvFC0t3YemfqIIIr1+m7uczaXeT+uY3M+5e/P+1AVardC9yj3n8SoOQ7ompwes6MftGTjcxuzjXLoTVmtt3isnQDe6afrwyPNrjbc13qs4VIwse7ttj3/KXBCh2RZrEkMJTNQBC0aRsMkNblFJNCe7IzMLx99L44rnXt1tJ9xBPACIMSwdOvS1+1nfXqOl/sHNk/9/UqwIYL8uf0M+oyQhjPmAQ9GNMk2yqq49YrN2gnAQnifF6Vdi7zkyuiWhfZ9PXaNd/WQeaKQ2eGj3DL9Yok0yxZG6wBbN9WmkevyfhXulJqeugyW3L91f3GiBN6OGrpjdcYaHoepORE8jObe75rbvdG3hYhrItJsRsw5g4KWHe01NSKaE6WfKMgWD0hNUcO8EbZqj2O1g4Jh0bBYMJbeK7uwxExjZvGZRRqzLMzSmL2vvNHf19/fYsnPWQGuRlPHcNy6g6aGaWdgrPtH3+/WL4Xq+NJHMUxLHi+axx/XfaDZ0fm5L7l/s/wW55p4WfGbQsSMyyaHi8wQUfNqH7Jo7mYEFS/gZcFMKJ7MRNekpiiGehbX3Vu2WKKZMRJ6KLMWAbrWxlf1XLKTzzGarBdHo3k7XDB7jU1ADZK47qn1Pi4Y4C16+2fBmfDFemWpD1HZKRETTsnzwEDwmhMgyP2R4N+I91vi9R3++ZJgwactscl8rjfHl8jG5zpi1iiNvAgITHud1OdcvSw6S3HJBL5HZq2SeAzAWgTwf8TEiHSeLBrWgW00muaUC8MwWzBNq2AaubXAzDtoDS+GtZmIHlMPjo8FnyKPFyWubvH3Srz+C8Gfvv81FyDY5iS2TxBlR2yvclLMJHiDkCFHFRjZ+Cy9jRLPpiwTXJa+5pUEA+t55k6JaZlSpHuqTsWloGG/5FCt8TCRGsiRKabRqqVp9/UvOSLB1dIRWz3r0rsB22qSwWq/UJfW96PlXKvbG+JTIazsI+cTADdw/k+uM3/7hOsr7E4p0vCt4qLYYpRlxkXwoSZVpaUSmtTU1OpJ0SmOWEBYVmUA6AC7sE8Y+oJrd7RCeo64y8p+xA7sx/WhPeGxQh2GadCK08Jp7qm1xbG2ZJxcLEFelpylEZbsx9HwXcuBZTFi/gF/+yKdTE6Gt/xnjH+j+Ba/usOp2M4pk+IyEgOY9KRiW5JwJmWvvVqWQ1NWrAUET17x/gzNoEFo6wyKgvsRb7l9xVtGsq6rnl53td4Bv2CrxkajMeUaHH0tDqONS1+tV61dcJbOWwYLcszR1AeVXSjGHf6+4rzH+a9T4i1D8BIzKB+v8VoJvcS3jk2R44DmC1xSe00ELTMSnuwGGbOw3ik4XzR1BUk/ZU0IVlQz9lWvqC+olq65jshxx4EcOg7Stdqb/BaGdWAbS6YsIzXVzLGYsTJjpdFagm97rb3DQ7GNY3cVv70l2mfcnuNsMP7r/k0yPBS4gfPvxFtw7vDrGZMNugOVvj4ea681tA2oSJromLKUZ5ZNWV+UVrR36xWiDLg7pZN4tJtlUdv/yxeNYN0fzpg54TXrTpRG95qXvXluZrTiWEx5GVh23DsN+0JrS661uySum8/Yy4qzZV0QTqhXCOBPGD+gPw+UseIx4XGJb3c0RmQOZL7IqTGyOcygkG33dKfeRtlrqMlMy4qQK6gn/dRbktm8dk/aenkv5Qtw1Q9dfpaZJ9MlnafiaZY9U5PNGlbWOLo7ezH1GDvXW4vAhgkbe6x9V/G4xWPAfxb8zUeM/3i48QkPB25qr79ZcG6w65og7kAlHSsfZqxtM8RZZ1DEvGc1sPbHmhNrU1ZkW0h0uo0DHhWhJXd435+b+yAcChOx9DW3548DeriTw8RyjV0wM1pJk9xW0Nu8f711NqQNc8bBU8PjSGtfNIwrku98ss3Xqb3t3QUyXuecCbkk2cOeBG5a8o8YQKzDNae6rf2xRdk3ZYln9kcH1C15xW4UTaaEWvv7nfVrqqPPxTB6OtMX3P2QliyeGrsCy0yr3s21HMz26NjkWDgWI+a3OeX13XPsbU6We9ChJw8Lbtfet+Af7vCXM3ZrOUtxtztoVwxJIostIhNJuuoARwXuCNlk0n4eeu+Oowy4BkrDNDVW/Yhgd7Qf++qOklq7cplZsnBggY1Ld56mNMUrsHh60WE0dv0i6CY7drSt0G6vsSvDPtQ+aX37sFoLjzH78Wi42N8+MdRXDKpUhaFPjBv+3jSbdjTNhj7NxnTPklJ6U9n/ZpqNr8mPPqUV77HszDotw2LV2AOwbRbacEuboI0LS9zRHBZ3WvvA8psXHfZHGNn78NNsgqRz/x5tG1T+ivAbhJKzFMeLnMw23OYYoHGXU2NkImdQ9I720kOYyBZKt4oWsLnPoaKgppno+HoOFUdzqHDC+hyqccGM/OyWeWMrc/eKpzVX9UtgA9o40eIOc9IJs7/R2gXGJ4z/y6MM236cIWOB8e/oG9D3huicrRrxHOGuj9wjJ7TtAX5GxNL7ZOeMUdtalQGLhcIGLVMWF4qlZ93+mwly5WiCXOnJy5jy82g5Ta402j7/vPQ1doetwLKGQHe02NLiOmNeG/ug7SuM/3zYtXaVxxvJ+49mP26p5HTWyiabrlvvnhf2nbmlDqgVCn32Y02Cu0o5jAgEfqG5kJPkrJvj/eTW3vBVDGtLzzu3Hr8uWQaMhcaEBQlu7GgRNL+hXRrLh5n26qpHyY84Qf3xZj+meW782Idg9qGYtzegV8DHHLk3bZI9GCsbcUoz3JbkOwEaS/bHmlGipCMV3jX270xtBQ4FhLXgbkQxbC0CsOTo+xoZx8LBeZrAuiluMWIrsDwRYOGxR/Ku6+8PCF8D/ILgLkfujZlxyuL+SE6NIXO5S6PIkN3tdYO15TBvufUWj0KGUYev7aZ55WxFam0teJvz5aXnipe5m/3IOHbsYVE4FndYbGn+CVuBPRqo/eg3tXj8Ydp5L4EcQN0B9hG4JmTIWYq7kpPZJGk5Hps+j2JGO8jaFGNBGHIkfk0Nltb6GPyv5RuT0rnDQzqTYgXVMhkx9Enp0/GkdHKN9V4iPE9K/5Z8BXC7yR2TlVgm+C6pKr6p6Cwd5IsEd8mpb7ooWiPvcbDMeY+D+q17HLRumvs9Dih4bcRiRPR67B7Uu2SIjAttajkGfyu0z2Dei/ztCQILT+UeB6uc707yL5WnBS6c7yv0L5SnBy6c7wj2L5KnCe4q53v5/Sp5Gg7V35O+7vET8XZCeYXPN/ibhn7cYTTULrDb9S6cU06N2S6wuzuAu/uf3IVTIKZkKd7eJOeJO7ytd+EUnFfY248YW7wD++S09VietuYey/n+uf+0fD/grnK+8/X/WL4/cFc537P+H8rTXnP/OzmccNsD/XuEd+jb9a+Nw0ig3x00+NVfuvauzVi1u0Wv8d4J8N0CeizfL7jH8jUQcsSbWrfHw0UOrRyH7T03ZT2GfL9m+Sz/UB5lbMJZHkbO4J6wnME9YTmDe8JyBveE5QzuCcsZ3BOWM7gnLGdwT1jO4J6wnME9YTmDe8JyBveE5QzuCcsZ3BOWM7gnLGdwT1jO4J6wnME9YTmDe8JyBveE5QzuCcv/A9CC7mfo3bFeAAAAAElFTkSuQmCC"),Wh.add("pinkGlow",Wf),Uf.forEach(function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh.load(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Wh.add("border-neon",Yf),e.next=14,Wh.load("border-neon");case 14:return Wh.add("spin",qf),e.next=17,Wh.load("spin");case 17:return Wh.add("check",Kf),Wh.load("check"),Wh.add("checkbox",Qf),Wh.load("checkbox"),Wh.add("checked",Jf),Wh.load("checked"),Wh.add("night",Zf),e.next=26,Wh.load("night");case 26:return e.next=28,Tp();case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Sp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cp(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Pp,Rp,Ip,Mp,Op,Dp,Np,Bp,Lp,Fp,Up,Gp={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},zp={duration:.5,overwrite:!1,delay:0},jp=1e8,Hp=1e-8,Vp=2*Math.PI,Xp=Vp/4,Wp=0,Yp=Math.sqrt,qp=Math.cos,Kp=Math.sin,Zp=function(e){return"string"===typeof e},Qp=function(e){return"function"===typeof e},Jp=function(e){return"number"===typeof e},$p=function(e){return"undefined"===typeof e},ev=function(e){return"object"===typeof e},tv=function(e){return!1!==e},nv=function(){return"undefined"!==typeof window},rv=function(e){return Qp(e)||Zp(e)},iv="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},av=Array.isArray,sv=/(?:-?\.?\d|\.)+/gi,ov=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,uv=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,lv=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,hv=/[+-]=-?[.\d]+/,cv=/[^,'"\[\]\s]+/gi,dv=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,fv={},pv={},vv=function(e){return(pv=Vv(e,fv))&&Vg},mv=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},gv=function(e,t){return!t&&console.warn(e)},yv=function(e,t){return e&&(fv[e]=t)&&pv&&(pv[e]=t)||fv},_v=function(){return 0},bv={suppressEvents:!0,isStart:!0,kill:!1},xv={suppressEvents:!0,kill:!1},wv={suppressEvents:!0},kv={},Ev=[],Tv={},Av={},Sv={},Cv=30,Pv=[],Rv="",Iv=function(e){var t,n,r=e[0];if(ev(r)||Qp(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=Pv.length;n--&&!Pv[n].targetTest(r););t=Pv[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new ag(e[n],t)))||e.splice(n,1);return e},Mv=function(e){return e._gsap||Iv(wm(e))[0]._gsap},Ov=function(e,t,n){return(n=e[t])&&Qp(n)?e[t]():$p(n)&&e.getAttribute&&e.getAttribute(t)||n},Dv=function(e,t){return(e=e.split(",")).forEach(t)||e},Nv=function(e){return Math.round(1e5*e)/1e5||0},Bv=function(e){return Math.round(1e7*e)/1e7||0},Lv=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},Fv=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Uv=function(){var e,t,n=Ev.length,r=Ev.slice(0);for(Tv={},Ev.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Gv=function(e,t,n,r){Ev.length&&!Rp&&Uv(),e.render(t,n,r||Rp&&t<0&&(e._initted||e._startAt)),Ev.length&&!Rp&&Uv()},zv=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(cv).length<2?t:Zp(e)?e.trim():e},jv=function(e){return e},Hv=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Vv=function(e,t){for(var n in t)e[n]=t[n];return e},Xv=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=ev(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Wv=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Yv=function(e){var t,n=e.parent||Mp,r=e.keyframes?(t=av(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):Hv;if(tv(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},qv=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,s=e[r];if(i)for(a=t[i];s&&s[i]>a;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e,t},Kv=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Zv=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Qv=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Jv=function(e,t,n,r){return e._startAt&&(Rp?e._startAt.revert(xv):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},$v=function e(t){return!t||t._ts&&e(t.parent)},em=function(e){return e._repeat?tm(e._tTime,e=e.duration()+e._rDelay)*e:0},tm=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},nm=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},rm=function(e){return e._end=Bv(e._start+(e._tDur/Math.abs(e._ts||e._rts||Hp)||0))},im=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Bv(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),rm(e),n._dirty||Qv(n,e)),e},am=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=nm(e.rawTime(),t),(!t._dur||gm(0,t.totalDuration(),n)-t._tTime>Hp)&&t.render(n,!0)),Qv(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},sm=function(e,t,n,r){return t.parent&&Zv(t),t._start=Bv((Jp(n)?n:n||e!==Mp?pm(e,n,t):e._time)+t._delay),t._end=Bv(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),qv(e,t,"_first","_last",e._sort?"_start":0),hm(t)||(e._recent=t),r||am(e,t),e._ts<0&&im(e,e._tTime),e},om=function(e,t){return(fv.ScrollTrigger||mv("scrollTrigger",t))&&fv.ScrollTrigger.create(t,e)},um=function(e,t,n,r,i){return fg(e,t,i),e._initted?!n&&e._pt&&!Rp&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&Lp!==Wm.frame?(Ev.push(e),e._lazy=[i,r],1):void 0:1},lm=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},hm=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},cm=function(e,t,n,r){var i=e._repeat,a=Bv(t)||0,s=e._tTime/e._tDur;return s&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:Bv(a*(i+1)+e._rDelay*i):a,s>0&&!r&&im(e,e._tTime=e._tDur*s),e.parent&&rm(e),n||Qv(e.parent,e),e},dm=function(e){return e instanceof og?Qv(e):cm(e,e._dur)},fm={_start:0,endTime:_v,totalDuration:_v},pm=function e(t,n,r){var i,a,s,o=t.labels,u=t._recent||fm,l=t.duration()>=jp?u.endTime(!1):t._dur;return Zp(n)&&(isNaN(n)||n in o)?(a=n.charAt(0),s="%"===n.substr(-1),i=n.indexOf("="),"<"===a||">"===a?(i>=0&&(n=n.replace(/=/,"")),("<"===a?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(i<0?u:r).totalDuration()/100:1)):i<0?(n in o||(o[n]=l),o[n]):(a=parseFloat(n.charAt(i-1)+n.substr(i+1)),s&&r&&(a=a/100*(av(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+a:l+a)):null==n?l:+n},vm=function(e,t,n){var r,i,a=Jp(t[1]),s=(a?2:1)+(e<2?0:1),o=t[s];if(a&&(o.duration=t[1]),o.parent=n,e){for(r=o,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=tv(i.vars.inherit)&&i.parent;o.immediateRender=tv(r.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new yg(t[0],o,t[s+1])},mm=function(e,t){return e||0===e?t(e):t},gm=function(e,t,n){return n<e?e:n>t?t:n},ym=function(e,t){return Zp(e)&&(t=dv.exec(e))?t[1]:""},_m=[].slice,bm=function(e,t){return e&&ev(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ev(e[0]))&&!e.nodeType&&e!==Op},xm=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return Zp(e)&&!t||bm(e,1)?(r=n).push.apply(r,wm(e)):n.push(e)}))||n},wm=function(e,t,n){return Ip&&!t&&Ip.selector?Ip.selector(e):!Zp(e)||n||!Dp&&Ym()?av(e)?xm(e,n):bm(e)?_m.call(e,0):e?[e]:[]:_m.call((t||Np).querySelectorAll(e),0)},km=function(e){return e=wm(e)[0]||gv("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return wm(t,n.querySelectorAll?n:n===e?gv("Invalid scope")||Np.createElement("div"):e)}},Em=function(e){return e.sort((function(){return.5-Math.random()}))},Tm=function(e){if(Qp(e))return e;var t=ev(e)?e:{each:e},n=eg(t.ease),r=t.from||0,i=parseFloat(t.base)||0,a={},s=r>0&&r<1,o=isNaN(r)||s,u=t.axis,l=r,h=r;return Zp(r)?l=h={center:.5,edges:.5,end:1}[r]||0:!s&&o&&(l=r[0],h=r[1]),function(e,s,c){var d,f,p,v,m,g,y,_,b,x=(c||t).length,w=a[x];if(!w){if(!(b="auto"===t.grid?0:(t.grid||[1,jp])[1])){for(y=-jp;y<(y=c[b++].getBoundingClientRect().left)&&b<x;);b--}for(w=a[x]=[],d=o?Math.min(b,x)*l-.5:r%b,f=b===jp?0:o?x*h/b-.5:r/b|0,y=0,_=jp,g=0;g<x;g++)p=g%b-d,v=f-(g/b|0),w[g]=m=u?Math.abs("y"===u?v:p):Yp(p*p+v*v),m>y&&(y=m),m<_&&(_=m);"random"===r&&Em(w),w.max=y-_,w.min=_,w.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(b>x?x-1:u?"y"===u?x/b:b:Math.max(b,x/b))||0)*("edges"===r?-1:1),w.b=x<0?i-x:i,w.u=ym(t.amount||t.each)||0,n=n&&x<0?Jm(n):n}return x=(w[e]-w.min)/w.max||0,Bv(w.b+(n?n(x):x)*w.v)+w.u}},Am=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Bv(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Jp(n)?0:ym(n))}},Sm=function(e,t){var n,r,i=av(e);return!i&&ev(e)&&(n=i=e.radius||jp,e.values?(e=wm(e.values),(r=!Jp(e[0]))&&(n*=n)):e=Am(e.increment)),mm(t,i?Qp(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,a,s=parseFloat(r?t.x:t),o=parseFloat(r?t.y:0),u=jp,l=0,h=e.length;h--;)(i=r?(i=e[h].x-s)*i+(a=e[h].y-o)*a:Math.abs(e[h]-s))<u&&(u=i,l=h);return l=!n||u<=n?e[l]:t,r||l===t||Jp(t)?l:l+ym(t)}:Am(e))},Cm=function(e,t,n,r){return mm(av(e)?!t:!0===n?!!(n=0):!r,(function(){return av(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},Pm=function(e,t,n){return mm(n,(function(n){return e[~~t(n)]}))},Rm=function(e){for(var t,n,r,i,a=0,s="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?cv:sv),s+=e.substr(a,t-a)+Cm(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),a=r+1;return s+e.substr(a,e.length-a)},Im=function(e,t,n,r,i){var a=t-e,s=r-n;return mm(i,(function(t){return n+((t-e)/a*s||0)}))},Mm=function(e,t,n){var r,i,a,s=e.labels,o=jp;for(r in s)(i=s[r]-t)<0===!!n&&i&&o>(i=Math.abs(i))&&(a=r,o=i);return a},Om=function(e,t,n){var r,i,a,s=e.vars,o=s[t],u=Ip,l=e._ctx;if(o)return r=s[t+"Params"],i=s.callbackScope||e,n&&Ev.length&&Uv(),l&&(Ip=l),a=r?o.apply(i,r):o.call(i),Ip=u,a},Dm=function(e){return Zv(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Rp),e.progress()<1&&Om(e,"onInterrupt"),e},Nm=[],Bm=function(e){if(nv()){var t=(e=!e.name&&e.default||e).name,n=Qp(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:_v,render:Sg,add:cg,kill:Pg,modifier:Cg,rawVars:0},a={targetTest:0,get:0,getSetter:kg,aliases:{},register:0};if(Ym(),e!==r){if(Av[t])return;Hv(r,Hv(Wv(e,i),a)),Vv(r.prototype,Vv(i,Wv(e,a))),Av[r.prop=t]=r,e.targetTest&&(Pv.push(r),kv[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}yv(t,r),e.register&&e.register(Vg,r,Mg)}else Nm.push(e)},Lm=255,Fm={aqua:[0,Lm,Lm],lime:[0,Lm,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Lm],navy:[0,0,128],white:[Lm,Lm,Lm],olive:[128,128,0],yellow:[Lm,Lm,0],orange:[Lm,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Lm,0,0],pink:[Lm,192,203],cyan:[0,Lm,Lm],transparent:[Lm,Lm,Lm,0]},Um=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*Lm+.5|0},Gm=function(e,t,n){var r,i,a,s,o,u,l,h,c,d,f=e?Jp(e)?[e>>16,e>>8&Lm,e&Lm]:0:Fm.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Fm[e])f=Fm[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+r+r+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&Lm,f&Lm,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&Lm,e&Lm]}else if("hsl"===e.substr(0,3))if(f=d=e.match(sv),t){if(~e.indexOf("="))return f=e.match(ov),n&&f.length<4&&(f[3]=1),f}else s=+f[0]%360/360,o=+f[1]/100,r=2*(u=+f[2]/100)-(i=u<=.5?u*(o+1):u+o-u*o),f.length>3&&(f[3]*=1),f[0]=Um(s+1/3,r,i),f[1]=Um(s,r,i),f[2]=Um(s-1/3,r,i);else f=e.match(sv)||Fm.transparent;f=f.map(Number)}return t&&!d&&(r=f[0]/Lm,i=f[1]/Lm,a=f[2]/Lm,u=((l=Math.max(r,i,a))+(h=Math.min(r,i,a)))/2,l===h?s=o=0:(c=l-h,o=u>.5?c/(2-l-h):c/(l+h),s=l===r?(i-a)/c+(i<a?6:0):l===i?(a-r)/c+2:(r-i)/c+4,s*=60),f[0]=~~(s+.5),f[1]=~~(100*o+.5),f[2]=~~(100*u+.5)),n&&f.length<4&&(f[3]=1),f},zm=function(e){var t=[],n=[],r=-1;return e.split(Hm).forEach((function(e){var i=e.match(uv)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},jm=function(e,t,n){var r,i,a,s,o="",u=(e+o).match(Hm),l=t?"hsla(":"rgba(",h=0;if(!u)return e;if(u=u.map((function(e){return(e=Gm(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=zm(e),(r=n.c).join(o)!==a.c.join(o)))for(s=(i=e.replace(Hm,"1").split(uv)).length-1;h<s;h++)o+=i[h]+(~r.indexOf(h)?u.shift()||l+"0,0,0,0)":(a.length?a:u.length?u:n).shift());if(!i)for(s=(i=e.split(Hm)).length-1;h<s;h++)o+=i[h]+u[h];return o+i[s]},Hm=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Fm)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Vm=/hsl[a]?\(/,Xm=function(e){var t,n=e.join(" ");if(Hm.lastIndex=0,Hm.test(n))return t=Vm.test(n),e[1]=jm(e[1],t),e[0]=jm(e[0],t,zm(e[1])),!0},Wm=function(){var e,t,n,r,i,a,s=Date.now,o=500,u=33,l=s(),h=l,c=1e3/240,d=c,f=[],p=function n(p){var v,m,g,y,_=s()-h,b=!0===p;if(_>o&&(l+=_-u),((v=(g=(h+=_)-l)-d)>0||b)&&(y=++r.frame,i=g-1e3*r.time,r.time=g/=1e3,d+=v+(v>=c?4:c-v),m=1),b||(e=t(n)),m)for(a=0;a<f.length;a++)f[a](g,i,y,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){Bp&&(!Dp&&nv()&&(Op=Dp=window,Np=Op.document||{},fv.gsap=Vg,(Op.gsapVersions||(Op.gsapVersions=[])).push(Vg.version),vv(pv||Op.GreenSockGlobals||!Op.gsap&&Op||{}),n=Op.requestAnimationFrame,Nm.forEach(Bm)),e&&r.sleep(),t=n||function(e){return setTimeout(e,d-1e3*r.time+1|0)},Up=1,p(2))},sleep:function(){(n?Op.cancelAnimationFrame:clearTimeout)(e),Up=0,t=_v},lagSmoothing:function(e,t){o=e||1/0,u=Math.min(t||33,o)},fps:function(e){c=1e3/(e||240),d=1e3*r.time+c},add:function(e,t,n){var i=t?function(t,n,a,s){e(t,n,a,s),r.remove(i)}:e;return r.remove(e),f[n?"unshift":"push"](i),Ym(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&a>=t&&a--},_listeners:f},r}(),Ym=function(){return!Up&&Wm.wake()},qm={},Km=/^[\d.\-M][\d.\-,\s]/,Zm=/["']/g,Qm=function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),s=a[0],o=1,u=a.length;o<u;o++)n=a[o],t=o!==u-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[s]=isNaN(r)?r.replace(Zm,"").trim():+r,s=n.substr(t+1).trim();return i},Jm=function(e){return function(t){return 1-e(1-t)}},$m=function e(t,n){for(var r,i=t._first;i;)i instanceof og?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},eg=function(e,t){return e&&(Qp(e)?e:qm[e]||function(e){var t=(e+"").split("("),n=qm[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Qm(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(zv)):qm._CE&&Km.test(e)?qm._CE("",e):n}(e))||t},tg=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return Dv(e,(function(e){for(var t in qm[e]=fv[e]=a,qm[i=e.toLowerCase()]=n,a)qm[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=qm[e+"."+t]=a[t]})),a},ng=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},rg=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),s=a/Vp*(Math.asin(1/i)||0),o=function(e){return 1===e?1:i*Math.pow(2,-10*e)*Kp((e-s)*a)+1},u="out"===t?o:"in"===t?function(e){return 1-o(1-e)}:ng(o);return a=Vp/a,u.config=function(n,r){return e(t,n,r)},u},ig=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:ng(r);return i.config=function(n){return e(t,n)},i};Dv("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;tg(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),qm.Linear.easeNone=qm.none=qm.Linear.easeIn,tg("Elastic",rg("in"),rg("out"),rg()),function(e,t){var n=1/t,r=function(r){return r<n?e*r*r:r<.7272727272727273?e*Math.pow(r-1.5/t,2)+.75:r<.9090909090909092?e*(r-=2.25/t)*r+.9375:e*Math.pow(r-2.625/t,2)+.984375};tg("Bounce",(function(e){return 1-r(1-e)}),r)}(7.5625,2.75),tg("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),tg("Circ",(function(e){return-(Yp(1-e*e)-1)})),tg("Sine",(function(e){return 1===e?1:1-qp(e*Xp)})),tg("Back",ig("in"),ig("out"),ig()),qm.SteppedEase=qm.steps=fv.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*gm(0,.99999999,e)|0)+i)*n}}},zp.ease=qm["quad.out"],Dv("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return Rv+=e+","+e+"Params,"}));var ag=function(e,t){this.id=Wp++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Ov,this.set=t?t.getSetter:kg},sg=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,cm(this,+e.duration,1,1),this.data=e.data,Ip&&(this._ctx=Ip,Ip.data.push(this)),Up||Wm.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,cm(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Ym(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(im(this,e),!n._dp||n.parent||am(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&sm(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===Hp||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Gv(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+em(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+em(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?tm(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?nm(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(gm(-Math.abs(this._delay),this._tDur,t),!0),rm(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ym(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Hp&&(this._tTime-=Hp)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&sm(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(tv(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?nm(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=wv);var t=Rp;return Rp=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),Rp=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(t._ts||1),t=t._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,dm(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,dm(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(pm(this,e),tv(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,tv(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-Hp))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=Qp(e)?e:jv,i=function(){var e=t.then;t.then=null,Qp(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){Dm(this)},e}();Hv(sg.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var og=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=tv(t.sortChildren),Mp&&sm(t.parent||Mp,Sp(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&om(Sp(r),t.scrollTrigger),r}Cp(t,e);var n=t.prototype;return n.to=function(e,t,n){return vm(0,arguments,this),this},n.from=function(e,t,n){return vm(1,arguments,this),this},n.fromTo=function(e,t,n,r){return vm(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Yv(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new yg(e,t,pm(this,n),1),this},n.call=function(e,t,n){return sm(this,yg.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,a,s){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=s,n.parent=this,new yg(e,n,pm(this,i)),this},n.staggerFrom=function(e,t,n,r,i,a,s){return n.runBackwards=1,Yv(n).immediateRender=tv(n.immediateRender),this.staggerTo(e,t,n,r,i,a,s)},n.staggerFromTo=function(e,t,n,r,i,a,s,o){return r.startAt=n,Yv(r).immediateRender=tv(r.immediateRender),this.staggerTo(e,t,r,i,a,s,o)},n.render=function(e,t,n){var r,i,a,s,o,u,l,h,c,d,f,p,v=this._time,m=this._dirty?this.totalDuration():this._tDur,g=this._dur,y=e<=0?0:Bv(e),_=this._zTime<0!==e<0&&(this._initted||!g);if(this!==Mp&&y>m&&e>=0&&(y=m),y!==this._tTime||n||_){if(v!==this._time&&g&&(y+=this._time-v,e+=this._time-v),r=y,c=this._start,u=!(h=this._ts),_&&(g||(v=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,o=g+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*o+e,t,n);if(r=Bv(y%o),y===m?(s=this._repeat,r=g):((s=~~(y/o))&&s===y/o&&(r=g,s--),r>g&&(r=g)),d=tm(this._tTime,o),!v&&this._tTime&&d!==s&&this._tTime-d*o-this._dur<=0&&(d=s),f&&1&s&&(r=g-r,p=1),s!==d&&!this._lock){var b=f&&1&d,x=b===(f&&1&s);if(s<d&&(b=!b),v=b?0:g,this._lock=1,this.render(v||(p?0:Bv(s*o)),t,!g)._lock=0,this._tTime=y,!t&&this.parent&&Om(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),v&&v!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(g=this._dur,m=this._tDur,x&&(this._lock=2,v=b?g:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;$m(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Bv(v),Bv(r)),l&&(y-=r-(r=l._start))),this._tTime=y,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,v=0),!v&&r&&!t&&!s&&(Om(this,"onStart"),this._tTime!==y))return this;if(r>=v&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!u){l=0,a&&(y+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var w=e<0?e:r;i;){if(a=i._prev,(i._act||w<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(w-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(w-i._start)*i._ts,t,n||Rp&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!u){l=0,a&&(y+=this._zTime=w?-1e-8:Hp);break}}i=a}}if(l&&!t&&(this.pause(),l.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=c,rm(this),this.render(e,t,n);this._onUpdate&&!t&&Om(this,"onUpdate",!0),(y===m&&this._tTime>=this.totalDuration()||!y&&v)&&(c!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((e||!g)&&(y===m&&this._ts>0||!y&&this._ts<0)&&Zv(this,1),t||e<0&&!v||!y&&!v&&m||(Om(this,y===m&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<m&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(Jp(t)||(t=pm(this,t,e)),!(e instanceof sg)){if(av(e))return e.forEach((function(e){return n.add(e,t)})),this;if(Zp(e))return this.addLabel(e,t);if(!Qp(e))return this;e=yg.delayedCall(0,e)}return this!==e?sm(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-jp);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof yg?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return Zp(e)?this.removeLabel(e):Qp(e)?this.killTweensOf(e):(Kv(this,e),e===this._recent&&(this._recent=this._last),Qv(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Bv(Wm.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=pm(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=yg.delayedCall(0,t||_v,n);return r.data="isPause",this._hasPause=1,sm(this,r,pm(this,e))},n.removePause=function(e){var t=this._first;for(e=pm(this,e);t;)t._start===e&&"isPause"===t.data&&Zv(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)ug!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=wm(e),a=this._first,s=Jp(t);a;)a instanceof yg?Fv(a._targets,i)&&(s?(!ug||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=pm(r,e),a=t,s=a.startAt,o=a.onStart,u=a.onStartParams,l=a.immediateRender,h=yg.to(r,Hv({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale())||Hp,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale());h._dur!==e&&cm(h,e,0,1).render(h._time,!0,!0),n=1}o&&o.apply(h,u||[])}},t));return l?h.render(0):h},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,Hv({startAt:{time:pm(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),Mm(this,pm(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),Mm(this,pm(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+Hp)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return Qv(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Qv(this)},n.totalDuration=function(e){var t,n,r,i=0,a=this,s=a._last,o=jp;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(r=a.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>o&&a._sort&&s._ts&&!a._lock?(a._lock=1,sm(a,s,n-s._delay,1)._lock=0):o=n,n<0&&s._ts&&(i-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),o=0),s._end>i&&s._ts&&(i=s._end),s=t;cm(a,a===Mp&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if(Mp._ts&&(Gv(Mp,nm(e,Mp)),Lp=Wm.frame),Wm.frame>=Cv){Cv+=Gp.autoSleep||120;var t=Mp._first;if((!t||!t._ts)&&Gp.autoSleep&&Wm._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Wm.sleep()}}},t}(sg);Hv(og.prototype,{_lock:0,_hasPause:0,_forcing:0});var ug,lg,hg=function(e,t,n,r,i,a,s){var o,u,l,h,c,d,f,p,v=new Mg(this._pt,e,t,0,1,Ag,null,i),m=0,g=0;for(v.b=n,v.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=Rm(r)),a&&(a(p=[n,r],e,t),n=p[0],r=p[1]),u=n.match(lv)||[];o=lv.exec(r);)h=o[0],c=r.substring(m,o.index),l?l=(l+1)%5:"rgba("===c.substr(-5)&&(l=1),h!==u[g++]&&(d=parseFloat(u[g-1])||0,v._pt={_next:v._pt,p:c||1===g?c:",",s:d,c:"="===h.charAt(1)?Lv(d,h)-d:parseFloat(h)-d,m:l&&l<4?Math.round:0},m=lv.lastIndex);return v.c=m<r.length?r.substring(m,r.length):"",v.fp=s,(hv.test(r)||f)&&(v.e=0),this._pt=v,v},cg=function(e,t,n,r,i,a,s,o,u,l){Qp(r)&&(r=r(i||0,e,a));var h,c=e[t],d="get"!==n?n:Qp(c)?u?e[t.indexOf("set")||!Qp(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():c,f=Qp(c)?u?xg:bg:_g;if(Zp(r)&&(~r.indexOf("random(")&&(r=Rm(r)),"="===r.charAt(1)&&((h=Lv(d,r)+(ym(d)||0))||0===h)&&(r=h)),!l||d!==r||lg)return isNaN(d*r)||""===r?(!c&&!(t in e)&&mv(t,r),hg.call(this,e,t,d,r,f,o||Gp.stringFilter,u)):(h=new Mg(this._pt,e,t,+d||0,r-(d||0),"boolean"===typeof c?Tg:Eg,0,f),u&&(h.fp=u),s&&h.modifier(s,this,e),this._pt=h)},dg=function(e,t,n,r,i,a){var s,o,u,l;if(Av[e]&&!1!==(s=new Av[e]).init(i,s.rawVars?t[e]:function(e,t,n,r,i){if(Qp(e)&&(e=vg(e,i,t,n,r)),!ev(e)||e.style&&e.nodeType||av(e)||iv(e))return Zp(e)?vg(e,i,t,n,r):e;var a,s={};for(a in e)s[a]=vg(e[a],i,t,n,r);return s}(t[e],r,i,a,n),n,r,a)&&(n._pt=o=new Mg(n._pt,i,e,0,1,s.render,s,0,s.priority),n!==Fp))for(u=n._ptLookup[n._targets.indexOf(i)],l=s._props.length;l--;)u[s._props[l]]=o;return s},fg=function e(t,n,r){var i,a,s,o,u,l,h,c,d,f,p,v,m,g=t.vars,y=g.ease,_=g.startAt,b=g.immediateRender,x=g.lazy,w=g.onUpdate,k=g.onUpdateParams,E=g.callbackScope,T=g.runBackwards,A=g.yoyoEase,S=g.keyframes,C=g.autoRevert,P=t._dur,R=t._startAt,I=t._targets,M=t.parent,O=M&&"nested"===M.data?M.vars.targets:I,D="auto"===t._overwrite&&!Pp,N=t.timeline;if(N&&(!S||!y)&&(y="none"),t._ease=eg(y,zp.ease),t._yEase=A?Jm(eg(!0===A?y:A,zp.ease)):0,A&&t._yoyo&&!t._repeat&&(A=t._yEase,t._yEase=t._ease,t._ease=A),t._from=!N&&!!g.runBackwards,!N||S&&!g.stagger){if(v=(c=I[0]?Mv(I[0]).harness:0)&&g[c.prop],i=Wv(g,kv),R&&(R._zTime<0&&R.progress(1),n<0&&T&&b&&!C?R.render(-1,!0):R.revert(T&&P?xv:bv),R._lazy=0),_){if(Zv(t._startAt=yg.set(I,Hv({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:!R&&tv(x),startAt:null,delay:0,onUpdate:w,onUpdateParams:k,callbackScope:E,stagger:0},_))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Rp||!b&&!C)&&t._startAt.revert(xv),b&&P&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(T&&P&&!R)if(n&&(b=!1),s=Hv({overwrite:!1,data:"isFromStart",lazy:b&&!R&&tv(x),immediateRender:b,stagger:0,parent:M},i),v&&(s[c.prop]=v),Zv(t._startAt=yg.set(I,s)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Rp?t._startAt.revert(xv):t._startAt.render(-1,!0)),t._zTime=n,b){if(!n)return}else e(t._startAt,Hp,Hp);for(t._pt=t._ptCache=0,x=P&&tv(x)||x&&!P,a=0;a<I.length;a++){if(h=(u=I[a])._gsap||Iv(I)[a]._gsap,t._ptLookup[a]=f={},Tv[h.id]&&Ev.length&&Uv(),p=O===I?a:O.indexOf(u),c&&!1!==(d=new c).init(u,v||i,t,p,O)&&(t._pt=o=new Mg(t._pt,u,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){f[e]=o})),d.priority&&(l=1)),!c||v)for(s in i)Av[s]&&(d=dg(s,i,t,p,u,O))?d.priority&&(l=1):f[s]=o=cg.call(t,u,s,"get",i[s],p,O,0,g.stringFilter);t._op&&t._op[a]&&t.kill(u,t._op[a]),D&&t._pt&&(ug=t,Mp.killTweensOf(u,f,t.globalTime(n)),m=!t.parent,ug=0),t._pt&&x&&(Tv[h.id]=1)}l&&Ig(t),t._onInit&&t._onInit(t)}t._onUpdate=w,t._initted=(!t._op||t._pt)&&!m,S&&n<=0&&N.render(jp,!0,!0)},pg=function(e,t,n,r){var i,a,s=t.ease||r||"power1.inOut";if(av(t))a=n[e]||(n[e]=[]),t.forEach((function(e,n){return a.push({t:n/(t.length-1)*100,v:e,e:s})}));else for(i in t)a=n[i]||(n[i]=[]),"ease"===i||a.push({t:parseFloat(e),v:t[i],e:s})},vg=function(e,t,n,r,i){return Qp(e)?e.call(t,n,r,i):Zp(e)&&~e.indexOf("random(")?Rm(e):e},mg=Rv+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gg={};Dv(mg+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return gg[e]=1}));var yg=function(e){function t(t,n,r,i){var a;"number"===typeof n&&(r.duration=n,n=r,r=null);var s,o,u,l,h,c,d,f,p=(a=e.call(this,i?n:Yv(n))||this).vars,v=p.duration,m=p.delay,g=p.immediateRender,y=p.stagger,_=p.overwrite,b=p.keyframes,x=p.defaults,w=p.scrollTrigger,k=p.yoyoEase,E=n.parent||Mp,T=(av(t)||iv(t)?Jp(t[0]):"length"in n)?[t]:wm(t);if(a._targets=T.length?Iv(T):gv("GSAP target "+t+" not found. https://greensock.com",!Gp.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=_,b||y||rv(v)||rv(m)){if(n=a.vars,(s=a.timeline=new og({data:"nested",defaults:x||{},targets:E&&"nested"===E.data?E.vars.targets:T})).kill(),s.parent=s._dp=Sp(a),s._start=0,y||rv(v)||rv(m)){if(l=T.length,d=y&&Tm(y),ev(y))for(h in y)~mg.indexOf(h)&&(f||(f={}),f[h]=y[h]);for(o=0;o<l;o++)(u=Wv(n,gg)).stagger=0,k&&(u.yoyoEase=k),f&&Vv(u,f),c=T[o],u.duration=+vg(v,Sp(a),o,c,T),u.delay=(+vg(m,Sp(a),o,c,T)||0)-a._delay,!y&&1===l&&u.delay&&(a._delay=m=u.delay,a._start+=m,u.delay=0),s.to(c,u,d?d(o,c,T):0),s._ease=qm.none;s.duration()?v=m=0:a.timeline=0}else if(b){Yv(Hv(s.vars.defaults,{ease:"none"})),s._ease=eg(b.ease||n.ease||"none");var A,S,C,P=0;if(av(b))b.forEach((function(e){return s.to(T,e,">")})),s.duration();else{for(h in u={},b)"ease"===h||"easeEach"===h||pg(h,b[h],u,b.easeEach);for(h in u)for(A=u[h].sort((function(e,t){return e.t-t.t})),P=0,o=0;o<A.length;o++)(C={ease:(S=A[o]).e,duration:(S.t-(o?A[o-1].t:0))/100*v})[h]=S.v,s.to(T,C,P),P+=C.duration;s.duration()<v&&s.to({},{duration:v-s.duration()})}}v||a.duration(v=s.duration())}else a.timeline=0;return!0!==_||Pp||(ug=Sp(a),Mp.killTweensOf(T),ug=0),sm(E,Sp(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(g||!v&&!b&&a._start===Bv(E._time)&&tv(g)&&$v(Sp(a))&&"nested"!==E.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-m)||0)),w&&om(Sp(a),w),a}Cp(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,a,s,o,u,l,h,c,d=this._time,f=this._tDur,p=this._dur,v=e<0,m=e>f-Hp&&!v?f:e<Hp?0:e;if(p){if(m!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==v){if(r=m,h=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&v)return this.totalTime(100*s+e,t,n);if(r=Bv(m%s),m===f?(a=this._repeat,r=p):((a=~~(m/s))&&a===m/s&&(r=p,a--),r>p&&(r=p)),(u=this._yoyo&&1&a)&&(c=this._yEase,r=p-r),o=tm(this._tTime,s),r===d&&!n&&this._initted)return this._tTime=m,this;a!==o&&(h&&this._yEase&&$m(h,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=n=1,this.render(Bv(s*a),!0).invalidate()._lock=0))}if(!this._initted){if(um(this,v?e:r,n,t,m))return this._tTime=0,this;if(d!==this._time)return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(c||this._ease)(r/p),this._from&&(this.ratio=l=1-l),r&&!d&&!t&&!a&&(Om(this,"onStart"),this._tTime!==m))return this;for(i=this._pt;i;)i.r(l,i.d),i=i._next;h&&h.render(e<0?e:!r&&u?-1e-8:h._dur*h._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(v&&Jv(this,e,0,n),Om(this,"onUpdate")),this._repeat&&a!==o&&this.vars.onRepeat&&!t&&this.parent&&Om(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(v&&!this._onUpdate&&Jv(this,e,0,!0),(e||!p)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Zv(this,1),t||v&&!d||!(m||d||u)||(Om(this,m===f?"onComplete":"onReverseComplete",!0),this._prom&&!(m<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,a,s,o=e.ratio,u=t<0||!t&&(!e._start&&lm(e)&&(e._initted||!hm(e))||(e._ts<0||e._dp._ts<0)&&!hm(e))?0:1,l=e._rDelay,h=0;if(l&&e._repeat&&(h=gm(0,e._tDur,t),a=tm(h,l),e._yoyo&&1&a&&(u=1-u),a!==tm(e._tTime,l)&&(o=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==o||Rp||r||e._zTime===Hp||!t&&e._zTime){if(!e._initted&&um(e,t,r,n,h))return;for(s=e._zTime,e._zTime=t||(n?Hp:0),n||(n=t&&!s),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=h,i=e._pt;i;)i.r(u,i.d),i=i._next;t<0&&Jv(e,t,0,!0),e._onUpdate&&!n&&Om(e,"onUpdate"),h&&e._repeat&&!n&&e.parent&&Om(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&Zv(e,1),n||Rp||(Om(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r){Up||Wm.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||fg(this,i),function(e,t,n,r,i,a,s){var o,u,l,h,c=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!c)for(c=e._ptCache[t]=[],l=e._ptLookup,h=e._targets.length;h--;){if((o=l[h][t])&&o.d&&o.d._pt)for(o=o.d._pt;o&&o.p!==t&&o.fp!==t;)o=o._next;if(!o)return lg=1,e.vars[t]="+=0",fg(e,s),lg=0,1;c.push(o)}for(h=c.length;h--;)(o=(u=c[h])._pt||u).s=!r&&0!==r||i?o.s+(r||0)+a*o.c:r,o.c=n-o.s,u.e&&(u.e=Nv(n)+ym(u.e)),u.b&&(u.b=o.s+ym(u.b))}(this,e,t,n,r,this._ease(i/this._dur),i)?this.resetTo(e,t,n,r):(im(this,0),this.parent||qv(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?Dm(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,ug&&!0!==ug.vars.overwrite)._first||Dm(this),this.parent&&n!==this.timeline.totalDuration()&&cm(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,s,o,u,l,h=this._targets,c=e?wm(e):h,d=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(h,c))return"all"===t&&(this._pt=0),Dm(this);for(r=this._op=this._op||[],"all"!==t&&(Zp(t)&&(o={},Dv(t,(function(e){return o[e]=1})),t=o),t=function(e,t){var n,r,i,a,s=e[0]?Mv(e[0]).harness:0,o=s&&s.aliases;if(!o)return t;for(r in n=Vv({},t),o)if(r in n)for(i=(a=o[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(h,t)),l=h.length;l--;)if(~c.indexOf(h[l]))for(o in i=d[l],"all"===t?(r[l]=t,s=i,a={}):(a=r[l]=r[l]||{},s=t),s)(u=i&&i[o])&&("kill"in u.d&&!0!==u.d.kill(o)||Kv(this,u,"_pt"),delete i[o]),"all"!==a&&(a[o]=1);return this._initted&&!this._pt&&f&&Dm(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return vm(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return vm(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return Mp.killTweensOf(e,t,n)},t}(sg);Hv(yg.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Dv("staggerTo,staggerFrom,staggerFromTo",(function(e){yg[e]=function(){var t=new og,n=_m.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var _g=function(e,t,n){return e[t]=n},bg=function(e,t,n){return e[t](n)},xg=function(e,t,n,r){return e[t](r.fp,n)},wg=function(e,t,n){return e.setAttribute(t,n)},kg=function(e,t){return Qp(e[t])?bg:$p(e[t])&&e.setAttribute?wg:_g},Eg=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},Tg=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Ag=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Sg=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Cg=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},Pg=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Kv(this,r,"_pt"):r.dep||(t=1),r=n;return!t},Rg=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},Ig=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},Mg=function(){function e(e,t,n,r,i,a,s,o,u){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||Eg,this.d=s||this,this.set=o||_g,this.pr=u||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=Rg,this.m=e,this.mt=n,this.tween=t},e}();Dv(Rv+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return kv[e]=1})),fv.TweenMax=fv.TweenLite=yg,fv.TimelineLite=fv.TimelineMax=og,Mp=new og({sortChildren:!1,defaults:zp,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Gp.stringFilter=Xm;var Og=[],Dg={},Ng=[],Bg=0,Lg=function(e){return(Dg[e]||Ng).map((function(e){return e()}))},Fg=function(){var e=Date.now(),t=[];e-Bg>2&&(Lg("matchMediaInit"),Og.forEach((function(e){var n,r,i,a,s=e.queries,o=e.conditions;for(r in s)(n=Op.matchMedia(s[r]).matches)&&(i=1),n!==o[r]&&(o[r]=n,a=1);a&&(e.revert(),i&&t.push(e))})),Lg("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e)})),Bg=e,Lg("matchMedia"))},Ug=function(){function e(e,t){this.selector=t&&km(t),this.data=[],this._r=[],this.isReverted=!1,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){Qp(e)&&(n=t,t=e,e=Qp);var r=this,i=function(){var e,i=Ip,a=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=km(n)),Ip=r,e=t.apply(r,arguments),Qp(e)&&r._r.push(e),Ip=i,r.selector=a,r.isReverted=!1,e};return r.last=i,e===Qp?i(r):e?r[e]=i:i},t.ignore=function(e){var t=Ip;Ip=null,e(this),Ip=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof yg&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e){var r=this.getTweens();this.data.forEach((function(e){"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})))})),r.map((function(e){return{g:e.globalTime(0),t:e}})).sort((function(e,t){return t.g-e.g||-1})).forEach((function(t){return t.t.revert(e)})),this.data.forEach((function(t){return!(t instanceof sg)&&t.revert&&t.revert(e)})),this._r.forEach((function(t){return t(e,n)})),this.isReverted=!0}else this.data.forEach((function(e){return e.kill&&e.kill()}));if(this.clear(),t){var i=Og.indexOf(this);~i&&Og.splice(i,1)}},t.revert=function(e){this.kill(e||{})},e}(),Gg=function(){function e(e){this.contexts=[],this.scope=e}var t=e.prototype;return t.add=function(e,t,n){ev(e)||(e={matches:e});var r,i,a,s=new Ug(0,n||this.scope),o=s.conditions={};for(i in this.contexts.push(s),t=s.add("onMatch",t),s.queries=e,e)"all"===i?a=1:(r=Op.matchMedia(e[i]))&&(Og.indexOf(s)<0&&Og.push(s),(o[i]=r.matches)&&(a=1),r.addListener?r.addListener(Fg):r.addEventListener("change",Fg));return a&&t(s),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),zg={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return Bm(e)}))},timeline:function(e){return new og(e)},getTweensOf:function(e,t){return Mp.getTweensOf(e,t)},getProperty:function(e,t,n,r){Zp(e)&&(e=wm(e)[0]);var i=Mv(e||{}).get,a=n?jv:zv;return"native"===n&&(n=""),e?t?a((Av[t]&&Av[t].get||i)(e,t,n,r)):function(t,n,r){return a((Av[t]&&Av[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=wm(e)).length>1){var r=e.map((function(e){return Vg.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=Av[t],s=Mv(e),o=s.harness&&(s.harness.aliases||{})[t]||t,u=a?function(t){var r=new a;Fp._pt=0,r.init(e,n?t+n:t,Fp,0,[e]),r.render(1,r),Fp._pt&&Sg(1,Fp)}:s.set(e,o);return a?u:function(t){return u(e,o,n?t+n:t,s,1)}},quickTo:function(e,t,n){var r,i=Vg.to(e,Vv(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),a=function(e,n,r){return i.resetTo(t,e,n,r)};return a.tween=i,a},isTweening:function(e){return Mp.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=eg(e.ease,zp.ease)),Xv(zp,e||{})},config:function(e){return Xv(Gp,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!Av[e]&&!fv[e]&&gv(t+" effect requires "+e+" plugin.")})),Sv[t]=function(e,t,r){return n(wm(e),Hv(t||{},i),r)},a&&(og.prototype[t]=function(e,n,r){return this.add(Sv[t](e,ev(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){qm[e]=eg(t)},parseEase:function(e,t){return arguments.length?eg(e,t):qm},getById:function(e){return Mp.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new og(e);for(i.smoothChildTiming=tv(e.smoothChildTiming),Mp.remove(i),i._dp=0,i._time=i._tTime=Mp._time,n=Mp._first;n;)r=n._next,!t&&!n._dur&&n instanceof yg&&n.vars.onComplete===n._targets[0]||sm(i,n,n._start-n._delay),n=r;return sm(Mp,i,0),i},context:function(e,t){return e?new Ug(e,t):Ip},matchMedia:function(e){return new Gg(e)},matchMediaRefresh:function(){return Og.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||Fg()},addEventListener:function(e,t){var n=Dg[e]||(Dg[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Dg[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return av(t)?Pm(t,e(0,t.length),n):mm(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return av(t)?Pm(t,e(0,t.length-1),n):mm(r,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},distribute:Tm,random:Cm,snap:Sm,normalize:function(e,t,n){return Im(e,t,0,1,n)},getUnit:ym,clamp:function(e,t,n){return mm(n,(function(n){return gm(e,t,n)}))},splitColor:Gm,toArray:wm,selector:km,mapRange:Im,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||ym(n))}},interpolate:function e(t,n,r,i){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var s,o,u,l,h,c=Zp(t),d={};if(!0===r&&(i=1)&&(r=null),c)t={p:t},n={p:n};else if(av(t)&&!av(n)){for(u=[],l=t.length,h=l-2,o=1;o<l;o++)u.push(e(t[o-1],t[o]));l--,a=function(e){e*=l;var t=Math.min(h,~~e);return u[t](e-t)},r=n}else i||(t=Vv(av(t)?[]:{},t));if(!u){for(s in n)cg.call(d,t,s,"get",n[s]);a=function(e){return Sg(e,d)||(c?t.p:t)}}}return mm(r,a)},shuffle:Em},install:vv,effects:Sv,ticker:Wm,updateRoot:og.updateRoot,plugins:Av,globalTimeline:Mp,core:{PropTween:Mg,globals:yv,Tween:yg,Timeline:og,Animation:sg,getCache:Mv,_removeLinkedListItem:Kv,reverting:function(){return Rp},context:function(e){return e&&Ip&&(Ip.data.push(e),e._ctx=Ip),Ip},suppressOverwrites:function(e){return Pp=e}}};Dv("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return zg[e]=yg[e]})),Wm.add(og.updateRoot),Fp=zg.to({},{duration:0});var jg=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Hg=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(Zp(n)&&(r={},Dv(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=jg(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}},Vg=zg.registerPlugin({name:"attr",init:function(e,t,n,r,i){var a,s,o;for(a in this.tween=n,t)o=e.getAttribute(a)||"",(s=this.add(e,"setAttribute",(o||0)+"",t[a],r,i,0,0,a)).op=a,s.b=o,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)Rp?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Hg("roundProps",Am),Hg("modifiers"),Hg("snap",Sm))||zg;yg.version=og.version=Vg.version="3.11.5",Bp=1,nv()&&Ym();qm.Power0,qm.Power1,qm.Power2,qm.Power3,qm.Power4,qm.Linear,qm.Quad,qm.Cubic,qm.Quart,qm.Quint,qm.Strong,qm.Elastic,qm.Back,qm.SteppedEase,qm.Bounce,qm.Sine,qm.Expo,qm.Circ;var Xg,Wg,Yg,qg,Kg,Zg,Qg,Jg,$g={},ey=180/Math.PI,ty=Math.PI/180,ny=Math.atan2,ry=/([A-Z])/g,iy=/(left|right|width|margin|padding|x)/i,ay=/[\s,\(]\S/,sy={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},oy=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},uy=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},ly=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},hy=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},cy=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},dy=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},fy=function(e,t,n){return e.style[t]=n},py=function(e,t,n){return e.style.setProperty(t,n)},vy=function(e,t,n){return e._gsap[t]=n},my=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},gy=function(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},yy=function(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)},_y="transform",by=_y+"Origin",xy=function e(t,n){var r=this,i=this.target,a=i.style;if(t in $g){if(this.tfm=this.tfm||{},"transform"===t)return sy.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=sy[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=Uy(i,e)})):this.tfm[t]=i._gsap.x?i._gsap[t]:Uy(i,t),this.props.indexOf(_y)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(by,n,"")),t=_y}(a||n)&&this.props.push(t,n,a[t])},wy=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},ky=function(){var e,t,n=this.props,r=this.target,i=r.style,a=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(ry,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)a[t]=this.tfm[t];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=Qg())&&e.isStart||i[_y]||(wy(i),a.uncache=1)}},Ey=function(e,t){var n={target:e,props:[],revert:ky,save:xy};return e._gsap||Vg.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},Ty=function(e,t){var n=Wg.createElementNS?Wg.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Wg.createElement(e);return n.style?n:Wg.createElement(e)},Ay=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(ry,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Cy(n)||n,1)||""},Sy="O,Moz,ms,Ms,Webkit".split(","),Cy=function(e,t,n){var r=(t||Kg).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(Sy[i]+e in r););return i<0?null:(3===i?"ms":i>=0?Sy[i]:"")+e},Py=function(){"undefined"!==typeof window&&window.document&&(Xg=window,Wg=Xg.document,Yg=Wg.documentElement,Kg=Ty("div")||{style:{}},Ty("div"),_y=Cy(_y),by=_y+"Origin",Kg.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Jg=!!Cy("perspective"),Qg=Vg.core.reverting,qg=1)},Ry=function e(t){var n,r=Ty("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,s=this.style.cssText;if(Yg.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(fa){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),Yg.removeChild(r),this.style.cssText=s,n},Iy=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},My=function(e){var t;try{t=e.getBBox()}catch(n){t=Ry.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Ry||(t=Ry.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+Iy(e,["x","cx","x1"])||0,y:+Iy(e,["y","cy","y1"])||0,width:0,height:0}},Oy=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!My(e))},Dy=function(e,t){if(t){var n=e.style;t in $g&&t!==by&&(t=_y),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(ry,"-$1").toLowerCase())):n.removeAttribute(t)}},Ny=function(e,t,n,r,i,a){var s=new Mg(e._pt,t,n,0,1,a?dy:cy);return e._pt=s,s.b=r,s.e=i,e._props.push(n),s},By={deg:1,rad:1,turn:1},Ly={grid:1,flex:1},Fy=function e(t,n,r,i){var a,s,o,u,l=parseFloat(r)||0,h=(r+"").trim().substr((l+"").length)||"px",c=Kg.style,d=iy.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),v=100,m="px"===i,g="%"===i;return i===h||!l||By[i]||By[h]?l:("px"!==h&&!m&&(l=e(t,n,r,"px")),u=t.getCTM&&Oy(t),!g&&"%"!==h||!$g[n]&&!~n.indexOf("adius")?(c[d?"width":"height"]=v+(m?h:i),s=~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,u&&(s=(t.ownerSVGElement||{}).parentNode),s&&s!==Wg&&s.appendChild||(s=Wg.body),(o=s._gsap)&&g&&o.width&&d&&o.time===Wm.time&&!o.uncache?Nv(l/o.width*v):((g||"%"===h)&&!Ly[Ay(s,"display")]&&(c.position=Ay(t,"position")),s===t&&(c.position="static"),s.appendChild(Kg),a=Kg[p],s.removeChild(Kg),c.position="absolute",d&&g&&((o=Mv(s)).time=Wm.time,o.width=s[p]),Nv(m?a*l/v:a&&l?v/a*l:0))):(a=u?t.getBBox()[d?"width":"height"]:t[p],Nv(g?l/a*v:l/100*a)))},Uy=function(e,t,n,r){var i;return qg||Py(),t in sy&&"transform"!==t&&~(t=sy[t]).indexOf(",")&&(t=t.split(",")[0]),$g[t]&&"transform"!==t?(i=Qy(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:Jy(Ay(e,by))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=Vy[t]&&Vy[t](e,t,n)||Ay(e,t)||Ov(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?Fy(e,t,i,n)+n:i},Gy=function(e,t,n,r){if(!n||"none"===n){var i=Cy(t,e,1),a=i&&Ay(e,i,1);a&&a!==n?(t=i,n=a):"borderColor"===t&&(n=Ay(e,"borderTopColor"))}var s,o,u,l,h,c,d,f,p,v,m,g=new Mg(this._pt,e.style,t,0,1,Ag),y=0,_=0;if(g.b=n,g.e=r,n+="","auto"===(r+="")&&(e.style[t]=r,r=Ay(e,t)||r,e.style[t]=n),Xm(s=[n,r]),r=s[1],u=(n=s[0]).match(uv)||[],(r.match(uv)||[]).length){for(;o=uv.exec(r);)d=o[0],p=r.substring(y,o.index),h?h=(h+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(h=1),d!==(c=u[_++]||"")&&(l=parseFloat(c)||0,m=c.substr((l+"").length),"="===d.charAt(1)&&(d=Lv(l,d)+m),f=parseFloat(d),v=d.substr((f+"").length),y=uv.lastIndex-v.length,v||(v=v||Gp.units[t]||m,y===r.length&&(r+=v,g.e+=v)),m!==v&&(l=Fy(e,t,c,v)||0),g._pt={_next:g._pt,p:p||1===_?p:",",s:l,c:f-l,m:h&&h<4||"zIndex"===t?Math.round:0});g.c=y<r.length?r.substring(y,r.length):""}else g.r="display"===t&&"none"===r?dy:cy;return hv.test(r)&&(g.e=0),this._pt=g,g},zy={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},jy=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=zy[n]||n,t[1]=zy[r]||r,t.join(" ")},Hy=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,s=a.style,o=t.u,u=a._gsap;if("all"===o||!0===o)s.cssText="",r=1;else for(i=(o=o.split(",")).length;--i>-1;)n=o[i],$g[n]&&(r=1,n="transformOrigin"===n?by:_y),Dy(a,n);r&&(Dy(a,_y),u&&(u.svg&&a.removeAttribute("transform"),Qy(a,1),u.uncache=1,wy(s)))}},Vy={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new Mg(e._pt,t,n,0,0,Hy);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},Xy=[1,0,0,1,0,0],Wy={},Yy=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},qy=function(e){var t=Ay(e,_y);return Yy(t)?Xy:t.substr(7).match(ov).map(Nv)},Ky=function(e,t){var n,r,i,a,s=e._gsap||Mv(e),o=e.style,u=qy(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Xy:u:(u!==Xy||e.offsetParent||e===Yg||s.svg||(i=o.display,o.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextElementSibling,Yg.appendChild(e)),u=qy(e),i?o.display=i:Dy(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):Yg.removeChild(e))),t&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},Zy=function(e,t,n,r,i,a){var s,o,u,l=e._gsap,h=i||Ky(e,!0),c=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,v=h[0],m=h[1],g=h[2],y=h[3],_=h[4],b=h[5],x=t.split(" "),w=parseFloat(x[0])||0,k=parseFloat(x[1])||0;n?h!==Xy&&(o=v*y-m*g)&&(u=w*(-m/o)+k*(v/o)-(v*b-m*_)/o,w=w*(y/o)+k*(-g/o)+(g*b-y*_)/o,k=u):(w=(s=My(e)).x+(~x[0].indexOf("%")?w/100*s.width:w),k=s.y+(~(x[1]||x[0]).indexOf("%")?k/100*s.height:k)),r||!1!==r&&l.smooth?(_=w-c,b=k-d,l.xOffset=f+(_*v+b*g)-_,l.yOffset=p+(_*m+b*y)-b):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=k,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[by]="0px 0px",a&&(Ny(a,l,"xOrigin",c,w),Ny(a,l,"yOrigin",d,k),Ny(a,l,"xOffset",f,l.xOffset),Ny(a,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",w+" "+k)},Qy=function(e,t){var n=e._gsap||new ag(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,s,o,u,l,h,c,d,f,p,v,m,g,y,_,b,x,w,k,E,T,A,S,C,P,R,I,M,O,D,N=e.style,B=n.scaleX<0,L="px",F="deg",U=getComputedStyle(e),G=Ay(e,by)||"0";return r=i=a=u=l=h=c=d=f=0,s=o=1,n.svg=!(!e.getCTM||!Oy(e)),U.translate&&("none"===U.translate&&"none"===U.scale&&"none"===U.rotate||(N[_y]=("none"!==U.translate?"translate3d("+(U.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==U.rotate?"rotate("+U.rotate+") ":"")+("none"!==U.scale?"scale("+U.scale.split(" ").join(",")+") ":"")+("none"!==U[_y]?U[_y]:"")),N.scale=N.rotate=N.translate="none"),m=Ky(e,n.svg),n.svg&&(n.uncache?(S=e.getBBox(),G=n.xOrigin-S.x+"px "+(n.yOrigin-S.y)+"px",A=""):A=!t&&e.getAttribute("data-svg-origin"),Zy(e,A||G,!!A||n.originIsAbsolute,!1!==n.smooth,m)),p=n.xOrigin||0,v=n.yOrigin||0,m!==Xy&&(b=m[0],x=m[1],w=m[2],k=m[3],r=E=m[4],i=T=m[5],6===m.length?(s=Math.sqrt(b*b+x*x),o=Math.sqrt(k*k+w*w),u=b||x?ny(x,b)*ey:0,(c=w||k?ny(w,k)*ey+u:0)&&(o*=Math.abs(Math.cos(c*ty))),n.svg&&(r-=p-(p*b+v*w),i-=v-(p*x+v*k))):(D=m[6],M=m[7],P=m[8],R=m[9],I=m[10],O=m[11],r=m[12],i=m[13],a=m[14],l=(g=ny(D,I))*ey,g&&(A=E*(y=Math.cos(-g))+P*(_=Math.sin(-g)),S=T*y+R*_,C=D*y+I*_,P=E*-_+P*y,R=T*-_+R*y,I=D*-_+I*y,O=M*-_+O*y,E=A,T=S,D=C),h=(g=ny(-w,I))*ey,g&&(y=Math.cos(-g),O=k*(_=Math.sin(-g))+O*y,b=A=b*y-P*_,x=S=x*y-R*_,w=C=w*y-I*_),u=(g=ny(x,b))*ey,g&&(A=b*(y=Math.cos(g))+x*(_=Math.sin(g)),S=E*y+T*_,x=x*y-b*_,T=T*y-E*_,b=A,E=S),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,h=180-h),s=Nv(Math.sqrt(b*b+x*x+w*w)),o=Nv(Math.sqrt(T*T+D*D)),g=ny(E,T),c=Math.abs(g)>2e-4?g*ey:0,f=O?1/(O<0?-O:O):0),n.svg&&(A=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Yy(Ay(e,_y)),A&&e.setAttribute("transform",A))),Math.abs(c)>90&&Math.abs(c)<270&&(B?(s*=-1,c+=u<=0?180:-180,u+=u<=0?180:-180):(o*=-1,c+=c<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+L,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+L,n.z=a+L,n.scaleX=Nv(s),n.scaleY=Nv(o),n.rotation=Nv(u)+F,n.rotationX=Nv(l)+F,n.rotationY=Nv(h)+F,n.skewX=c+F,n.skewY=d+F,n.transformPerspective=f+L,(n.zOrigin=parseFloat(G.split(" ")[2])||0)&&(N[by]=Jy(G)),n.xOffset=n.yOffset=0,n.force3D=Gp.force3D,n.renderTransform=n.svg?a_:Jg?i_:e_,n.uncache=0,n},Jy=function(e){return(e=e.split(" "))[0]+" "+e[1]},$y=function(e,t,n){var r=ym(t);return Nv(parseFloat(t)+parseFloat(Fy(e,"x",n+"px",r)))+r},e_=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,i_(e,t)},t_="0deg",n_="0px",r_=") ",i_=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,s=n.y,o=n.z,u=n.rotation,l=n.rotationY,h=n.rotationX,c=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,v=n.transformPerspective,m=n.force3D,g=n.target,y=n.zOrigin,_="",b="auto"===m&&e&&1!==e||!0===m;if(y&&(h!==t_||l!==t_)){var x,w=parseFloat(l)*ty,k=Math.sin(w),E=Math.cos(w);w=parseFloat(h)*ty,x=Math.cos(w),a=$y(g,a,k*x*-y),s=$y(g,s,-Math.sin(w)*-y),o=$y(g,o,E*x*-y+y)}v!==n_&&(_+="perspective("+v+r_),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(b||a!==n_||s!==n_||o!==n_)&&(_+=o!==n_||b?"translate3d("+a+", "+s+", "+o+") ":"translate("+a+", "+s+r_),u!==t_&&(_+="rotate("+u+r_),l!==t_&&(_+="rotateY("+l+r_),h!==t_&&(_+="rotateX("+h+r_),c===t_&&d===t_||(_+="skew("+c+", "+d+r_),1===f&&1===p||(_+="scale("+f+", "+p+r_),g.style[_y]=_||"translate(0, 0)"},a_=function(e,t){var n,r,i,a,s,o=t||this,u=o.xPercent,l=o.yPercent,h=o.x,c=o.y,d=o.rotation,f=o.skewX,p=o.skewY,v=o.scaleX,m=o.scaleY,g=o.target,y=o.xOrigin,_=o.yOrigin,b=o.xOffset,x=o.yOffset,w=o.forceCSS,k=parseFloat(h),E=parseFloat(c);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=ty,f*=ty,n=Math.cos(d)*v,r=Math.sin(d)*v,i=Math.sin(d-f)*-m,a=Math.cos(d-f)*m,f&&(p*=ty,s=Math.tan(f-p),i*=s=Math.sqrt(1+s*s),a*=s,p&&(s=Math.tan(p),n*=s=Math.sqrt(1+s*s),r*=s)),n=Nv(n),r=Nv(r),i=Nv(i),a=Nv(a)):(n=v,a=m,r=i=0),(k&&!~(h+"").indexOf("px")||E&&!~(c+"").indexOf("px"))&&(k=Fy(g,"x",h,"px"),E=Fy(g,"y",c,"px")),(y||_||b||x)&&(k=Nv(k+y-(y*n+_*i)+b),E=Nv(E+_-(y*r+_*a)+x)),(u||l)&&(s=g.getBBox(),k=Nv(k+u/100*s.width),E=Nv(E+l/100*s.height)),s="matrix("+n+","+r+","+i+","+a+","+k+","+E+")",g.setAttribute("transform",s),w&&(g.style[_y]=s)},s_=function(e,t,n,r,i){var a,s,o=360,u=Zp(i),l=parseFloat(i)*(u&&~i.indexOf("rad")?ey:1)-r,h=r+l+"deg";return u&&("short"===(a=i.split("_")[1])&&(l%=o)!==l%180&&(l+=l<0?o:-360),"cw"===a&&l<0?l=(l+36e9)%o-~~(l/o)*o:"ccw"===a&&l>0&&(l=(l-36e9)%o-~~(l/o)*o)),e._pt=s=new Mg(e._pt,t,n,r,l,uy),s.e=h,s.u="deg",e._props.push(n),s},o_=function(e,t){for(var n in t)e[n]=t[n];return e},u_=function(e,t,n){var r,i,a,s,o,u,l,h=o_({},n._gsap),c=n.style;for(i in h.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),c[_y]=t,r=Qy(n,1),Dy(n,_y),n.setAttribute("transform",a)):(a=getComputedStyle(n)[_y],c[_y]=t,r=Qy(n,1),c[_y]=a),$g)(a=h[i])!==(s=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(o=ym(a)!==(l=ym(s))?Fy(n,i,a,l):parseFloat(a),u=parseFloat(s),e._pt=new Mg(e._pt,r,i,o,u-o,oy),e._pt.u=l||0,e._props.push(i));o_(r,h)};Dv("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",a="Left",s=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map((function(n){return t<2?e+n:"border"+n+e}));Vy[t>1?"border"+e:e]=function(e,t,n,r,i){var a,o;if(arguments.length<4)return a=s.map((function(t){return Uy(e,t,n)})),5===(o=a.join(" ")).split(a[0]).length?a[0]:o;a=(r+"").split(" "),o={},s.forEach((function(e,t){return o[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,o,i)}}));var l_={name:"css",register:Py,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,s,o,u,l,h,c,d,f,p,v,m,g,y,_,b,x=this._props,w=e.style,k=n.vars.startAt;for(c in qg||Py(),this.styles=this.styles||Ey(e),b=this.styles.props,this.tween=n,t)if("autoRound"!==c&&(s=t[c],!Av[c]||!dg(c,t,n,r,e,i)))if(l=typeof s,h=Vy[c],"function"===l&&(l=typeof(s=s.call(n,r,e,i))),"string"===l&&~s.indexOf("random(")&&(s=Rm(s)),h)h(this,e,c,s,n)&&(_=1);else if("--"===c.substr(0,2))a=(getComputedStyle(e).getPropertyValue(c)+"").trim(),s+="",Hm.lastIndex=0,Hm.test(a)||(d=ym(a),f=ym(s)),f?d!==f&&(a=Fy(e,c,a,f)+f):d&&(s+=d),this.add(w,"setProperty",a,s,r,i,0,0,c),x.push(c),b.push(c,0,w[c]);else if("undefined"!==l){if(k&&c in k?(a="function"===typeof k[c]?k[c].call(n,r,e,i):k[c],Zp(a)&&~a.indexOf("random(")&&(a=Rm(a)),ym(a+"")||(a+=Gp.units[c]||ym(Uy(e,c))||""),"="===(a+"").charAt(1)&&(a=Uy(e,c))):a=Uy(e,c),u=parseFloat(a),(p="string"===l&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),o=parseFloat(s),c in sy&&("autoAlpha"===c&&(1===u&&"hidden"===Uy(e,"visibility")&&o&&(u=0),b.push("visibility",0,w.visibility),Ny(this,w,"visibility",u?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==c&&"transform"!==c&&~(c=sy[c]).indexOf(",")&&(c=c.split(",")[0])),v=c in $g)if(this.styles.save(c),m||((g=e._gsap).renderTransform&&!t.parseTransform||Qy(e,t.parseTransform),y=!1!==t.smoothOrigin&&g.smooth,(m=this._pt=new Mg(this._pt,w,_y,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===c)this._pt=new Mg(this._pt,g,"scaleY",g.scaleY,(p?Lv(g.scaleY,p+o):o)-g.scaleY||0,oy),this._pt.u=0,x.push("scaleY",c),c+="X";else{if("transformOrigin"===c){b.push(by,0,w[by]),s=jy(s),g.svg?Zy(e,s,0,y,0,this):((f=parseFloat(s.split(" ")[2])||0)!==g.zOrigin&&Ny(this,g,"zOrigin",g.zOrigin,f),Ny(this,w,c,Jy(a),Jy(s)));continue}if("svgOrigin"===c){Zy(e,s,1,y,0,this);continue}if(c in Wy){s_(this,g,c,u,p?Lv(u,p+s):s);continue}if("smoothOrigin"===c){Ny(this,g,"smooth",g.smooth,s);continue}if("force3D"===c){g[c]=s;continue}if("transform"===c){u_(this,s,e);continue}}else c in w||(c=Cy(c)||c);if(v||(o||0===o)&&(u||0===u)&&!ay.test(s)&&c in w)o||(o=0),(d=(a+"").substr((u+"").length))!==(f=ym(s)||(c in Gp.units?Gp.units[c]:d))&&(u=Fy(e,c,a,f)),this._pt=new Mg(this._pt,v?g:w,c,u,(p?Lv(u,p+o):o)-u,v||"px"!==f&&"zIndex"!==c||!1===t.autoRound?oy:hy),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=a,this._pt.r=ly);else if(c in w)Gy.call(this,e,c,a,p?p+s:s);else if(c in e)this.add(e,c,a||e[c],p?p+s:s,r,i);else if("parseTransform"!==c){mv(c,s);continue}v||(c in w?b.push(c,0,w[c]):b.push(c,1,a||e[c])),x.push(c)}_&&Ig(this)},render:function(e,t){if(t.tween._time||!Qg())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Uy,aliases:sy,getSetter:function(e,t,n){var r=sy[t];return r&&r.indexOf(",")<0&&(t=r),t in $g&&t!==by&&(e._gsap.x||Uy(e,"x"))?n&&Zg===n?"scale"===t?my:vy:(Zg=n||{})&&("scale"===t?gy:yy):e.style&&!$p(e.style[t])?fy:~t.indexOf("-")?py:kg(e,t)},core:{_removeProperty:Dy,_getMatrix:Ky}};Vg.utils.checkPrefix=Cy,Vg.core.getStyleSaver=Ey,function(e,t,n,r){var i=Dv(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){$g[e]=1}));Dv(t,(function(e){Gp.units[e]="deg",Wy[e]=1})),sy[i[13]]=e+","+t,Dv("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");sy[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Dv("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){Gp.units[e]="px"})),Vg.registerPlugin(l_);var h_,c_,d_,f_,p_,v_,m_,g_,y_,__=Vg.registerPlugin(l_)||Vg,b_=(__.core.Tween,function(e){cs(n,e);var t=ds(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).onClick=void 0,i.app=void 0,i.btn=null,i.disabled=!1,i.playAnimation=__.timeline(),i.filter=new jl,i.onMouseOver=function(){i.disabled||(i.playAnimation.pause(),__.to(i.filter,{brightness:6}))},i.onMouseOut=function(){i.disabled||(i.playAnimation.play(),__.to(i.filter,{brightness:1}))},i.disable=function(){i.disabled=!0,i.btn&&(i.btn.eventMode="none"),i.playAnimation.pause(),__.to(i.filter,{brightness:.2})},i.enable=function(){i.disabled=!1,i.btn&&(__.to(i.filter,{brightness:1}),i.btn.eventMode="static")},i.lightUp=function(){i.playAnimation.fromTo(i.filter,{brightness:.1},{brightness:3,duration:4,ease:"bounce.out"},"<")},i.app=r,i.addSprite(),i.onClick=e,i.sortableChildren=!0,i.filter=new jl,i.filters=[i.filter],i.lightUp(),i}return s(n,[{key:"addSprite",value:function(){var e=_l(gl().mark((function e(){var t;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh.load("spin");case 2:t=e.sent,this.btn=Ol.from(t),this.addChild(this.btn),this.btn.eventMode="static",this.btn.texture.baseTexture.mipmap=ki.ON,this.btn.on("pointerdown",this.onClick),this.btn.on("mouseover",this.onMouseOver),this.btn.on("mouseout",this.onMouseOut),this.btnPosition(),this.btnSize(),this.blink(this.btn);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"btnPosition",value:function(){this.x=this.app.screen.width/2,this.y=.7*this.app.screen.height,Df(this.app.screen)&&(this.x=this.width,this.y=this.app.screen.height/2)}},{key:"btnSize",value:function(){this.btn&&(this.btn.width=this.btn.height=2*Bf(this.app.screen),this.btn.anchor.set(.5))}},{key:"blink",value:function(e){var t=__.timeline({repeat:-1,repeatDelay:1});t.to(e,{pixi:{tint:"rgb(180, 0, 180)"},duration:Math.random()+.1,repeat:3}),t.to(e,{pixi:{tint:"rgb(100,200, 100)"},duration:Math.random()+.05,repeat:2}),t.to(e,{pixi:{tint:"rgb(255, 255, 255)"},duration:Math.random()+2.5}),this.playAnimation.add(t)}},{key:"onResize",value:function(){this.btnPosition(),this.btnSize()}}]),n}(Rl)),x_=function(){return"undefined"!==typeof window},w_=function(){return h_||x_()&&(h_=window.gsap)&&h_.registerPlugin&&h_},k_=function(e){return"function"===typeof e},E_=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],T_=.212671,A_=.71516,S_=.072169,C_=function(e,t){var n,r,i=[],a=0,s=0;for(n=0;n<4;n++){for(r=0;r<5;r++)s=4===r?e[a+4]:0,i[a+r]=e[a]*t[r]+e[a+1]*t[r+5]+e[a+2]*t[r+10]+e[a+3]*t[r+15]+s;a+=5}return i},P_=function(e,t){var n=1-t,r=n*T_,i=n*A_,a=n*S_;return C_([r+t,i,a,0,0,r,i+t,a,0,0,r,i,a+t,0,0,0,0,0,1,0],e)},R_=function(e,t,n){var r=d_(t),i=r[0]/255,a=r[1]/255,s=r[2]/255,o=1-n;return C_([o+n*i*T_,n*i*A_,n*i*S_,0,0,n*a*T_,o+n*a*A_,n*a*S_,0,0,n*s*T_,n*s*A_,o+n*s*S_,0,0,0,0,0,1,0],e)},I_=function(e,t){t*=Math.PI/180;var n=Math.cos(t),r=Math.sin(t);return C_([T_+n*(1-T_)+r*-T_,A_+n*-A_+r*-A_,S_+n*-S_+r*(1-S_),0,0,T_+n*-T_+.143*r,A_+.28484*n+.14*r,S_+n*-S_+-.283*r,0,0,T_+n*-T_+-.787329*r,A_+n*-A_+r*A_,S_+n*(1-S_)+r*S_,0,0,0,0,0,1,0,0,0,0,0,1],e)},M_=function(e,t){return C_([t,0,0,0,.5*(1-t),0,t,0,0,.5*(1-t),0,0,t,0,.5*(1-t),0,0,0,1,0],e)},O_=function(e,t){var n,r,i=f_.filters[t],a=e.filters||[],s=a.length;for(i||(r=t+" not found. PixiPlugin.registerPIXI(PIXI)",console.warn(r));--s>-1;)if(a[s]instanceof i)return a[s];return n=new i,"BlurFilter"===t&&(n.blur=0),a.push(n),e.filters=a,n},D_=function(e,t,n,r){t.add(n,e,n[e],r[e]),t._props.push(e)},N_=function(e,t){var n=new f_.filters.ColorMatrixFilter;return n.matrix=t,n.brightness(e,!0),n.matrix},B_={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},L_=function(e,t,n){var r,i,a,s=O_(e,"ColorMatrixFilter"),o=e._gsColorMatrixFilter=e._gsColorMatrixFilter||function(e){var t,n={};for(t in e)n[t]=e[t];return n}(B_),u=t.combineCMF&&!("colorMatrixFilter"in t&&!t.colorMatrixFilter);a=s.matrix,t.resolution&&(s.resolution=t.resolution),t.matrix&&t.matrix.length===a.length?(i=t.matrix,1!==o.contrast&&D_("contrast",n,o,B_),o.hue&&D_("hue",n,o,B_),1!==o.brightness&&D_("brightness",n,o,B_),o.colorizeAmount&&(D_("colorize",n,o,B_),D_("colorizeAmount",n,o,B_)),1!==o.saturation&&D_("saturation",n,o,B_)):(i=E_.slice(),null!=t.contrast?(i=M_(i,+t.contrast),D_("contrast",n,o,t)):1!==o.contrast&&(u?i=M_(i,o.contrast):D_("contrast",n,o,B_)),null!=t.hue?(i=I_(i,+t.hue),D_("hue",n,o,t)):o.hue&&(u?i=I_(i,o.hue):D_("hue",n,o,B_)),null!=t.brightness?(i=N_(+t.brightness,i),D_("brightness",n,o,t)):1!==o.brightness&&(u?i=N_(o.brightness,i):D_("brightness",n,o,B_)),null!=t.colorize?(t.colorizeAmount="colorizeAmount"in t?+t.colorizeAmount:1,i=R_(i,t.colorize,t.colorizeAmount),D_("colorize",n,o,t),D_("colorizeAmount",n,o,t)):o.colorizeAmount&&(u?i=R_(i,o.colorize,o.colorizeAmount):(D_("colorize",n,o,B_),D_("colorizeAmount",n,o,B_))),null!=t.saturation?(i=P_(i,+t.saturation),D_("saturation",n,o,t)):1!==o.saturation&&(u?i=P_(i,o.saturation):D_("saturation",n,o,B_))),r=i.length;for(;--r>-1;)i[r]!==a[r]&&n.add(a,r,a[r],i[r],"colorMatrixFilter");n._props.push("colorMatrixFilter")},F_=function(e,t){var n=t.t,r=t.p,i=t.color;(0,t.set)(n,r,i[0]<<16|i[1]<<8|i[2])},U_=function(e,t){var n=t.g;n&&(n.dirty++,n.clearDirty++)},G_=function(e,t){t.t.visible=!!t.t.alpha},z_=function(e,t,n,r){var i=e[t],a=d_(k_(i)?e[t.indexOf("set")||!k_(e["get"+t.substr(3)])?t:"get"+t.substr(3)]():i),s=d_(n);r._pt=new p_(r._pt,e,t,0,0,F_,{t:e,p:t,color:a,set:v_(e,t)}),r.add(a,0,a[0],s[0]),r.add(a,1,a[1],s[1]),r.add(a,2,a[2],s[2])},j_={tint:1,lineColor:1,fillColor:1},H_="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),V_={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},X_={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},W_=Math.PI/180,Y_=function(e){return"string"===typeof e},q_=function(e){return Y_(e)&&"="===e.charAt(1)?e.substr(0,2)+parseFloat(e.substr(2))*W_:e*W_},K_=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e5*(t.s+t.c*e))/1e5,t)},Z_=function(e,t,n,r,i,a){var s,o,u=360*(a?W_:1),l=Y_(i),h=l&&"="===i.charAt(1)?+(i.charAt(0)+"1"):0,c=parseFloat(h?i.substr(2):i)*(a?W_:1),d=h?c*h:c-r,f=r+d;return l&&("short"===(s=i.split("_")[1])&&(d%=u)!==d%(u/2)&&(d+=d<0?u:-u),"cw"===s&&d<0?d=(d+1e10*u)%u-~~(d/u)*u:"ccw"===s&&d>0&&(d=(d-1e10*u)%u-~~(d/u)*u)),e._pt=o=new p_(e._pt,t,n,r,d,K_),o.e=f,o},Q_=function(){x_()&&(c_=window,h_=w_(),f_=f_||c_.PIXI,m_=f_&&f_.VERSION&&"4"===f_.VERSION.charAt(0),d_=function(e){return h_.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(g_=0;g_<H_.length;g_++)y_=H_[g_],V_[y_+"X"]=y_,V_[y_+"Y"]=y_;var J_={version:"3.11.5",name:"pixi",register:function(e,t,n){h_=e,p_=n,v_=t.getSetter,Q_()},registerPIXI:function(e){f_=e},init:function(e,t,n,r,i){if(f_||Q_(),!f_||!(e instanceof f_.DisplayObject))return console.warn(e,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var a,s,o,u,l,h,c,d,f;for(h in t){if(a=V_[h],o=t[h],a)s=~h.charAt(h.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[a],s,e[a][s],"skew"===a?q_(o):o,0,0,0,0,0,1);else if("scale"===h||"anchor"===h||"pivot"===h||"tileScale"===h)this.add(e[h],"x",e[h].x,o),this.add(e[h],"y",e[h].y,o);else if("rotation"===h||"angle"===h)Z_(this,e,h,e[h],o,"rotation"===h);else if(X_[h])u||(L_(e,t.colorMatrixFilter||t,this),u=!0);else if("blur"===h||"blurX"===h||"blurY"===h||"blurPadding"===h){if(l=O_(e,"BlurFilter"),this.add(l,h,l[h],o),0!==t.blurPadding)for(c=t.blurPadding||2*Math.max(l[h],o),d=e.filters.length;--d>-1;)e.filters[d].padding=Math.max(e.filters[d].padding,c)}else if(j_[h])if(("lineColor"===h||"fillColor"===h)&&e instanceof f_.Graphics)for(f=(e.geometry||e).graphicsData,this._pt=new p_(this._pt,e,h,0,0,U_,{g:e.geometry||e}),d=f.length;--d>-1;)z_(m_?f[d]:f[d][h.substr(0,4)+"Style"],m_?h:"color",o,this);else z_(e,h,o,this);else"autoAlpha"===h?(this._pt=new p_(this._pt,e,"visible",0,0,G_),this.add(e,"alpha",e.alpha,o),this._props.push("alpha","visible")):"resolution"!==h&&this.add(e,h,"get",o);this._props.push(h)}}};w_()&&h_.registerPlugin(J_),__.registerPlugin(J_),J_.registerPIXI({DisplayObject:Tl,Application:uh,Container:Rl,Sprite:Ol,ColorMatrixFilter:jl});var $_=function(e){cs(n,e);var t=ds(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).symbolHeight=void 0,a.symbolIndex=void 0,a.symbol=void 0,a.app=void 0,a.app=i,a.symbolHeight=Bf(i.screen),a.symbolIndex=e,a.symbol=Ol.from(r),a.symbol.texture.baseTexture.mipmap=ki.ON,a.addChild(a.symbol),a.postionSymbol(),a.blink(),a}return s(n,[{key:"postionSymbol",value:function(){var e=Bf(this.app.screen);this.symbol.width=this.symbol.height=e,this.symbol.anchor.set(.5,.5),this.symbol.y=this.symbolIndex*e}},{key:"blink",value:function(){var e=__.timeline({repeat:-1,repeatDelay:1});e.to(this.children,{pixi:{tint:"rgb(255, 255, 180)"},duration:Math.random()+.1,repeat:3}),e.to(this.children,{pixi:{tint:"rgb(130, 150, 255)"},duration:Math.random()+.1,repeat:2}),e.to(this.children,{pixi:{tint:"rgb(255, 255, 255)"},duration:Math.random()+.1}),e.play()}},{key:"win",value:function(){var e=_l(gl().mark((function e(){var t,n;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new jl,this.filters=[t],(n=__.timeline()).fromTo(t,{brightness:1},{brightness:12,duration:4},"<"),n.fromTo(t,{brightness:12},{brightness:1,duration:3}),n.play();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lost",value:function(){var e=this.children[0].scale,t=Math.PI*(.05*Math.random()),n=__.timeline();n.fromTo(this.children,{rotation:t,pixi:{scaleX:.8*e.x,scaleY:.8*e.y}},{rotation:-t,pixi:{scaleX:1.2*e.x,scaleY:1.2*e.y},duration:.02,yoyo:!0,repeat:10}),n.to(this.children,{rotation:0})}},{key:"onResize",value:function(){this.postionSymbol()}}]),n}(Rl),eb=function(e){cs(n,e);var t=ds(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).reelIndex=void 0,a.app=void 0,a.symbols=[],a.initialSymbols=[],a.winAnimation=function(){a.symbols[1].win()},a.lostAnimation=function(){a.symbols[1].lost()},a.app=r,a.reelIndex=e,a.initialSymbols=i,a.initialSymbols.forEach((function(e,t){var n=new $_(t,e,r);a.addChild(n),a.symbols.push(n)})),a.sortableChildren=!0,a.containerPosition(),a}return s(n,[{key:"containerPosition",value:function(){this.pivot.set(0,0),this.x=(Bf(this.app.screen)+20)*this.reelIndex,this.y=0}},{key:"addSymbols",value:function(e){var t=this;e.forEach((function(e,n){var r=new $_(-n-1,e,t.app);t.addChild(r),t.symbols.push(r)}))}},{key:"onResize",value:function(){this.containerPosition(),this.symbols.forEach((function(e){return e.onResize()}))}}]),n}(Rl),tb=function(e){var t=[];if(e){for(var n=0;n<Lf;n++){var r=Math.floor(Math.random()*Ff.length);t.push(Ff[r])}return t[t.length-2]="star",t}for(var i=0;i<Lf;i++){var a=Math.floor(Math.random()*Ff.length);t.push(Ff[a])}return t},nb=function(){for(var e=[],t=0;t<3;t++){var n=Math.floor(Math.random()*Ff.length);e.push(Ff[n])}return e},rb=function(e){cs(n,e);var t=ds(n);function n(e){var r;o(this,n),(r=t.call(this)).app=void 0,r.symbolsKeys=[],r.reels=[],r.cheatMode=!1,r.winAnimation=_l(gl().mark((function e(){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.reels.forEach(function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.winAnimation();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),r.lostAnimation=_l(gl().mark((function e(){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.reels.forEach((function(e){e.lostAnimation()}));case 2:case"end":return e.stop()}}),e)}))),r.checkIfWins=function(){if(r.symbolsKeys.length>=3&&r.middleLine())return!0},r.middleLine=function(){return r.symbolsKeys.map((function(e){return e[1]})).every((function(e){return e===r.symbolsKeys[0][1]}))},r.app=e;for(var i=0;i<3;i++){var a=new eb(i,e,nb());r.addChild(a),r.reels.push(a)}return r.positionContainer(),r}return s(n,[{key:"positionContainer",value:function(){var e=Bf(this.app.screen);this.sortableChildren=!0,this.pivot.set(this.width/2,0),this.position.set(this.app.screen.width/2+e/2,1.75*e)}},{key:"addSymbols",value:function(){var e=_l(gl().mark((function e(t){var n;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.symbolsKeys=[],e.next=3,tb(this.cheatMode);case 3:n=e.sent,t.addSymbols(n),this.symbolsKeys.push(n.slice(-3).reverse());case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"afterSpinning",value:function(){for(var e=3;e>=0;e--)this.removeChild(this.children[e]);this.reels=[];for(var t=0;t<3;t++){var n=new eb(t,this.app,this.symbolsKeys[t]);this.addChild(n),this.reels.push(n)}}},{key:"onResize",value:function(){this.positionContainer(),this.reels.forEach((function(e){e.onResize()}))}}]),n}(Rl),ib=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),(r=t.call(this)).app=void 0,r.symbolHeight=void 0,r.app=e,r.symbolHeight=Bf(e.screen),r.createMask(e),r}return s(n,[{key:"createMask",value:function(e){this.beginFill("black"),this.drawRect(0,0,5*e.screen.width,3*this.symbolHeight),this.endFill(),e.stage.addChild(this),this.mask=this,this.pivot.set(this.width/2,0),this.y=1.25*this.symbolHeight,this.x=e.screen.width/2}},{key:"onResize",value:function(){var e=Bf(this.app.screen);this.y=1.25*e,this.height=3*e,this.x=this.app.screen.width/2}}]),n}(xd),ab=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;o(this,n),(i=t.call(this)).style=new Ld({fontFamily:"arial",fontSize:36,fontWeight:"bold",fill:["#020F9C","#1F98FA"],stroke:"rgb(255, 255, 130)",strokeThickness:1,lineJoin:"round"}),i.createText=function(e){var t=new jd(e,i.style);i.zIndex=2,i.addChild(t)},i.positionContainer=function(e){i.pivot.set(i.width/2,i.height/2),i.y=300,i.x=e.width/2};var a="Big win!!! ".concat(r);return i.createText(a),i.positionContainer(e),i}return s(n)}(Rl),sb=function(e){cs(n,e);var t=ds(n);function n(e,r,i){var a,s;return o(this,n),(a=t.call(this)).app=void 0,a.glows=[],a.symbolHeight=void 0,a.size=void 0,a.text=void 0,a.playBtn=void 0,a.prepareNewScreen=function(){a.glows.forEach((function(e){return a.removeChild(e)})),a.glows=[],a.drawGlows("lightGlow",20),a.drawGlows("pinkGlow",10),a.drawGlows("lightpinkGlow",10),a.drawGlows("blueGlow",20)},a.showGlows=function(){var e=__.timeline();e.fromTo(a.glows,{pixi:{alpha:0}},{pixi:{alpha:1},stagger:.02,ease:"back",duration:.5,delay:.5,onStart:a.playWinSound}),e.to(a.glows,{x:a.app.screen.width/2,y:3*a.symbolHeight,width:a.size,height:a.size,alpha:.5,onStart:a.playWinSound,duration:1.5}),e.fromTo(a.text,{alpha:0},{alpha:1,ease:"rough",duration:2},"<"),e.to(a.glows,{alpha:0,width:2*a.size,height:2*a.size,duration:.5}),e.set(os(a),{visible:!1,onComplete:a.cleanUp})},a.playWinSound=function(){Ep.stop("neon"),Ep.play("winSound")},a.cleanUp=function(){a.app.stage.removeChild(os(a)),a.playBtn.enable()},a.app=e,a.visible=!1,a.symbolHeight=Bf(e.screen),a.size=(s=a.app.screen).width>=s.height?s.width:s.height,a.playBtn=i,a.sortableChildren=!0,a.prepareNewScreen(),a.text=new ab(e.screen,r),a.addChild(a.text),a}return s(n,[{key:"showScreen",value:function(){this.visible=!0,this.showGlows()}},{key:"drawGlows",value:function(){var e=_l(gl().mark((function e(t,n){var r,i,a,s,o;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<n)){e.next=17;break}return i=Math.random(),a=Math.random(),e.next=6,Wh.load(t);case 6:s=e.sent,(o=Ol.from(s)).position.set(this.app.screen.width*i,this.app.screen.height*a),o.anchor.set(.5),o.alpha=0,o.scale.set(i+1),this.addChild(o),this.glows.push(o);case 14:r++,e.next=1;break;case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Rl),ob=function(e){cs(n,e);var t=ds(n);function n(e){var r;o(this,n),(r=t.call(this)).app=void 0,r.border=void 0,r.overlay=new xd,r.borderSize=function(e){r.border.width=7.5*e,r.border.height=6.75*e},r.app=e;var i=Bf(r.app.screen);return r.addOverlay(i),r.border=Ol.from("border-neon"),r.addChild(r.border),r.borderSize(i),r.positionContainer(i),r.postionOverlay(i),r}return s(n,[{key:"positionContainer",value:function(e){this.pivot.set(this.width/2+e/2,0),this.y=-e/2,this.x=this.app.screen.width/2+e/2}},{key:"addOverlay",value:function(e){this.addChild(this.overlay),this.overlay.beginFill("rgba(0,0,0,0.5)"),this.overlay.drawRect(0,0,this.getOverlayWidth(e),this.getOverlayHeight(e)),this.overlay.endFill(),this.overlay.pivot.set(0,0)}},{key:"getOverlayWidth",value:function(e){return 3*(e+Nf)+Nf}},{key:"getOverlayHeight",value:function(e){return 3*(e+Nf)+Nf}},{key:"postionOverlay",value:function(e){this.overlay.y=1.75*e,this.overlay.x=2.125*e}},{key:"onResize",value:function(e){var t=Bf(e.screen);this.borderSize(t),this.positionContainer(t),this.overlay.width=this.getOverlayWidth(t),this.overlay.height=this.getOverlayHeight(t),this.postionOverlay(t)}}]),n}(Rl),ub=function(e){cs(n,e);var t=ds(n);function n(e){var r;return o(this,n),(r=t.call(this)).background=null,r.screen=void 0,r.screen=e.screen,r.createBackground(e),r}return s(n,[{key:"createBackground",value:function(){var e=_l(gl().mark((function e(t){return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.background=Ol.from("night"),this.background.anchor.set(.5,0),this.addChild(this.background),this.setPosition(t.screen);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPosition",value:function(e){this.background&&(this.background.scale.x=Math.max(e.width,e.height)/this.background.height,this.background.scale.y=this.background.scale.x,this.background.x=e.width/2)}}]),n}(Rl);var lb=function(e){cs(n,e);var t=ds(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).onClick=void 0,i.app=void 0,i.enabled=!1,i.playAnimation=__.timeline(),i.filter=new jl,i.checkbox=null,i.checked=null,i.text=null,i.toggleBtn=function(){i.enabled?(i.disable(),i.checked&&(i.checked.visible=!1)):i.enabled||(i.enable(),i.checked&&(i.checked.visible=!0))},i.enable=function(){i.enabled=!0,__.to(i.filter,{brightness:6}),console.log("enabled set to ",i.enabled)},i.disable=function(){i.enabled=!1,__.to(i.filter,{brightness:1})},i.onMouseOver=function(){__.to(i.filter,{brightness:6})},i.onMouseOut=function(){console.log(i.enabled),i.enabled||__.to(i.filter,{brightness:1})},i.app=r,i.addSprite("checkbox"),i.addSprite("checked"),i.addText(),i.onClick=e,i.sortableChildren=!0,i.filter=new jl,i.filters=[i.filter],i.containerPosition(),i}return s(n,[{key:"addSprite",value:function(){var e=_l(gl().mark((function e(t){var n,r;return gl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh.load(t);case 2:n=e.sent,r=Ol.from(n),this.addChild(r),r.eventMode="static",r.texture.baseTexture.mipmap=ki.ON,r.on("pointerdown",this.onClick),r.on("mouseover",this.onMouseOver),r.on("mouseout",this.onMouseOut),this[t]=r,this.btnSize(t),this.containerPosition(),this.checked&&(this.checked.visible=!1);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"containerPosition",value:function(){Df(this.app.screen)?(this.x=Bf(this.app.screen)/2,this.y=this.app.screen.height-this.height):(this.x=this.app.screen.width-this.text.width,this.y=10)}},{key:"btnSize",value:function(e){this[e]&&(this[e].width=this[e].height=Bf(this.app.screen)/2,this[e].x=-this[e].width)}},{key:"addText",value:function(){var e=new Ld({fontFamily:"arial",fontSize:18,fill:["#FFFF66","LemonChiffon"],stroke:"black",strokeThickness:1,lineJoin:"round"}),t=new jd("cheat mode",e);this.addChild(t),this.text=t,t.anchor.set(0,.5),t.position.set(0,Bf(this.app.screen)/4)}},{key:"onResize",value:function(){this.btnSize("checkbox"),this.btnSize("checked"),this.containerPosition()}}]),n}(Rl),hb=Gr((function(){var t,n,r,i,a,s,o,u,l,h=(0,e.useRef)(null),c=Hr().budget,d=c.won,f=c.payForBet,p=c.toWin;function v(){n.cheatMode=!n.cheatMode,o.toggleBtn()}function m(){Ep.play("neon"),l.disable(),f(),u=new sb(t,p(),l),t.stage.addChild(u),r.forEach((function(e){n.addSymbols(e)})),function(e,t,n,r,i){var a=Bf(e);function s(){n.afterSpinning(),n.checkIfWins()?(i(),n.winAnimation(),r.showScreen()):(n.lostAnimation(),r.cleanUp())}Ep.play("neon"),function(){var e=__.timeline(),n=a*Lf;e.to(t,{y:n,duration:2,stagger:.2,onComplete:s})}()}(t.screen,r,n,u,d)}var g=function(e){e.renderer.resize(window.innerWidth,window.innerHeight),a.setPosition(e.screen),i.onResize(e),n.onResize(),s.onResize(),l.onResize(),o.onResize()};return(0,e.useEffect)((function(){return t=new uh({backgroundColor:"#000000",resizeTo:window}),h.current.appendChild(t.view),t.start(),globalThis.__PIXI_APP__=t,window.addEventListener("resize",(function(){g(t)})),window.screen.orientation.addEventListener("change",(function(){g(t)})),Ap().then((function(){t&&((t=t).stage.sortableChildren=!0,a=new ub(t),t.stage.addChild(a),l=new b_(m,t),t.stage.addChild(l),i=new ob(t),t.stage.addChild(i),n=new rb(t),t.stage.addChild(n),n.positionContainer(),r=n.children,s=new ib(t),t.stage.addChild(s),n.mask=s,o=new lb(v,t),t.stage.addChild(o))})),function(){t&&t.stop()}}),[]),(0,Vr.jsx)("div",{ref:h})})),cb=hb,db=function(e){var t=e.onClose;return(0,Vr.jsxs)("div",{className:"modal",children:[(0,Vr.jsxs)("div",{className:"info-header",children:[(0,Vr.jsx)("h2",{className:"blue-neon",children:"Info"}),(0,Vr.jsx)("button",{className:"blue-neon close-btn",onClick:t,children:(0,Vr.jsx)(ti,{})})]}),(0,Vr.jsx)("div",{className:"about",children:(0,Vr.jsx)("p",{children:"This is slot game created during Evolution Typescript Bootcamp. Good luck!"})}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"blue-neon",children:"Resources"}),(0,Vr.jsx)("h4",{children:"Images"}),(0,Vr.jsxs)("ul",{children:[(0,Vr.jsxs)("li",{children:["Image by"," ",(0,Vr.jsx)("a",{href:"https://www.freepik.com/free-vector/assortment-neon-light-signs_1090969.htm#query=neon%20icons&position=0&from_view=author",children:"Freepik"})]}),(0,Vr.jsxs)("li",{children:["Image by"," ",(0,Vr.jsx)("a",{href:"https://www.freepik.com/free-vector/neon-frame-design_18491888.htm#page=3&query=border%20glow%20neon&position=25&from_view=search&track=robertav1_2_sidr",children:"Freepik"})]}),(0,Vr.jsxs)("li",{children:[(0,Vr.jsx)("a",{href:"https://www.freepik.com/free-vector/futuristic-night-city-background_4359761.htm#query=city%20night%20futuristic&position=9&from_view=search&track=ais",children:"Image by pikisuperstar"})," ","on Freepik"]})]}),(0,Vr.jsx)("h4",{children:"Images"}),(0,Vr.jsxs)("ul",{children:[(0,Vr.jsxs)("li",{children:[(0,Vr.jsx)("a",{href:"https://opengameart.org/content/summertown",children:"Summer City by LushoGames"})," ","on OpenGamesArt"]}),(0,Vr.jsxs)("li",{children:[(0,Vr.jsx)("a",{href:"https://freesound.org/people/sepal/sounds/121994/",children:"Neon tube by Sepal"})," ","on freesound.org"]}),(0,Vr.jsxs)("li",{children:[(0,Vr.jsxs)("a",{href:"https://www.zapsplat.com/music/fruit-machine-sound-win-or-spin-tone-2/",children:["Fruit machine sound, win or spin tone 2"," "]})," ","by ZapSplat"]})]})]})]})},fb=function(){var t=la((0,e.useState)(!1),2),n=t[0],r=t[1];return(0,Vr.jsxs)("div",{className:"infoBtn-container",children:[(0,Vr.jsx)("a",{className:"btn",onClick:function(){return r(!0)},children:"info"})," ",n&&(0,Tr.createPortal)((0,Vr.jsx)(db,{onClose:function(){return r(!1)}}),document.body)]})},pb=function(){var t=la((0,e.useState)(!0),2),n=t[0],r=t[1];return(0,Vr.jsxs)("div",{className:"loading-screen ".concat(n&&"isVisible"," "),children:[(0,Vr.jsx)("h2",{className:"blue-neon",children:"Neon slot game"}),(0,Vr.jsx)("a",{className:"btn",onClick:function(){return r(!1)},children:"Play slots"})]})};var vb=function(){return(0,Vr.jsx)(kr.Provider,{value:Er,children:(0,Vr.jsxs)("div",{className:"App",children:[(0,Vr.jsx)(pb,{}),(0,Vr.jsx)(cb,{}),(0,Vr.jsx)(fb,{}),(0,Vr.jsx)(oi,{})]})})},mb=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),a(e),s(e)}))};t.createRoot(document.getElementById("root")).render((0,Vr.jsx)(vb,{})),mb()}()}();
//# sourceMappingURL=main.ec94cac2.js.map